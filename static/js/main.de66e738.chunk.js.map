{"version":3,"sources":["util/rev_parse.js","components/Comment.js","components/MobComment.js","util/char.js","util/dummy.js","components/Cutter.js","components/Party.js","components/SetParty.js","components/Register.js","components/SearchParty.js","components/Search.js","components/Part.js","components/CharSet.js","components/TeamSet.js","components/Rank.js","components/Stat.js","components/MobCutter.js","components/MobParty.js","components/MobSetParty.js","components/MobSearchParty.js","components/MobSearch.js","components/MobRegister.js","components/MobPart.js","components/MobRank.js","components/MobStat.js","components/Container.js","components/Routes.js","components/MobNav.js","components/Nav.js","components/App.js","index.js","util/distance.ts","util/char_parse.js","components/Match.js","components/MobMatch.js","util/prime.js","components/Block.tsx"],"names":["module","exports","Rima","Miyako","Kuuka","Jyun","OedoKuuka","Kaori","NewRei","Pekorinne","Ruka","Nozomi","Muimi","Makoto","NewHiyori","OedoNinon","Akino","SummerMakoto","Matsuri","ValentineEriko","ChristmasAyane","Tsumugi","Hiyori","Misogi","Ayane","Tamaki","Tomo","SummerTamaki","Eriko","SummerPekorinne","Kurumi","Djeeta","Rei","Shizuru","Christina","ChristmasKurumi","Mimi","Shinobu","ValentineShizuru","Mahiru","Yukari","Monika","Ninon","Mifuyu","Ilya","SummerKaori","Saren","Anna","HalloweenShinobu","SummerMifuyu","Kokkoro","Ayumi","Glare","SummerKokkoro","Rem","Ram","Rin","Mitsuki","Akari","Yori","SummerSaren","HalloweenMiyako","Arisa","Ann","Rou","Neneka","Rino","Suzuna","SummerSuzuna","Shiori","Io","SummerIo","Suzume","Emilia","Kasumi","Misato","Nanaka","NewYui","Kyaru","Hatsune","Misaki","ChristmasChika","SummerSuzume","SummerKyaru","Aoi","Chika","SummerMaho","Maho","Yui","Yuki","Kyouka","HalloweenMisaki","axios","require","parse","char","Slot","props","c","character","state","image","x","getCoord","indexOf","XCoord","y","YCoord","window","Image","src","this","setState","Yblank","onload","oldProps","newProps","setX","width","height","crop","stroke","strokeWidth","React","Component","Comment","errShow","modalShow","title_msg","msg","deleted","errorHide","bind","errorShow","deleteComment","_","a","dat","matchId","commentId","comment","memo","action","mPath","path","method","url","data","headers","Accept","message","modalHide","del","charName","setY","fontSize","fontFamily","fontStyle","fontColor","text","align","uploadedDate","onClick","show","onHide","dialogClassName","aria-labelledby","Header","Title","Body","Footer","variant","MobComment","onTap","__esModule","netX","netY","Cutter","p","party","getChar","map","value","index","Block","Math","floor","scale","key","Party","sort","getX","arr","tmp","slice","dummy","res","i","length","max","slot","j","dist","push","splice","unshift","SetParty","context","mainText","inputHandler","addParty","handleShow","handleHide","clearParty","forceUpdate","handle","e","target","includes","Button","className","Modal","Form","ref","Row","Group","as","Col","controlId","Control","onChange","maxLength","defParty","attParty","topicText","subText","smallText","Register","selectedFile","loaded","overload","isSending","form","attackPower","defensePower","attackStar","defenseStar","matchResult","arena","fileHandler","validatePower","validateStarAndDeck","validateFile","sendDatatoS3","sendFiletoS3","setStar","setDeck","setSelection","checkForm","resetForm","refs","reset","files","size","eName","name","eVal","preventDefault","f","attackNum","attackDeck","first","defenseNum","defenseDeck","s3","d","pow","atk","aParty","log10","second","third","fourth","fifth","dfs","dParty","at","pop","df","result","FormData","getBase64","append","status","console","log","undefined","imagePath","str","JSON","stringify","resp","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onerror","error","Alert","style","Label","placeholder","type","accept","alert","setCoord","star","s","fill","SearchParty","goProfile","getProps","checkLink","showMemo","upClicked","downClicked","setVotes","vote","voting","attackImage","defenseImage","upImage","downImage","magImage","upHighlighted","downHighlighted","match","upvotes","downvotes","link","attackSorted","defenseSorted","date","uv","dv","toString","param","v","m","up","Number","down","aImage","dImage","mag","attackParty","defenseParty","attd","defd","ap","dp","atts","defs","replace","switchFire","search","setSearchPath","to","opacity","stars","results","searched","offset","queryItems","Search","getSearch","validateDeck","updateOffset","getCount","items","count","power","deck","num","params","Pagination","Item","active","First","Prev","Ellipsis","Next","Last","queried","Part","deckType","ceil","CharSet","stat","comp","mob","Duo","team","primeChar","duos","sorted","Trio","trios","TeamSet","isDuo","setRank","txt","Rank","getBack","goLink","showResult","charset","duoset","trioset","chartext","duotext","triotext","Stat","getStat","getValue","getSort","getText","goChar","goDuo","goTrio","stats","mag_img","obj","allbattle","allprincess","cnt","net","achar","aduo","atrio","dchar","dduo","dtrio","entity","val","sortProperties","cutchar","cutduo","cuttrio","sortedBy","isNumericSort","reverse","reversed","sortable","hasOwnProperty","b","toLowerCase","MobCutter","MobParty","MobSetParty","MobSearchParty","MobSearch","MobRegister","MobPart","MobRank","MobStat","fireMatch","setWidth","pageSearch","Container","Card","pageMobSearch","pageRegister","pageMobRegister","pageMatch","Match","fire","pageMobMatch","MobMatch","pagePart","pageMobPart","pageStat","pageMobStat","pageRank","pageMobRank","mobile","Routes","exact","component","MobNav","fav","bg","brand","register","part","setSearch","setRegister","setPart","setStat","back","brandText","menuText","Navi","getNav","Navbar","Brand","alt","float","Toggle","aria-controls","Collapse","id","Nav","Link","href","rel","App","ReactDOM","render","document","getElementById","리마","푸딩","미야코","쿠우카","쥰","오에도쿠우카","오우카","카오리","신레이","뉴레이","시부린","페코린느","루카","노조미","무이미","마코토","카야","뉴요리","오니논","오논","오에도니논","아키노","수코토","수영복마코토","마츠리","발리코","발렌타인에리코","성야네","크야네","츠무기","히요리","미소기","아야네","타마키","토모","치에루","치엘","수마키","수영복타마키","에리코","수페코","수영복페코린느","쿠루미","지타","레이","시즈루","크리스티나","성루미","크루미","미미","시노부","우즈키","발즈루","발렌타인시즈루","마히루","유카리","모니카","니논","미후유","이리야","수오리","수영복카오리","사렌","안나","할노부","할로윈시노부","수후유","수영복미후유","콧코로","아유미","글레어","수코로","수영복콧코로","렘","람","린","미츠키","아카리","요리","수사렌","수영복사렌","할푸딩","할로윈푸딩","할로윈미야코","아리사","앤","루","네네카","혼다","미오","리노","스즈나","수즈나","수영복스즈나","시오리","이오","수이오","수영복이오","스즈메","에밀리아","카스미","미사토","나나카","뉴이","캬루","하츠네","미사키","루나","성치카","수즈메","수영복스즈메","수캬루","수영복캬루","아오이","치카","수마호","수영복마호","마호","유이","유키","유니","쿄우카","할사키","할로윈미사키","fileType","fromSearch","searchPath","resultImageFile","comments","getResult","showComment","putComment","checkImg","setComment","resultImage","deleteImage","imageWidth","imageHeight","checkSize","w","h","sPath","str2","img","Buffer","resImg","delImg","ext","statusCode","doComment","oldStates","prime","ClickChar"],"mappings":"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AAM2B,UACjBqC,OAAQrD,KAAKwC,UACbc,gBAAgB,eAChBC,kBAAgB,sCAGd,kBAAC,IAAMC,OAAP,KACE,kBAAC,IAAMC,MAAP,KACGzD,KAAKX,MAAM4B,YAGhB,kBAAC,IAAMyC,KAAP,KACG1D,KAAKX,MAAM6B,KAEd,kBAAC,IAAMyC,OAAP,KACE,kBAAC,IAAD,CAAQC,QAAQ,UAAUT,QAASnD,KAAKwC,WAAxC,uBAlKZ,GAAgC5B,IAAMC,Y,sEC9FtC3H,EAAQ6K,YAAa,EAoHrB7K,EAAO,QAnHI,CACP,QACA,SACA,UACA,OACA,QACA,SACA,SACA,QACA,SACA,QACA,SACA,UACA,SACA,OACA,QACA,QACA,UACA,SACA,SACA,SACA,SACA,QACA,UACA,YACA,QACA,kBACA,QACA,OACA,UACA,UACA,QACA,MACA,gBACA,SACA,SACA,OACA,QACA,OACA,OACA,SACA,OACA,OACA,MACA,SACA,SACA,SACA,QACA,OACA,MACA,SACA,KACA,MACA,SACA,cACA,eACA,OACA,eACA,kBACA,mBACA,eACA,UACA,kBACA,YACA,OACA,SACA,iBACA,kBACA,iBACA,SACA,SACA,YACA,mBACA,iBACA,QACA,SACA,QACA,MACA,MACA,QACA,YACA,YACA,MACA,MACA,SACA,WACA,eACA,cACA,cACA,eACA,aACA,SACA,cACA,QACA,kBACA,kBACA,gBACA,OACA,OACA,kBACA,qBACA,gBACA,YACA,WACA,aACA,gBACA,gBACA,oBACA,MACA,QACA,WACA,OACA,SACA,c,gCCnHJ,kCAAO,IAAI+I,EAET,0B,mXCGE+B,EAAO,EACPC,EAAO,EAkBJ,IAAMC,EAAb,YACE,WAAYhF,GAAQ,IAAD,8BACjB,4CAAMA,KACDG,MAAQ,CACX8E,EAAG,EAAKjF,MAAMkF,OAHC,EADrB,sEAQY,IAAD,OACHjF,EAAIkF,cAGR,OAFAL,EAAO,EACPC,EAAO,EAEL,kBAAC,QAAD,CAAO1D,MAAO,IAAKC,OAAQ,KACzB,kBAAC,QAAD,KACGrB,EAAEmF,KAAI,SAACC,EAAOC,GACb,OACE,kBAACC,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","file":"static/js/main.de66e738.chunk.js","sourcesContent":["var revchar = {\n    //Front Line\n    Rima: '리마',\n    Miyako: '미야코',\n    Kuuka: '쿠우카',\n    Jyun: '쥰',\n    OedoKuuka: '쿠우카(오에도)',\n    Kaori: '카오리',\n    NewRei: '레이(새해)',\n    Pekorinne: '페코린느',\n    Ruka: '루카',\n    Nozomi: '노조미',\n    Muimi: '무이미',\n    Makoto: '마코토',\n    NewHiyori: '히요리(새해)',\n    OedoNinon: '니논(오에도)',\n    Akino: '아키노',\n    SummerMakoto: '마코토(여름)',\n    Matsuri: '마츠리',\n    ValentineEriko: '에리코(발렌타인0',\n    ChristmasAyane: '아야네(성탄절)',\n    Tsumugi: '츠무기',\n    Hiyori: '히요리',\n    Misogi: '미소기',\n    Ayane: '아야네',\n    Tamaki: '타마키',\n    Tomo: '토모',\n    SummerTamaki: '타마키(여름)',\n    Eriko: '에리코',\n    SummerPekorinne: '페코린느(여름)',\n    Kurumi: '쿠루미',\n    Djeeta: '지타',\n    Rei: '레이',\n    Shizuru: '시즈루',\n    Christina: '크리스티나',\n    ChristmasKurumi: '쿠루미(성탄절)',\n    //Middle Line\n    Mimi: '미미',\n    Shinobu: '시노부',\n    ValentineShizuru: '시즈루(발렌타인)',\n    Mahiru: '마히루',\n    Yukari: '유카리',\n    Monika: '모니카',\n    Ninon: '니논',\n    Mifuyu: '미후유',\n    Ilya: '이리야',\n    SummerKaori: '카오리(여름)',\n    Saren: '사렌',\n    Anna: '안나',\n    HalloweenShinobu: '시노부(할로윈)',\n    SummerMifuyu: '미후유(여름)',\n    Kokkoro: '콧코로',\n    Ayumi: '아유미',\n    Glare: '글레어',\n    SummerKokkoro: '콧코로(여름)',\n    Rem: '렘',\n    Ram: '람',\n    Rin: '린',\n    Mitsuki: '미츠키',\n    Akari: '아카리',\n    Yori: '요리',\n    SummerSaren: '사렌(여름)',\n    HalloweenMiyako: '미야코(할로윈)',\n    //Back Line\n    Arisa: '아리사',\n    Ann: '앤',\n    Rou: '루',\n    Neneka: '네네카',\n    Rino: '리노',\n    Suzuna: '스즈나',\n    SummerSuzuna: '스즈나(여름)',\n    Shiori: '시오리',\n    Io: '이오',\n    SummerIo: '이오(여름)',\n    Suzume: '스즈메',\n    Emilia: '에밀리아',\n    Kasumi: '카스미',\n    Misato: '미사토',\n    Nanaka: '나나카',\n    NewYui: '유이(새해)',\n    Kyaru: '캬루',\n    Hatsune: '하츠네',\n    Misaki: '미사키',\n    ChristmasChika: '치카(성탄절)',\n    SummerSuzume: '스즈메(여름)',\n    SummerKyaru: '캬루(여름)',\n    Aoi: '아오이',\n    Chika: '치카',\n    SummerMaho: '마호(여름)',\n    Maho: '마호',\n    Yui: '유이',\n    Yuki: '유키',\n    Kyouka: '쿄우카',\n    HalloweenMisaki: '미사키(할로윈)'\n};\nmodule.exports = revchar;\n","import React from 'react';\nimport {\n  Image,\n  Text,\n  Stage,\n  Layer\n} from 'react-konva';\nimport {\n  Button,\n  Modal\n} from 'react-bootstrap';\n\nimport '../css/daum.css';\nimport '../css/text.css';\n\nimport { getCoord, Yblank } from './Block.tsx';\nimport char from '../util/char';\nimport { path } from '../util/dummy';\n\nvar axios = require('axios');\n\nlet parse = require('../util/char_parse.js').char;\nlet scale = 60;\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c)).XCoord,\n      y: getCoord(char.indexOf(c)).YCoord\n    };\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/characters.jpg\";\n    if (this.props.character === \"Empty\") {\n      this.setState({\n        x: 1100,\n        y: Yblank\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c)).XCoord,\n        y: getCoord(char.indexOf(c)).YCoord\n      });\n    }\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if(newProps.character !== oldProps.character) {\n      if (newProps.character === \"Empty\") {\n        this.setState({\n          x: 1100,\n          y: Yblank\n        });\n      } else {\n        let c = newProps.character;\n        this.setState({\n          x: getCoord(char.indexOf(c)).XCoord,\n          y: getCoord(char.indexOf(c)).YCoord\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <Image\n      x={this.props.setX}\n      y={2}\n      width={scale}\n      height={scale}\n      image={this.state.image}\n      crop = {{\n        x: this.state.x,\n        y: this.state.y,\n        width: 76,\n        height: 76\n      }}\n      stroke={'black'}\n      strokeWidth={2}\n      />\n    );\n  }\n}\n\nexport class Comment extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      errShow: false,\n      modalShow: false,\n      title_msg: \"덧글 삭제\",\n      msg: \"정말 삭제하시겠습니까?\",\n      deleted: false\n    };\n\n    this.errorHide = this.errorHide.bind(this);\n    this.errorShow = this.errorShow.bind(this);\n\n    this.deleteComment = () => {\n      (async _ => {\n        let dat = {\n          matchId: this.props.matchId,\n          commentId: this.props.comment.commentId['S'],\n          memo: 'PlaceHolder',\n          action: 'delete'\n        }\n        let mPath = path + 'api/put-comment';\n        let res = await axios({\n          method: 'put',\n          url: mPath,\n          data: dat,\n          headers: {\n            Accept: \"application/json\"\n          }\n        });\n        if (res.data.message === 'Forbidden Comment Deletion') {\n          this.setState({\n            modalShow: true,\n            errShow: false,\n            title_msg: \"삭제 실패\",\n            msg: \"권한이 없습니다.\",\n            deleted: false\n          });\n          return;\n        }\n        this.setState({\n          modalShow: true,\n          errShow: false,\n          title_msg: \"삭제 완료\",\n          msg: \"덧글이 삭제되었습니다.\",\n          deleted: true\n        });\n      })();\n    };\n\n    this.modalHide = () => {\n      this.setState({ modalShow: false });\n    };\n  }\n\n  errorShow() {\n    if (this.state.deleted) {\n      this.setState({\n        modalShow: true,\n        title_msg: \"삭제 불가\",\n        msg: \"이미 삭제된 덧글입니다.\"\n      });\n    } else {\n      this.setState({\n        errShow: true,\n        title_msg: \"덧글 삭제\",\n        msg: \"정말 삭제하시겠습니까?\"\n      });\n    }\n  }\n\n  errorHide() {\n    this.setState({ errShow: false });\n  }\n\n  componentDidMount() {\n    const del = new window.Image();\n    del.src = '/arenatime/cancel.png';\n    del.onload = () => {\n      this.setState({\n        image: del\n      });\n    };\n  }\n\n  render() {\n    return (\n      <div>\n      <Stage width={1124} height={74}>\n      <Layer>\n      <Slot character={parse[this.props.comment.charName['S']]} setX={2} setY={this.props.setY}/>\n      \n      <Text\n      x={75}\n      y={2}\n      fontSize={16}\n      fontFamily={'GyeonggiTitleM'}\n      fontStyle={'normal'}\n      fontColor={'#333333'}\n      width={810}\n      height={68}\n      text={this.props.comment.memo['S']}\n      />\n      <Text\n      x={828}\n      y={28}\n      fontSize={16}\n      fontColor={'#333333'}\n      width={256}\n      align='center'\n      text={this.props.comment.uploadedDate['S']}\n      />\n      <Image\n        x={1045}\n        y={22}\n        width={24}\n        height={24}\n        image={this.state.image}\n        onClick={this.errorShow}\n      />\n      </Layer>\n      </Stage>\n      <Modal\n        show={this.state.errShow}\n        onHide={this.errorHide}\n        dialogClassName=\"modal-web\"\n        aria-labelledby=\"example-custom-modal-styling-title\"\n      >\n\n          <Modal.Header>\n            <Modal.Title>\n              {this.state.title_msg}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.state.msg}\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"primary\" onClick={this.errorHide}>취소</Button>\n            <Button variant=\"danger\" onClick={this.deleteComment}>삭제</Button>\n          </Modal.Footer>\n\n      </Modal>\n      <Modal\n        show={this.state.modalShow}\n        onHide={this.modalHide}\n        dialogClassName=\"modal-web\"\n        aria-labelledby=\"example-custom-modal-styling-title\"\n      >\n\n          <Modal.Header>\n            <Modal.Title>\n              {this.state.title_msg}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.state.msg}\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"success\" onClick={this.modalHide}>확인</Button>\n          </Modal.Footer>\n\n      </Modal>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {\n  Image,\n  Text,\n  Stage,\n  Layer\n} from 'react-konva';\nimport {\n  Button,\n  Modal\n} from 'react-bootstrap';\n\nimport '../css/daum.css';\nimport '../css/mobile.css';\n\nimport { getCoord, Yblank } from './Block.tsx';\nimport char from '../util/char';\nimport { path } from '../util/dummy';\n\nvar axios = require('axios');\n\nlet parse = require('../util/char_parse.js').char;\nlet scale = 50;\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c)).XCoord,\n      y: getCoord(char.indexOf(c)).YCoord\n    };\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/characters.jpg\";\n    if (this.props.character === \"Empty\") {\n      this.setState({\n        x: 1100,\n        y: Yblank\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c)).XCoord,\n        y: getCoord(char.indexOf(c)).YCoord\n      });\n    }\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if(newProps.character !== oldProps.character) {\n      if (newProps.character === \"Empty\") {\n        this.setState({\n          x: 1100,\n          y: Yblank\n        });\n      } else {\n        let c = newProps.character;\n        this.setState({\n          x: getCoord(char.indexOf(c)).XCoord,\n          y: getCoord(char.indexOf(c)).YCoord\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <Image\n      x={this.props.setX}\n      y={2}\n      width={scale}\n      height={scale}\n      image={this.state.image}\n      crop = {{\n        x: this.state.x,\n        y: this.state.y,\n        width: 76,\n        height: 76\n      }}\n      stroke={'black'}\n      strokeWidth={2}\n      />\n    );\n  }\n}\n\nexport class MobComment extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      errShow: false,\n      modalShow: false,\n      title_msg: \"덧글 삭제\",\n      msg: \"정말 삭제하시겠습니까?\",\n      deleted: false\n    };\n\n    this.errorHide = this.errorHide.bind(this);\n    this.errorShow = this.errorShow.bind(this);\n\n    this.deleteComment = () => {\n      (async _ => {\n        let dat = {\n          matchId: this.props.matchId,\n          commentId: this.props.comment.commentId['S'],\n          memo: 'PlaceHolder',\n          action: 'delete'\n        }\n        let mPath = path + 'api/put-comment';\n        let res = await axios({\n          method: 'put',\n          url: mPath,\n          data: dat,\n          headers: {\n            Accept: \"application/json\"\n          }\n        });\n        if (res.data.message === 'Forbidden Comment Deletion') {\n          this.setState({\n            modalShow: true,\n            errShow: false,\n            title_msg: \"삭제 실패\",\n            msg: \"권한이 없습니다.\",\n            deleted: false\n          });\n          return;\n        }\n        this.setState({\n          modalShow: true,\n          errShow: false,\n          title_msg: \"삭제 완료\",\n          msg: \"덧글이 삭제되었습니다.\",\n          deleted: true\n        });\n      })();\n    };\n\n    this.modalHide = () => {\n      this.setState({ modalShow: false });\n    };\n  }\n\n  errorShow() {\n    if (this.state.deleted) {\n      this.setState({\n        modalShow: true,\n        title_msg: \"삭제 불가\",\n        msg: \"이미 삭제된 덧글입니다.\"\n      });\n    } else {\n      this.setState({\n        errShow: true,\n        title_msg: \"덧글 삭제\",\n        msg: \"정말 삭제하시겠습니까?\"\n      });\n    }\n  }\n\n  errorHide() {\n    this.setState({ errShow: false });\n  }\n\n  componentDidMount() {\n    const del = new window.Image();\n    del.src = '/arenatime/cancel.png';\n    del.onload = () => {\n      this.setState({\n        image: del\n      });\n    };\n  }\n\n  render() {\n    return (\n      <div>\n      <Stage width={400} height={128}>\n      <Layer>\n      <Slot character={parse[this.props.comment.charName['S']]} setX={2} setY={this.props.setY}/>\n      \n      <Text\n      x={68}\n      y={2}\n      fontSize={14}\n      fontFamily={'GyeonggiTitleM'}\n      fontStyle={'normal'}\n      fontColor={'#333333'}\n      width={290}\n      height={88}\n      text={this.props.comment.memo['S']}\n      />\n      <Text\n      x={6}\n      y={88}\n      fontSize={16}\n      fontColor={'#333333'}\n      width={256}\n      align='center'\n      text={this.props.comment.uploadedDate['S']}\n      />\n      <Image\n        x={250}\n        y={86}\n        width={16}\n        height={16}\n        image={this.state.image}\n        onTap={this.errorShow}\n      />\n      </Layer>\n      </Stage>\n      <Modal\n        show={this.state.errShow}\n        onHide={this.errorHide}\n        dialogClassName=\"modal-mobile\"\n        aria-labelledby=\"example-custom-modal-styling-title\"\n      >\n\n          <Modal.Header>\n            <Modal.Title>\n              {this.state.title_msg}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.state.msg}\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"primary\" onClick={this.errorHide}>취소</Button>\n            <Button variant=\"danger\" onClick={this.deleteComment}>삭제</Button>\n          </Modal.Footer>\n\n      </Modal>\n      <Modal\n        show={this.state.modalShow}\n        onHide={this.modalHide}\n        dialogClassName=\"modal-mobile\"\n        aria-labelledby=\"example-custom-modal-styling-title\"\n      >\n\n          <Modal.Header>\n            <Modal.Title>\n              {this.state.title_msg}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.state.msg}\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"success\" onClick={this.modalHide}>확인</Button>\n          </Modal.Footer>\n\n      </Modal>\n      </div>\n    );\n  }\n}","\"use strict\";\nexports.__esModule = true;\nvar char = [\n    'Empty',\n    'Makoto',\n    'Mitsuki',\n    'Jyun',\n    'Kaori',\n    'Shiori',\n    'Suzuna',\n    'Arisa',\n    'Tamaki',\n    'Saren',\n    'Nozomi',\n    'Kokkoro',\n    'Hiyori',\n    'Ilya',\n    'Akari',\n    'Kyaru',\n    'Shizuru',\n    'Kyouka',\n    'Miyako',\n    'Djeeta',\n    'Monika',\n    'Kuuka',\n    'Shinobu',\n    'Pekorinne',\n    'Eriko',\n    'SummerPekorinne',\n    'Akino',\n    'Mimi',\n    'Tsumugi',\n    'Hatsune',\n    'Ayane',\n    'Yui',\n    'SummerKokkoro',\n    'Yukari',\n    'Misato',\n    'Anna',\n    'Ninon',\n    'Rino',\n    'Yori',\n    'Misogi',\n    'Yuki',\n    'Maho',\n    'Rei',\n    'Kurumi',\n    'Misaki',\n    'Mifuyu',\n    'Chika',\n    'Rima',\n    'Rin',\n    'Mahiru',\n    'Io',\n    'Aoi',\n    'Suzume',\n    'SummerKyaru',\n    'SummerTamaki',\n    'Tomo',\n    'SummerMifuyu',\n    'HalloweenMiyako',\n    'HalloweenShinobu',\n    'SummerSuzume',\n    'Matsuri',\n    'HalloweenMisaki',\n    'Christina',\n    'Ruka',\n    'Nanaka',\n    'ChristmasChika',\n    'ChristmasKurumi',\n    'ChristmasAyane',\n    'NewYui',\n    'NewRei',\n    'NewHiyori',\n    'ValentineShizuru',\n    'ValentineEriko',\n    'Muimi',\n    'Kasumi',\n    'Ayumi',\n    'Rou',\n    'Ann',\n    'Glare',\n    'OedoKuuka',\n    'OedoNinon',\n    'Ram',\n    'Rem',\n    'Emilia',\n    'SummerIo',\n    'SummerSuzuna',\n    'SummerSaren',\n    'SummerKaori',\n    'SummerMakoto',\n    'SummerMaho',\n    'Neneka',\n    'TransferAoi',\n    'Chloe',\n    'HalloweenMisogi',\n    'HalloweenKyouka',\n    'HalloweenMimi',\n    'Luna',\n    'Kaya',\n    'ChristmasNozomi',\n    'ChristmasChristina',\n    'ChristmasIlya',\n    'NewSuzume',\n    'NewKyaru',\n    'NewKokkoro',\n    'MagicalShiori',\n    'MagicalKasumi',\n    'PrincessPekorinne',\n    'Mio',\n    'Uzuki',\n    'Shiburin',\n    'Yuni',\n    'Chieru',\n    'RangerRin',\n];\nexports[\"default\"] = char;\n","export var path =\n  //\"https://z7i1uu84m7.execute-api.ap-northeast-2.amazonaws.com/dev/\"\n  'http://localhost:4000/';\n","import React, { Component } from 'react';\nimport { Stage, Layer } from 'react-konva';\nimport { Block } from './Block.tsx';\nimport { getChar } from '../util/distance.ts';\n\nvar netX = 0;\nvar netY = 0;\nvar col = 10;\nvar char = 90;\n\nfunction getX() {\n  netX += 1;\n  return (\n    ((netX - 1) % col) * (57 + 10) +\n    30 +\n    Math.floor(netY / (char - (char % col))) * (col - (char % col)) * 33.5\n  );\n}\n\nfunction getY() {\n  netY += 1;\n  return Math.floor((netY - 1) / col) * (57 + 10);\n}\n\nexport class Cutter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      p: this.props.party,\n    };\n  }\n\n  render() {\n    let c = getChar();\n    netX = 0;\n    netY = 0;\n    return (\n      <Stage width={767} height={607}>\n        <Layer>\n          {c.map((value, index) => {\n            return (\n              <Block\n                character={value}\n                party={this.state.p}\n                setX={getX()}\n                setY={getY()}\n                scale={57}\n                key={index}\n              />\n            );\n          })}\n        </Layer>\n      </Stage>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  Stage,\n  Layer,\n  Image\n} from 'react-konva';\nimport { dist } from '../util/distance.ts';\nimport { getCoord, Yblank } from './Block.tsx';\nimport char from '../util/char';\n\nlet scale = 76;\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c)).XCoord,\n      y: getCoord(char.indexOf(c)).YCoord\n    };\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/characters.jpg\";\n    if (this.props.character === \"Empty\") {\n      this.setState({\n        x: 1100,\n        y: Yblank\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c)).XCoord,\n        y: getCoord(char.indexOf(c)).YCoord\n      });\n    }\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if(newProps.character !== oldProps.character) {\n      if (newProps.character === \"Empty\") {\n        this.setState({\n          x: 1100,\n          y: Yblank\n        });\n      } else {\n        let c = newProps.character;\n        this.setState({\n          x: getCoord(char.indexOf(c)).XCoord,\n          y: getCoord(char.indexOf(c)).YCoord\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <Image\n      x={this.props.setX+2}\n      y={2}\n      width={scale}\n      height={scale}\n      image={this.state.image}\n      crop = {{\n        x: this.state.x,\n        y: this.state.y,\n        width: 76,\n        height: 76\n      }}\n      stroke={'black'}\n      strokeWidth={2}\n      />\n    );\n  }\n}\n\nexport class Party extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n  render() {\n    let c = sort(this.props.party);\n    return (\n      <Stage width={480} height={80}>\n        <Layer>\n          {c.map((value, index) => {\n            return <Slot character={value} setX={getX()} key={index}/>\n          })}\n        </Layer>\n      </Stage>\n    );\n  }\n}\n\nlet netX = 0;\n\nfunction getX() {\n  netX += 1;\n  return (((netX-1) % 5) * (76+12));\n}\n\nexport function sort(arr) {\n  let tmp = arr.slice();\n  let dummy = tmp.slice();\n  let res = [];\n  for (let i=0; i < dummy.length; i++) {\n    let max = 0;\n    let slot = \"\";\n    for (let j=0; j < tmp.length; j++) {\n      if (max < dist[tmp[j]]) {\n        max = dist[tmp[j]];\n        slot = tmp[j];\n      }\n    }\n    res.push(slot);\n    tmp.splice(tmp.indexOf(slot), 1);\n  }\n  for (let i=res.length; i<5; i++) {\n    res.unshift(\"Empty\");\n  }\n  return res;\n}","import React from 'react';\nimport {\n  Modal,\n  Button,\n  Form,\n  Col\n} from 'react-bootstrap';\nimport { Cutter } from './Cutter.js';\nimport { Party } from './Party.js';\nimport { char } from '../util/char_parse.js';\n\nimport '../css/daum.css';\nimport '../css/text.css';\nimport '../css/SetParty.css';\n\nexport class SetParty extends React.Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.inputHandler = this.inputHandler.bind(this);\n    this.addParty = this.addParty.bind(this);\n\n    this.state = {\n      show: false,\n      text: \"대상 파티  \",\n      p: this.props.party,\n      char: \"Empty\"\n    };\n\n    this.handleShow = () => {\n      this.setState({ show: true });\n    };\n\n    this.handleHide = () => {\n      this.setState({ show: false });\n    };\n\n    this.clearParty = () => {\n      let p = this.props.party;\n      p.splice(0, p.length);\n      this.forceUpdate();\n    }\n  }\n\n  mainText = {\n    fontFamily: 'GyeonggiTitleM',\n    fontStyle: 'normal',\n    fontSize: 14,\n    fontColor: '#333333'\n  }\n  \n  componentDidMount() {\n    if (this.props.handle === \"def\") {\n      this.setState({ text: \"방어 파티  \"});\n    }\n    if (this.props.handle === \"att\") {\n      this.setState({ text: \"공격 파티  \"});\n    }\n  }\n\n  inputHandler(e) {\n    this.setState({\n      char: e.target.value\n    })\n  }\n\n  addParty() {\n    if (!(this.state.char in char)) {\n      return;\n    }\n    let p = this.props.party;\n    if (p.length < 5 && !(p.includes(char[this.state.char]))) {\n      p.push(char[this.state.char]);\n      this.forceUpdate();\n    }\n  }\n\n\n  render() {\n\n    return (\n      <div>\n        {this.state.text}\n        <Button variant=\"primary\" onClick={this.handleShow}>\n          파티 설정\n        </Button>\n        <h1 className=\"ten\">\n          {' '}\n        </h1>\n        <Party party={this.state.p}/>\n\n        <Modal\n          show={this.state.show}\n          onHide={this.handleHide}\n          dialogClassName=\"modal-web\"\n          aria-labelledby=\"example-custom-modal-styling-title\"\n        >\n\n            <Modal.Header>\n              <Modal.Title>\n                파티 설정\n              </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Cutter party={this.state.p}/>\n              <div align=\"center\" className=\"ten\">\n              <Form ref=\"form\">\n              <Form.Row>\n                <Form.Group as={Col} controlId=\"formGridCity\">\n                    <Form.Control className=\"char\" onChange={this.inputHandler} maxLength={8}/>\n                </Form.Group>\n              </Form.Row>\n              </Form>\n              <Button variant=\"primary\" onClick={this.addParty}>캐릭터 추가</Button>\n              </div>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"danger\" onClick={this.clearParty}>설정 초기화</Button>\n              <Button variant=\"primary\" onClick={this.handleHide}>파티 저장</Button>\n            </Modal.Footer>\n\n        </Modal>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport {\n  Form,\n  Col,\n  Button,\n  Alert,\n  Modal\n} from 'react-bootstrap';\nimport { SetParty } from './SetParty';\nimport { sort } from './Party';\n//import { FormData } from 'form-data';\nimport '../css/daum.css';\nimport '../css/text.css';\n\nimport { path } from '../util/dummy';\n\nlet axios = require('axios');\n\n\n\nvar defParty = [];\nvar attParty = [];\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n  }\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nexport class Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFile: null,\n      loaded: false,\n      overload: false,\n      title_msg: \"\",\n      msg: \"\",\n      isSending: false,\n      errShow: false,\n      form: {\n        attackPower: 0,\n        defensePower: 0,\n        attackStar: \"\",\n        defenseStar: \"\",\n        matchResult: \"방어덱 패배\",\n        arena: \"배틀 아레나\",\n        memo: \"\"\n      }\n    };\n    this.fileHandler = this.fileHandler.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.validatePower = this.validatePower.bind(this);\n    this.validateStarAndDeck = this.validateStarAndDeck.bind(this);\n    this.validateFile = this.validateFile.bind(this);\n    this.sendDatatoS3 = this.sendDatatoS3.bind(this);\n    this.sendFiletoS3 = this.sendFiletoS3.bind(this);\n    this.setStar = this.setStar.bind(this);\n    this.setDeck = this.setDeck.bind(this);\n    this.setSelection = this.setSelection.bind(this);\n    this.checkForm = this.checkForm.bind(this);\n    this.errorShow = () => {\n      this.setState({ errShow: true });\n    };\n\n    this.errorHide = () => {\n      this.setState({ errShow: false });\n    };\n    this.resetForm = (e) => {\n      this.refs.form.reset();\n    };\n  }\n  fileHandler(e) {\n    if (e.target.files[0] == null) {\n      this.setState({\n        selectedFile: null,\n        loaded: false,\n        overload: false\n      });\n      return;\n    }\n    if (e.target.files[0].size > 3072000) {\n      this.setState({\n        selectedFile: null,\n        loaded: false,\n        overload: true\n      });\n      return;\n    }\n    this.setState({\n      selectedFile: e.target.files[0],\n      loaded: true,\n      overload: false\n    });\n  }\n  inputHandler(e) {\n    let eName = e.target.name;\n    let eVal = e.target.value;\n    this.setState({form: {...this.state.form, [eName]: eVal}});\n  }\n  checkForm(e) {\n    e.preventDefault();\n    if (this.isSending) {\n      return;\n    }\n    if (!this.validatePower()) {\n      return;\n    }\n    if (!this.validateStarAndDeck()) {\n      return;\n    }\n    if (!this.validateFile()) {\n      return;\n    }\n    this.setState({\n      title_msg: \"등록 실패\",\n      isSending: true\n    });\n    //set JSON\n    let f = {\n      matchResult: \"\",\n      arena: \"\",\n      memo: this.state.form.memo,\n      attackNum: attParty.length,\n      attackPower: this.state.form.attackPower,\n      attackDeck: {\n        first: \"\"\n      },\n      attackStar: {\n        first: 1\n      },\n      defenseNum: defParty.length,\n      defensePower: this.state.form.defensePower,\n      defenseDeck: {\n        first: \"\"\n      },\n      defenseStar: {\n        first: 1\n      }\n    };\n    f = this.setStar(f);\n    f = this.setDeck(f);\n    f = this.setSelection(f);\n    this.setState({\n      title_msg: \"등록 실패\",\n      msg: \"대전 업로드에 실패했습니다.\"\n    });\n    //send image API\n    (async _ => {\n      if (this.state.loaded) {\n        this.setState({\n          title_msg: \"등록 중\",\n          msg: \"잠시만 기다려 주세요.\"\n        });\n        this.errorShow();\n        let s3 = await this.sendFiletoS3();\n        let dat = await this.sendDatatoS3(f, s3);\n        if (dat === 'Succeeded Data Upload') {\n          this.resetForm(e);\n          defParty.splice(0, defParty.length);\n          attParty.splice(0, attParty.length);\n          this.setState({\n            memo: \"\",\n            title_msg: \"등록 성공\",\n            msg: \"대전 결과가 DB에 등록되었습니다.\"\n          });\n        }\n      } else {\n        let s3 = 'Not Uploaded';\n        this.setState({\n          title_msg: \"등록 중\",\n          msg: \"잠시만 기다려 주세요.\"\n        });\n        this.errorShow();\n        let dat = await this.sendDatatoS3(f, s3);\n        if (dat === 'Succeeded Data Upload') {\n          this.resetForm(e);\n          defParty.splice(0, defParty.length);\n          attParty.splice(0, attParty.length);\n          this.setState({\n            memo: \"\",\n            title_msg: \"등록 성공\",\n            msg: \"대전 결과가 DB에 등록되었습니다.\"\n          });\n        }\n      }\n      //reset form\n      this.setState({\n        isSending: false\n      });\n    })();\n  }\n  validatePower() {\n    this.setState({\n      title_msg: \"등록 실패\",\n      msg: \"정상 범위 내의 전투력을 입력해 주세요.\"\n    });\n    if (!(this.state.form.attackPower > 100) && this.state.form.attackPower !== 0) {\n      this.errorShow();\n      return false;\n    }\n    if (!(this.state.form.attackPower < 100000)) {\n      this.errorShow();\n      return false;\n    }\n    if (!(this.state.form.defensePower > 100) && this.state.form.defensePower !== 0) {\n      this.errorShow();\n      return false;\n    }\n    if (!(this.state.form.defensePower < 100000)) {\n      this.errorShow();\n      return false;\n    }\n    return true;\n  }\n  validateStarAndDeck() {\n    this.setState({\n      title_msg: \"등록 실패\",\n      msg: \"덱을 정확히 입력해 주세요.\"\n    });\n    if ((this.state.form.attackStar === \"\" || this.state.form.attackStar === 99999) && (this.state.form.defenseStar === \"\" || this.state.form.defenseStar === 99999) && attParty.length > 0 && defParty.length > 0) {\n      let f = this.state.form;\n      f.attackStar = 99999;\n      f.defenseStar = 99999;\n      this.setState({\n        form: f\n      });\n      return true;\n    }\n    let a = this.state.form.attackStar;\n    if (!(a % 10 > 0 && a % 10 < 6)\n    || !(a < 10 || (Math.floor(a/10) % 10 > 0 && Math.floor(a/10) % 10 < 6))\n    || !(a < 100 || (Math.floor(a/100) % 10 > 0 && Math.floor(a/100) % 10 < 6))\n    || !(a < 1000 || (Math.floor(a/1000) % 10 > 0 && Math.floor(a/1000) % 10 < 6))\n    || !(a < 10000 || (Math.floor(a/10000) % 10 > 0 && Math.floor(a/10000) % 10 < 6))) {\n      this.errorShow();\n      return false;\n    }\n    let d = this.state.form.defenseStar;\n    if (!(d % 10 > 0 && d % 10 < 6)\n    || !(d < 10 || (Math.floor(d/10) % 10 > 0 && Math.floor(d/10) % 10 < 6))\n    || !(d < 100 || (Math.floor(d/100) % 10 > 0 && Math.floor(d/100) % 10 < 6))\n    || !(d < 1000 || (Math.floor(d/1000) % 10 > 0 && Math.floor(d/1000) % 10 < 6))\n    || !(d < 10000 || (Math.floor(d/10000) % 10 > 0 && Math.floor(d/10000) % 10 < 6))) {\n      this.errorShow();\n      return false;\n    }\n    if (Math.floor(a/Math.pow(10, attParty.length-1)) < 1 || (a/Math.pow(10, attParty.length-1)) >= 10) {\n      this.errorShow();\n      return false;\n    }\n    if (Math.floor(d/Math.pow(10, defParty.length-1)) < 1 || (d/Math.pow(10, defParty.length-1)) >= 10) {\n      this.errorShow();\n      return false;\n    }\n    return true;\n  }\n  validateFile() {\n    this.setState({\n      msg: \"파일 크기를 조정해 주세요.\"\n    });\n    if (this.state.overload) {\n      return false;\n    }\n    return true;\n  }\n  setStar(f) {\n    let atk = this.state.form.attackStar;\n    let aParty = Math.floor(Math.log10(atk));\n    if (aParty >= 0) {\n      f.attackStar.first = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.first * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    if (aParty >= 0) {\n      f.attackStar.second = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.second * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    if (aParty >= 0) {\n      f.attackStar.third = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.third * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    if (aParty >= 0) {\n      f.attackStar.fourth = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.fourth * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    if (aParty >= 0) {\n      f.attackStar.fifth = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.fifth * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    let dfs = this.state.form.defenseStar;\n    let dParty = Math.floor(Math.log10(dfs));\n    if (dParty >= 0) {\n      f.defenseStar.first = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.first * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    if (dParty >= 0) {\n      f.defenseStar.second = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.second * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    if (dParty >= 0) {\n      f.defenseStar.third = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.third * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    if (dParty >= 0) {\n      f.defenseStar.fourth = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.fourth * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    if (dParty >= 0) {\n      f.defenseStar.fifth = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.fifth * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    return f;\n  }\n  setDeck(f) {\n    let at = f.attackNum;\n    let atk = sort(attParty.slice());\n    if (at > 0) {\n      f.attackDeck.first = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.attackDeck.second = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.attackDeck.third = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.attackDeck.fourth = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.attackDeck.fifth = atk.pop();\n      at -= 1;\n    }\n    let df = f.defenseNum;\n    let dfs = sort(defParty.slice());\n    if (df > 0) {\n      f.defenseDeck.first = dfs.pop();\n      df -= 1;\n    }\n    if (df > 0) {\n      f.defenseDeck.second = dfs.pop();\n      df -= 1;\n    }\n    if (df > 0) {\n      f.defenseDeck.third = dfs.pop();\n      df -= 1;\n    }\n    if (df > 0) {\n      f.defenseDeck.fourth = dfs.pop();\n      df -= 1;\n    }\n    if (df > 0) {\n      f.defenseDeck.fifth = dfs.pop();\n      df -= 1;\n    }\n    return f;\n  }\n  setSelection(f) {\n    if (this.state.form.arena === \"배틀 아레나\") {\n      f.arena = \"battleArena\";\n    } else {\n      f.arena = \"princessArena\";\n    }\n    if (this.state.form.matchResult === \"방어덱 패배\") {\n      f.matchResult = \"attackWin\";\n    } else {\n      f.matchResult = \"defenseWin\";\n    }\n    return f;\n  }\n  sendFiletoS3 () {\n    let result = 'Upload Failed';\n    let mPath = path + 'api/put-s3-image';\n    return (async _ => {\n      let form = new FormData();\n      try {\n        let f = await this.getBase64(this.state.selectedFile);\n        form.append('image', f);\n        let res = await axios({\n          method: 'post',\n          url: mPath,\n          data: form,\n          headers: {\n            \"Accept\": \"multipart/form-data\",\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        if (res.status === 200) {\n          result = res.data.message;\n        }\n      }\n      catch {\n        //\n        console.log(\"put image error\");\n      }\n      return result;\n    })();\n  }\n  sendDatatoS3 (f, res) {\n    if (res === undefined || res === 'Upload Failed') {\n      return false;\n    }\n    let mPath = path + 'api/put-s3-data';\n    let result = 'Upload Failed';\n    if (res !== 'Not Uploaded') {\n      f.imagePath = res;\n    }\n    let str = JSON.stringify(f);\n    return (async _ => {\n      try {\n        let resp = await axios({\n          url: mPath,\n          method: 'post',\n          data: str,\n          headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n          }\n        })\n        if (resp.status === 200) {\n          result = resp.data.message;\n        }\n      }\n      catch {\n        console.log(\"put data error\");\n      }\n      return result;\n    })();\n  }\n  getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  }\n  alert() {\n    if (this.state.overload) {\n      return (\n        <div>\n        <br/>\n        <Alert variant=\"danger\">\n          <div>\n            파일 제한 용량을 초과했습니다.\n          </div>\n        </Alert>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"text\">\n      <h1 style={topicText}>\n        대전 등록\n      </h1>\n      <h2 style={subText} className=\"twenty\">\n        대전 유형\n      </h2>\n      <h3 style={smallText} className=\"ten\">\n        <Form ref=\"form\">\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>공격덱 전투력</Form.Label>\n                <Form.Control name=\"attackPower\" onChange={this.inputHandler} maxLength={5}/>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>방어덱 전투력</Form.Label>\n                <Form.Control name=\"defensePower\" onChange={this.inputHandler} maxLength={5}/>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>공격덱 성급</Form.Label>\n                <Form.Control placeholder=\"(54434)\" name=\"attackStar\" onChange={this.inputHandler} maxLength={5}/>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>방어덱 성급</Form.Label>\n                <Form.Control placeholder=\"(54434)\" name=\"defenseStar\" onChange={this.inputHandler} maxLength={5}/>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>결과</Form.Label>\n              <Form.Control as=\"select\" name=\"matchResult\" onChange={this.inputHandler}>\n                <option>방어덱 패배</option>\n                <option>방어덱 승리</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>아레나</Form.Label>\n              <Form.Control as=\"select\" name=\"arena\" onChange={this.inputHandler}>\n                <option>배틀 아레나</option>\n                <option>프린세스 아레나</option>\n              </Form.Control>\n            </Form.Group>\n          </Form.Row>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>설명</Form.Label>\n                <Form.Control as=\"textarea\" name=\"memo\" onChange={this.inputHandler} maxLength={200}/>\n            </Form.Group>\n          </Form.Row>\n        </Form>\n      </h3>\n      <h4 style={subText} className=\"ten\">\n        <SetParty party={attParty} handle=\"att\"/>\n      </h4>\n      <h5 style={subText} className=\"twenty\">\n        <SetParty party={defParty} handle=\"def\"/>\n      </h5>\n      <h6 style={subText} className=\"twenty\">\n        {\"결과 이미지\"}\n      </h6>\n      <div style={smallText} className=\"ten\">\n        {\"3MB 이하의 .jpg .jpeg .png 파일을 올려주세요.\"}\n        <br/>\n        <input type=\"file\" name=\"file\" accept=\".jpg, .jpeg, .png\" onChange={this.fileHandler}/>\n        {this.alert()}\n      </div>\n      <p style={subText} className=\"twenty\">\n        <Button variant='success' onClick={this.checkForm}>\n          대전 등록\n        </Button>\n      </p>\n      <Modal\n          show={this.state.errShow}\n          onHide={this.errorHide}\n          dialogClassName=\"modal-web\"\n          aria-labelledby=\"example-custom-modal-styling-title\"\n        >\n\n            <Modal.Header>\n              <Modal.Title>\n                {this.state.title_msg}\n              </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              {this.state.msg}\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"primary\" onClick={this.errorHide}>확인</Button>\n            </Modal.Footer>\n\n        </Modal>\n      </div>\n    );\n  }\n}\n\n","import React from 'react';\nimport {\n  Stage,\n  Layer,\n  Image,\n  Group,\n  Text\n} from 'react-konva';\nimport { Redirect } from 'react-router-dom';\nimport char from '../util/char';\nimport { dist } from '../util/distance.ts';\nimport { getCoord, Yblank } from './Block.tsx';\nimport { setSearchPath } from './Match';\nimport { switchFire } from './Container.js';\n\nimport { path } from '../util/dummy';\n\nvar axios = require('axios');\n\nlet scale = 64;\n\nlet attackDeckX = 101;\nlet defenseDeckX = 592;\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.setCoord = this.setCoord.bind(this);\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c['char'])).XCoord,\n      y: getCoord(char.indexOf(c['char'])).YCoord,\n      star: \"\"\n    };\n  }\n  setCoord() {\n    if (this.props.character === \"Empty\") {\n      this.setState({\n        x: 1100,\n        y: Yblank\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c['char'])).XCoord,\n        y: getCoord(char.indexOf(c['char'])).YCoord\n      });\n    }\n    let s = \"\";\n    for (let i = 0; i < this.props.character['star']; i++) {\n      s += \"★\";\n    }\n    if (!(this.props.character['star'] > 5)) {\n      this.setState({\n        star: s\n      });\n    }\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/characters.jpg\";\n    this.setCoord();\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if(newProps.character !== oldProps.character) {\n      this.setCoord();\n    }\n  }\n  render() {\n    return (\n      <Group>\n      <Image\n      x={this.props.setX+2}\n      y={2}\n      width={scale}\n      height={scale}\n      image={this.state.image}\n      crop = {{\n        x: this.state.x,\n        y: this.state.y,\n        width: 76,\n        height: 76\n      }}\n      stroke={'black'}\n      strokeWidth={2}\n      />\n      <Text\n      x={this.props.setX+2}\n      y={2+4+scale}\n      fontSize={12}\n      width={scale}\n      align='center'\n      fill={'#aaaa44'}\n      text={this.state.star}\n      />\n      </Group>\n    );\n  }\n}\n\nexport class SearchParty extends React.Component {\n  constructor(props) {\n    super(props);\n    this.goProfile = this.goProfile.bind(this);\n    this.getProps = this.getProps.bind(this);\n    this.checkLink = this.checkLink.bind(this);\n    this.showMemo = this.showMemo.bind(this);\n    this.upClicked = this.upClicked.bind(this);\n    this.downClicked = this.downClicked.bind(this);\n    this.setVotes = this.setVotes.bind(this);\n    this.vote = this.vote.bind(this);\n    this.state = {\n      voting: false,\n      attackImage: null,\n      defenseImage: null,\n      upImage: null,\n      downImage: null,\n      magImage: null,\n      upHighlighted: 0.5,\n      downHighlighted: 0.5,\n      match: this.props.match,\n      attackPower: \"\",\n      defensePower: \"\",\n      upvotes: \"\",\n      downvotes: \"\",\n      link: false,\n      attackSorted: [],\n      defenseSorted: [],\n      date: \"\"\n    };\n  }\n\n  setVotes() {\n    let uv, dv;\n    if (this.props.match['upvotes']['N'] > 99) {\n      uv = \"99+\";\n    } else {\n      uv = this.props.match['upvotes']['N'].toString()\n    }\n    if (this.props.match['downvotes']['N'] > 99) {\n      dv = \"99+\";\n    } else {\n      dv = this.props.match['downvotes']['N'].toString()\n    }\n    this.setState({\n      upvotes: uv,\n      downvotes: dv\n    });\n  }\n\n  upClicked() {\n    this.vote(\"up\");\n  }\n\n  downClicked() {\n    this.vote(\"down\");\n  }\n\n  vote(param) {\n    if (this.state.voting) {\n      return;\n    }\n    this.setState({\n      voting: true\n    });\n    let dat = {\n      matchId: this.props.match['matchId']['S'],\n      vote: param\n    }\n    let mPath = path + 'api/vote';\n    (async _ => { \n      let res = await axios({\n        method: 'put',\n        url: mPath,\n        data: dat,\n        headers: {\n          Accept: \"application/json\"\n        }\n      });\n      if (res.data.message === 'Vote Succeeded') {\n        let v = res.data.vote;\n        let m = this.props.match;\n        if (v.up === 'vote') {\n          m['upvotes']['N'] = Number(m['upvotes']['N']) + 1;\n          this.setState({\n            upHighlighted: 1,\n          });\n        } else if (v.up === 'unvote') {\n          m['upvotes']['N'] = Number(m['upvotes']['N']) - 1;\n          this.setState({\n            upHighlighted: 0.5,\n          });\n        }\n        if (v.down === 'vote') {\n          m['downvotes']['N'] = Number(m['downvotes']['N']) + 1;\n          this.setState({\n            downHighlighted: 1,\n          });\n        } else if (v.down === 'unvote') {\n          m['downvotes']['N'] = Number(m['downvotes']['N']) - 1;\n          this.setState({\n            downHighlighted: 0.5,\n          });\n        }\n        this.setState({\n          match: m\n        });\n        this.setVotes();\n        this.setState({\n          voting: false\n        });\n        this.forceUpdate();\n      }\n    })();\n  }\n\n  getProps() {\n\n    const aImage = new window.Image();\n    const dImage = new window.Image();\n    const up = new window.Image();\n    const down = new window.Image();\n    const mag = new window.Image();\n    //\n    this.setState({\n      upHighlighted: 0.5,\n      downHighlighted: 0.5\n    });\n    this.setVotes();\n    //\n    let attackParty = [];\n    let defenseParty = [];\n    //\n    let attd = this.props.match['attackDeck']['M'];\n    let defd = this.props.match['defenseDeck']['M'];\n    for (let a in attd) {\n      attackParty.push(attd[a]['S']);\n    }\n    for (let d in defd) {\n      defenseParty.push(defd[d]['S']);\n    }\n    //\n    let ap = \"\";\n    let dp = \"\";\n    if (this.props.match['attackPower']['N'] > 0) {\n      ap = \"투력 \" + this.props.match['attackPower']['N'].toString();\n      dp = \"투력 \" + this.props.match['defensePower']['N'].toString();\n    }\n    //\n    let atts = this.props.match['attackStar']['M'];\n    let defs = this.props.match['defenseStar']['M'];\n    this.setState({\n      attackSorted: sort(attackParty.slice(), atts),\n      defenseSorted: sort(defenseParty.slice(), defs),\n      attackPower: ap,\n      defensePower: dp\n    });\n    //\n    let result = this.props.match['matchResult']['S'];\n    if (result === 'attackWin') {\n      aImage.src = '/arenatime/win.png';\n      dImage.src = '/arenatime/lose.png';\n    } else {\n      aImage.src = '/arenatime/lose.png';\n      dImage.src = '/arenatime/win.png';\n    }\n    up.src = '/arenatime/thumb-up.png';\n    down.src = '/arenatime/thumb-down.png';\n    mag.src = '/arenatime/mag.png';\n    aImage.onload = () => {\n      this.setState({\n        attackImage: aImage\n      });\n    };\n    dImage.onload = () => {\n      this.setState({\n        defenseImage: dImage\n      });\n    };\n    up.onload = () => {\n      this.setState({\n        upImage: up\n      });\n    };\n    down.onload = () => {\n      this.setState({\n        downImage: down\n      });\n    };\n    mag.onload = () => {\n      this.setState({\n        magImage: mag\n      });\n    };\n    this.setState({\n      date: (this.props.match['uploadedDate']['S']).replace(/\\s(\\S)+/, \"\")\n    });\n  }\n\n  goProfile() {\n    switchFire();\n    if (this.props.search === undefined) {\n      setSearchPath(this.props.match['matchId']['S'], true);\n    }\n    else {\n      setSearchPath(this.props.match['matchId']['S'], false);\n    }\n    this.setState({\n      link: true\n    });\n  }\n\n  componentDidMount() {\n    this.getProps();\n    this.forceUpdate();\n  }\n\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if (oldProps.match !== newProps.match) {\n      this.getProps();\n    }\n  }\n\n  checkLink() {\n    if (this.state.link) {\n      return <Redirect to='/match'/>\n    }\n  }\n\n  showMemo() {\n    if (this.props.match['memo'] === undefined) {\n      return;\n    }\n    let m = this.props.match['memo']['S'];\n    let res = \"\";\n    if (m !== 'PlaceHolder') {\n      if (m.length > 40) {\n        res = m.slice(0, 40).replace(/\\n/, \"\") + '(...)';\n      } else {\n        res = m.replace(/\\n/, \"\");\n      }\n    }\n    if (this.props.match['netComments'] !== undefined && Number(this.props.match['netComments']['N']) !== 0) {\n      res += (' (덧글 ' + this.props.match['netComments']['N'] + '개)');\n    }\n    if (res !== \"\") {\n      return (\n        <div>\n          <p style={smallText}>\n            {res}\n          </p>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.checkLink()}\n      <Stage width={1124} height={90}>\n        <Layer>\n        <Image\n          x={-10}\n          y={6}\n          width={110}\n          height={48}\n          image={this.state.attackImage}\n        />\n        </Layer>\n        <Layer>\n          {this.state.attackSorted.map((value, index) => {\n            return <Slot character={value} setX={getX()+attackDeckX} key={index}/>\n          })}\n        </Layer>\n        <Layer>\n        <Image\n          x={475}\n          y={6}\n          width={110}\n          height={48}\n          image={this.state.defenseImage}\n        />\n        </Layer>\n        <Layer>\n          {this.state.defenseSorted.map((value, index) => {\n            return <Slot character={value} setX={getX()+defenseDeckX} key={index}/>\n          })}\n        </Layer>\n        <Layer>\n          <Text\n            x={-15}\n            y={58}\n            fontSize={18}\n            width={120}\n            align='center'\n            text={this.state.attackPower}\n          />\n          <Text\n            x={470}\n            y={58}\n            fontSize={18}\n            width={120}\n            align='center'\n            text={this.state.defensePower}\n          />\n          <Text\n            x={941}\n            y={2}\n            fontSize={16}\n            width={160}\n            align='center'\n            text={this.state.date}\n          />\n        <Image\n          x={969}\n          y={28}\n          width={16}\n          height={16}\n          image={this.state.upImage}\n          opacity={this.state.upHighlighted}\n          onClick={this.upClicked}\n        />\n        <Image\n          x={1029}\n          y={28}\n          width={16}\n          height={16}\n          image={this.state.downImage}\n          opacity={this.state.downHighlighted}\n          onClick={this.downClicked}\n        />\n        <Text\n          x={982}\n          y={30}\n          fontSize={16}\n          width={48}\n          align='center'\n          text={this.state.upvotes}\n        />\n        <Text\n          x={1040}\n          y={30}\n          fontSize={16}\n          width={48}\n          align='center'\n          text={this.state.downvotes}\n        />\n        <Image\n          x={1009}\n          y={54}\n          width={24}\n          height={24}\n          image={this.state.magImage}\n          onClick={this.goProfile}\n        />\n        </Layer>\n      </Stage>\n      {this.showMemo()}\n      </div>\n    );\n  }\n}\n\nlet netX = 0;\n\nfunction getX() {\n  netX += 1;\n  return (((netX-1) % 5) * (64+10));\n}\n\nfunction sort(arr, stars) {\n  let tmp = arr.slice();\n  let dummy = tmp.slice();\n  let res = [];\n  let star = [];\n  //\n  if (stars['fifth']['N'] !== undefined) {\n    star.push(stars['fifth']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['fourth']['N'] !== undefined) {\n    star.push(stars['fourth']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['third']['N'] !== undefined) {\n    star.push(stars['third']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['second']['N'] !== undefined) {\n    star.push(stars['second']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['first']['N'] !== undefined) {\n    star.push(stars['first']['N']);\n  } else {\n    star.push(0);\n  }\n  //\n  for (let i=0; i < dummy.length; i++) {\n    let max = 0;\n    let slot = \"\";\n    for (let j=0; j < tmp.length; j++) {\n      if (max < dist[tmp[j]]) {\n        max = dist[tmp[j]];\n        slot = tmp[j];\n      }\n    }\n    res.push({'char': slot, 'star': star[i]});\n    tmp.splice(tmp.indexOf(slot), 1);\n  }\n  for (let i=res.length; i<5; i++) {\n    res.unshift(\"Empty\");\n  }\n  return res;\n}","import React from 'react';\nimport {\n  Modal,\n  Form,\n  Col,\n  Button,\n  Pagination\n} from 'react-bootstrap';\nimport { sort } from './Party';\nimport { SetParty } from './SetParty';\n\nimport '../css/daum.css';\nimport '../css/text.css';\nimport { SearchParty } from './SearchParty';\n\nimport { path } from '../util/dummy';\n\nvar axios = require('axios');\n\n\nvar party = [];\nvar results = [];\nvar searched = false;\nvar offset = 1;\nvar max = 1;\nvar queryItems = [];\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n}\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nexport class Search extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getSearch = this.getSearch.bind(this);\n    this.setSelection = this.setSelection.bind(this);\n    this.validateDeck = this.validateDeck.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.updateOffset = this.updateOffset.bind(this);\n    this.getCount = this.getCount.bind(this);\n    this.errorShow = () => {\n      this.setState({ errShow: true });\n    };\n\n    this.errorHide = () => {\n      this.setState({ errShow: false });\n    };\n    this.state = {\n      title_msg: \"\",\n      msg: \"\",\n      errShow: false,\n      res: \"\",\n      items: [],\n      count: 0,\n      form: {\n        target: \"방어\",\n        result: \"패배\",\n        arena: \"전체\",\n        date: \"전체\",\n        power: \"전체\",\n        sort: \"순추천순\",\n        deck: {\n\n        }\n      }\n    };\n  }\n  updateOffset(num) {\n    {\n      offset = num;\n      results = [];\n      let items = queryItems[offset-1]['Items'];\n      if (items != null) {\n        for (let i in items) {\n          results.push(items[i]);\n        }\n      }\n      this.forceUpdate();\n    }\n  }\n\n  componentDidMount() {\n    this.getCount();\n  }\n\n  getCount() {\n    let mPath = path + 'api/get-count';\n    return (async _ => {\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      });\n      if (res.data.message === 'Getting Count Failed') {\n        console.log('Count Error');\n        return;\n      } else {\n        this.setState({\n          count: Number(res.data.message)\n        });\n      }\n    })();\n  }\n\n  getSearch() {\n    results = [];\n    if (party.length < 1) {\n      this.setState({\n        title_msg: \"검색 실패\",\n        msg: \"파티를 설정해 주세요.\"\n      });\n      this.errorShow();\n      return;\n    }\n    searched = true;\n    let f = this.setSelection(this.state.form);\n    f = this.validateDeck(f);\n    let str = JSON.stringify(f);\n    let mPath = path + 'api/get-search';\n    return (async _ => {\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        params: str,\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      });\n      if (res.data.message === 'Query Failed' || res.data.message === 'Internal server error') {\n        this.setState({\n          title_msg: \"검색 실패\",\n          msg: \"데이터 검색에 오류가 발생했습니다.\"\n        });\n        this.errorShow();\n        return;\n      } else {\n        let msg = res.data.message;\n        results = [];\n        if (msg === 'Deck Not Found') {\n          this.forceUpdate();\n          return;\n        }\n        max = msg.length;\n        offset = 1;\n        let items = msg[offset-1]['Items'];\n        if (items != null) {\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          queryItems = msg;\n        }\n        this.forceUpdate();\n        return;\n      }\n    })();\n  }\n  validateDeck(f) {\n    let at = party.length;\n    f.deck = {};\n    let atk = sort(party.slice());\n    if (at > 0) {\n      f.deck.first = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.second = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.third = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.fourth = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.fifth = atk.pop();\n      at -= 1;\n    }\n    return f;\n  }\n  setSelection(f) {\n    switch (this.state.form.target) {\n      case \"방어\":\n        f.target = \"defense\";\n        break;\n      case \"공격\":\n        f.target = \"attack\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.arena) {\n      case \"배틀 아레나\":\n        f.arena = \"battleArena\";\n        break;\n      case \"프린세스 아레나\":\n        f.arena = \"princessArena\";\n        break;\n      case \"전체\":\n        f.arena = \"all\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.result) {\n      case \"패배\":\n        f.result = \"defeat\";\n        break;\n      case \"승리\":\n        f.result = \"victory\";\n        break;\n      case \"전체\":\n        f.result = \"all\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.date) {\n      case \"전체\":\n        f.date = \"all\";\n        break;\n      case \"7일 이내\":\n        f.date = \"week\";\n        break;\n      case \"30일 이내\":\n        f.date = \"month\";\n        break;\n      case \"3개월 이내\":\n        f.date = \"season\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.power) {\n      case \"전체\":\n        f.power = \"all\";\n        break;\n      case \"55000 이상\":\n        f.power = \">55000\";\n        break;\n      case \"50000-55000\":\n        f.power = \">50000\";\n        break;\n      case \"45000-50000\":\n        f.power = \">45000\";\n        break;\n      case \"40000-45000\":\n        f.power = \">40000\";\n        break;\n      case \"40000 미만\":\n        f.power = \"<40000\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.sort) {\n      case \"순추천순\":\n        f.sort = \"netUpvotes\";\n        break;\n      case \"최신순\":\n        f.sort = \"latest\";\n        break;\n      default:\n        break;\n    }\n    return f;\n  }\n  inputHandler(e) {\n    let eName = e.target.name;\n    let eVal = e.target.value;\n    this.setState({form: {...this.state.form, [eName]: eVal}});\n  }\n\n  queried() {\n    if (results.length > 0) {\n      //return this.state.res;\n      let items = [];\n      for (let num = offset-2; num <= offset+4; num++) {\n        if (num < 1) {\n          continue;\n        }\n        if (num > max || (num > 5 && num > offset+2)) {\n          break;\n        }\n        items.push(\n          <Pagination.Item key={num} active={num === offset} onClick={() => this.updateOffset(num)}>\n            {num}           \n          </Pagination.Item>,\n        );\n      }\n      return (\n        <div>\n        {results.map((value, index) => {\n            return <SearchParty match={value} key={index}/>\n        })}\n        <Pagination>\n        <Pagination.First onClick={() => {\n          offset = 1;\n          results = [];\n          let items = queryItems[0]['Items'];\n          if (items != null) {\n            for (let i in items) {\n              results.push(items[i]);\n            }\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Prev onClick={() => {\n          if (offset > 1) {\n            offset -= 1;\n          }\n          results = [];\n          let items = queryItems[offset-1]['Items'];\n          if (items != null) {\n            for (let i in items) {\n              results.push(items[i]);\n            }\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Ellipsis />\n        {items}\n        <Pagination.Ellipsis />\n        <Pagination.Next onClick={() => {\n          if (offset < max) {\n            offset += 1;\n          }\n          results = [];\n          let items = queryItems[offset-1]['Items'];\n          if (items != null) {\n            for (let i in items) {\n              results.push(items[i]);\n            }\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Last onClick={() => {\n          offset = max;\n          results = [];\n          let items = queryItems[offset-1]['Items'];\n          if (items != null) {\n            for (let i in items) {\n              results.push(items[i]);\n            }\n          }\n          this.forceUpdate();\n        }}/>\n        </Pagination>\n        </div>\n      );\n\n    } else if (searched) {\n      return (\n        <p className={'ten'} style={subText}>\n          {'검색 결과가 없습니다.'}\n        </p>\n      );\n    }\n  }\n  render() {\n    return (\n      <div className=\"text\">\n      <h1 style={topicText}>\n        대전 검색\n      </h1>\n      <p style={smallText} className=\"twenty\">\n        {'덧글 기능 오픈! 돋보기를 클릭해서 덧글을 등록해 보세요!'}\n        <br/>\n        {'지금까지 총 '+this.state.count+'개의 대전 결과가 등록되었습니다. (6시간마다 갱신)'}\n      </p>\n      <h2 style={subText} className=\"ten\">\n        검색 설정\n      </h2>\n      <h3 style={smallText} className=\"ten\">\n        <Form ref=\"form\">\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>덱 유형</Form.Label>\n              <Form.Control name=\"target\" onChange={this.inputHandler} as=\"select\">\n                <option>방어</option>\n                <option>공격</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>결과</Form.Label>\n              <Form.Control name=\"result\" onChange={this.inputHandler} as=\"select\">\n                <option>패배</option>\n                <option>승리</option>\n                <option>전체</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>아레나</Form.Label>\n              <Form.Control name=\"arena\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>배틀 아레나</option>\n                <option>프린세스 아레나</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>기간</Form.Label>\n              <Form.Control name=\"date\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>7일 이내</option>\n                <option>30일 이내</option>\n                <option>3개월 이내</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>전투력</Form.Label>\n              <Form.Control name=\"power\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>55000 이상</option>\n                <option>50000-55000</option>\n                <option>45000-50000</option>\n                <option>40000-45000</option>\n                <option>40000 미만</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>정렬</Form.Label>\n              <Form.Control name=\"sort\" onChange={this.inputHandler} as=\"select\">\n                <option>순추천순</option>\n                <option>최신순</option>\n              </Form.Control>\n            </Form.Group>\n          </Form.Row>\n        </Form>\n      </h3>\n      <h4 style={subText} className=\"ten\">\n        <SetParty party={party}/>\n      </h4>\n      <p style={subText} className=\"twenty\">\n        <Button variant='success' onClick={this.getSearch}>\n          검색 시작\n        </Button>\n      </p>\n      <div style={subText} className=\"ten\">\n        {this.queried()}\n      </div>\n      <Modal\n        show={this.state.errShow}\n        onHide={this.errorHide}\n        dialogClassName=\"modal-web\"\n        aria-labelledby=\"example-custom-modal-styling-title\"\n      >\n        <Modal.Header>\n          <Modal.Title>\n            {this.state.title_msg}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {this.state.msg}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"primary\" onClick={this.errorHide}>확인</Button>\n        </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {\n  Modal,\n  Form,\n  Col,\n  Button,\n  Pagination\n} from 'react-bootstrap';\nimport { sort } from './Party';\nimport { SetParty } from './SetParty';\n\nimport '../css/daum.css';\nimport '../css/text.css';\nimport { SearchParty } from './SearchParty';\n\nimport { path } from '../util/dummy';\n\nvar axios = require('axios');\n\nvar party = [];\nvar searched = false;\nvar results = [];\nvar offset = 1;\nvar max = 1;\nvar queryItems = [];\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n}\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nexport class Part extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getSearch = this.getSearch.bind(this);\n    this.setSelection = this.setSelection.bind(this);\n    this.validateDeck = this.validateDeck.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.updateOffset = this.updateOffset.bind(this);\n    this.errorShow = () => {\n      this.setState({ errShow: true });\n    };\n\n    this.errorHide = () => {\n      this.setState({ errShow: false });\n    };\n    this.state = {\n      title_msg: \"\",\n      msg: \"\",\n      errShow: false,\n      res: \"\",\n      items: [],\n      form: {\n        deckType: \"방어\",\n        matchResult: \"패배\",\n        arena: \"전체\",\n        deck: {\n\n        }\n      }\n    };\n  }\n  updateOffset(num) {\n    {\n      offset = num;\n      results = [];\n      let items = queryItems.slice((offset-1)*5, (offset)*5);\n      for (let i in items) {\n        results.push(items[i]);\n      }\n      this.forceUpdate();\n    }\n  }\n\n  getSearch() {\n    results = [];\n    if (party.length < 1) {\n      this.setState({\n        title_msg: \"검색 실패\",\n        msg: \"파티를 설정해 주세요.\"\n      });\n      this.errorShow();\n      return;\n    }\n    if (party.length < 2 || party.length > 3) {\n      this.setState({\n        title_msg: \"검색 실패\",\n        msg: \"2,3명만 선택해 주세요.\"\n      });\n      this.errorShow();\n      return;\n    }\n    let f = this.setSelection(this.state.form);\n    f = this.validateDeck(f);\n    let str = JSON.stringify(f);\n    let mPath = path + 'api/get-part';\n    this.setState({\n      title_msg: \"검색 중\",\n      msg: \"잠시만 기다려 주세요.\"\n    });\n    this.errorShow();\n    return (async _ => {\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        params: str,\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      });\n      if (res.data.message === 'Query Failed' || res.data.message === 'Parsing Failed' || res.data.message === 'Getting Items Failed' || res.data.message === 'Internal server error') {\n        this.setState({\n          title_msg: \"검색 실패\",\n          msg: \"데이터 검색에 오류가 발생했습니다.\"\n        });\n        return;\n      } else {\n        let msg = res.data.message;\n        results = [];\n        max = Math.ceil(msg.length/5);\n        offset = 1;\n        if (msg != null) {\n          let items = msg.slice(0, 5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          queryItems = msg;\n        }\n        searched = true;\n        this.errorHide();\n        this.forceUpdate();\n        return;\n      }\n    })();\n  }\n  validateDeck(f) {\n    let at = party.length;\n    f.deck = {};\n    let atk = sort(party.slice());\n    if (at > 0) {\n      f.deck.first = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.second = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.third = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.fourth = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.fifth = atk.pop();\n      at -= 1;\n    }\n    return f;\n  }\n  setSelection(f) {\n    switch (this.state.form.deckType) {\n      case \"방어\":\n        f.deckType = \"defense\";\n        break;\n      case \"공격\":\n        f.deckType = \"attack\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.arena) {\n      case \"배틀 아레나\":\n        f.arena = \"princessArena\";\n        break;\n      case \"프린세스 아레나\":\n        f.arena = \"battleArena\";\n        break;\n      case \"전체\":\n        f.arena = \"all\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.matchResult) {\n      case \"패배\":\n        if (f.deckType === 'attack') {\n          f.matchResult = \"attackWin\";\n        } else {\n          f.matchResult = \"defenseWin\";\n        }\n        break;\n      case \"승리\":\n        if (f.deckType === 'attack') {\n          f.matchResult = \"defenseWin\";\n        } else {\n          f.matchResult = \"attackWin\";\n        }\n        break;\n      case \"전체\":\n        f.matchResult = \"all\";\n        break;\n      default:\n        break;\n    }\n    return f;\n  }\n  inputHandler(e) {\n    let eName = e.target.name;\n    let eVal = e.target.value;\n    this.setState({form: {...this.state.form, [eName]: eVal}});\n  }\n\n  queried() {\n    if (results.length > 0) {\n      //return this.state.res;\n      let items = [];\n      for (let num = offset-2; num <= offset+4; num++) {\n        if (num < 1) {\n          continue;\n        }\n        if (num > max || (num > 5 && num > offset+2)) {\n          break;\n        }\n        items.push(\n          <Pagination.Item key={num} active={num === offset} onClick={() => this.updateOffset(num)}>\n            {num}           \n          </Pagination.Item>,\n        );\n      }\n      return (\n        <div>\n        {results.map((value, index) => {\n            return <SearchParty match={value} search={false} key={index}/>\n        })}\n        <Pagination>\n        <Pagination.First onClick={() => {\n          offset = 1;\n          results = [];\n          let items = queryItems.slice((offset-1)*5, (offset)*5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Prev onClick={() => {\n          if (offset > 1) {\n            offset -= 1;\n          }\n          results = [];\n          let items = queryItems.slice((offset-1)*5, (offset)*5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Ellipsis />\n        {items}\n        <Pagination.Ellipsis />\n        <Pagination.Next onClick={() => {\n          if (offset < max) {\n            offset += 1;\n          }\n          results = [];\n          let items = queryItems.slice((offset-1)*5, (offset)*5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Last onClick={() => {\n          offset = max;\n          results = [];\n          let items = queryItems.slice((offset-1)*5, (offset)*5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        </Pagination>\n        </div>\n      );\n\n    } else if (searched) {\n      return (\n        <p className={'ten'} style={subText}>\n          {'검색 결과가 없습니다.'}\n        </p>\n      );\n    }\n  }\n  render() {\n    return (\n      <div className=\"text\">\n      <h1 style={topicText}>\n        부분 검색\n      </h1>\n      <p style={smallText} className=\"twenty\">\n        {'부분 검색은 2, 3명 조합만 가능합니다.\\n최대 50개까지만 표시됩니다.'}\n        <br/>\n        {'최대 10초 이상 소요될 수 있습니다.'}\n      </p>\n      <h2 style={subText} className=\"ten\">\n        검색 설정\n      </h2>\n      <h3 style={smallText} className=\"ten\">\n        <Form ref=\"form\">\n          <Form.Row className=\"stat\">\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>덱 유형</Form.Label>\n              <Form.Control name=\"deckType\" onChange={this.inputHandler} as=\"select\">\n                <option>방어</option>\n                <option>공격</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>결과</Form.Label>\n              <Form.Control name=\"matchResult\" onChange={this.inputHandler} as=\"select\">\n                <option>패배</option>\n                <option>승리</option>\n                <option>전체</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>아레나</Form.Label>\n              <Form.Control name=\"arena\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>배틀 아레나</option>\n                <option>프린세스 아레나</option>\n              </Form.Control>\n            </Form.Group>\n          </Form.Row>\n          <Form.Row/>\n        </Form>\n      </h3>\n      <h4 style={subText} className=\"ten\">\n        <SetParty party={party}/>\n      </h4>\n      <p style={subText} className=\"twenty\">\n        <Button variant='success' onClick={this.getSearch}>\n          검색 시작\n        </Button>\n      </p>\n      <div style={subText} className=\"ten\">\n        {this.queried()}\n      </div>\n      <Modal\n        show={this.state.errShow}\n        onHide={this.errorHide}\n        dialogClassName=\"modal-web\"\n        aria-labelledby=\"example-custom-modal-styling-title\"\n      >\n        <Modal.Header>\n          <Modal.Title>\n            {this.state.title_msg}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {this.state.msg}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"primary\" onClick={this.errorHide}>확인</Button>\n        </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {\n  Image,\n  Text,\n  Group\n} from 'react-konva';\n\nimport '../css/daum.css';\nimport '../css/text.css';\n\nimport { getCoord, Yblank} from './Block.tsx';\nimport char from '../util/char';\nlet parse = require('../util/rev_parse.js');\nlet scale = 76;\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c)).XCoord,\n      y: getCoord(char.indexOf(c)).YCoord\n    };\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/characters.jpg\";\n    if (this.props.character === \"Empty\") {\n      this.setState({\n        x: 1100,\n        y: Yblank\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c)).XCoord,\n        y: getCoord(char.indexOf(c)).YCoord\n      });\n    }\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if(newProps.character !== oldProps.character) {\n      if (newProps.character === \"Empty\") {\n        this.setState({\n          x: 1100,\n          y: Yblank\n        });\n      } else {\n        let c = newProps.character;\n        this.setState({\n          x: getCoord(char.indexOf(c)).XCoord,\n          y: getCoord(char.indexOf(c)).YCoord\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <Image\n      x={this.props.setX+22}\n      y={this.props.setY*102+42}\n      width={scale}\n      height={scale}\n      image={this.state.image}\n      crop = {{\n        x: this.state.x,\n        y: this.state.y,\n        width: 76,\n        height: 76\n      }}\n      stroke={'black'}\n      strokeWidth={2}\n      />\n    );\n  }\n}\n\nexport class CharSet extends React.Component {\n\n  render() {\n    return (\n      <Group>\n      <Slot character={this.props.stat[0]} setX={this.props.setX} setY={this.props.setY}/>\n      <Text\n      x={this.props.setX-22}\n      y={this.props.setY*102+77}\n      fontSize={20}\n      fontFamily={'GyeonggiTitleM'}\n      fontStyle={'normal'}\n      fontColor={'#333333'}\n      width={42}\n      align='center'\n      text={this.props.setY+1}\n      />\n      <Text\n      x={this.props.setX-2}\n      y={this.props.setY*102+122}\n      fontSize={16}\n      fontFamily={'GyeonggiTitleM'}\n      fontStyle={'normal'}\n      fontColor={'#333333'}\n      width={124}\n      align='center'\n      text={parse[this.props.stat[0]]}\n      />\n      <Text\n      x={this.props.setX+86}\n      y={this.props.setY*102+77}\n      fontSize={21}\n      fontFamily={'GyeonggiTitleM'}\n      fontStyle={'normal'}\n      fontColor={'#333333'}\n      width={124}\n      align='center'\n      text={this.props.stat[1]['val']+'%'}\n      />\n      </Group>\n    );\n  }\n}","import React from 'react';\nimport {\n  Image,\n  Text,\n  Group\n} from 'react-konva';\n\nimport '../css/daum.css';\nimport '../css/text.css';\n\nimport { sort } from './Party.js';\nimport { getCoord, Yblank } from './Block.tsx';\nimport char from '../util/char';\n\nimport primeChar from '../util/prime';\n\nlet parse = require('../util/rev_parse.js');\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c)).XCoord,\n      y: getCoord(char.indexOf(c)).YCoord\n    };\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/characters.jpg\";\n    if (this.props.character === \"Empty\") {\n      this.setState({\n        x: 1100,\n        y: Yblank\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c)).XCoord,\n        y: getCoord(char.indexOf(c)).YCoord\n      });\n    }\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if(newProps.character !== oldProps.character) {\n      if (newProps.character === \"Empty\") {\n        this.setState({\n          x: 1100,\n          y: Yblank\n        });\n      } else {\n        let c = newProps.character;\n        this.setState({\n          x: getCoord(char.indexOf(c)).XCoord,\n          y: getCoord(char.indexOf(c)).YCoord\n        });\n      }\n    }\n  }\n  render() {\n    let comp = 0;\n    if (this.props.scale === 60) {\n      comp = 20;\n    }\n    return (\n      <Group>\n      <Image\n      x={this.props.setX+98-this.props.scale-comp*0.5}\n      y={this.props.setY*102+42+this.props.mob+comp*0.5}\n      width={this.props.scale}\n      height={this.props.scale}\n      image={this.state.image}\n      crop = {{\n        x: this.state.x,\n        y: this.state.y,\n        width: 76,\n        height: 76\n      }}\n      stroke={'black'}\n      strokeWidth={2}\n      />\n      <Text\n      x={this.props.setX+74-this.props.scale-comp}\n      y={this.props.setY*102+198+this.props.mob-this.props.scale-comp}\n      fontSize={16}\n      fontFamily={'GyeonggiTitleM'}\n      fontStyle={'normal'}\n      fontColor={'#333333'}\n      width={124}\n      align='center'\n      text={parse[this.props.character]}\n      />\n      </Group>\n    );\n  }\n}\n\nclass Duo extends React.Component {\n\n  render() {\n    let x = [this.props.setX, this.props.setX+86];\n    //\n    let team = [];\n    for (let p in primeChar) {\n      if (this.props.duos % primeChar[p] === 0) {\n        team.push(p);\n      }\n    }\n    let sorted = sort(team).splice(3, 2);\n    return (\n      <Group>\n      {sorted.map((value, index) => {\n        return <Slot character={value} setX={x[sorted.indexOf(value)]} setY={this.props.setY} scale={this.props.scale} mob={this.props.mob} key={index}/>\n      })}\n      </Group>\n    );    \n  }\n\n}\n\nclass Trio extends React.Component {\n\n  render() {\n    let x = [this.props.setX, this.props.setX+86, this.props.setX+172];\n    if (this.props.scale === 60) {\n      x = [this.props.setX, this.props.setX+80, this.props.setX+160];\n    }\n    //\n    let team = [];\n    for (let p in primeChar) {\n      if (this.props.trios % primeChar[p] === 0) {\n        team.push(p);\n      }\n    }\n    let sorted = sort(team).splice(2, 3);\n    return (\n      <Group>\n      {sorted.map((value, index) => {\n        return <Slot character={value} setX={x[sorted.indexOf(value)]} setY={this.props.setY} mob={this.props.mob} scale={this.props.scale} key={index}/>\n      })}\n      </Group>\n    );    \n  }\n}\n\nexport class TeamSet extends React.Component {\n\n  render() {\n    if (this.props.isDuo) {\n      let mob = 0;\n      if (this.props.mob === undefined) {\n        //\n      } else {\n        mob = this.props.mob;\n      }\n      return (\n        <Group>\n          <Duo duos={this.props.stat[0]} setX={this.props.setX} setY={this.props.setY} mob={mob} scale={this.props.scale}/>\n          <Text\n          x={this.props.setX-22}\n          y={this.props.setY*102+77+mob}\n          fontSize={20}\n          fontFamily={'GyeonggiTitleM'}\n          fontStyle={'normal'}\n          fontColor={'#333333'}\n          width={42}\n          align='center'\n          text={this.props.setY+1}\n          />\n          <Text\n          x={this.props.setX+172}\n          y={this.props.setY*102+77+mob}\n          fontSize={21}\n          fontFamily={'GyeonggiTitleM'}\n          fontStyle={'normal'}\n          fontColor={'#333333'}\n          width={124}\n          align='center'\n          text={this.props.stat[1]['val']+'%'}\n          />\n        </Group>\n      );\n    } else {\n      let mob = 0;\n      if (this.props.mob === undefined) {\n        //\n      } else {\n        mob = this.props.mob;\n      }\n      return (\n        <Group>\n          <Trio trios={this.props.stat[0]} setX={this.props.setX} setY={this.props.setY} mob={mob} scale={this.props.scale}/>\n          <Text\n          x={this.props.setX-22}\n          y={this.props.setY*102+77+mob}\n          fontSize={20}\n          fontFamily={'GyeonggiTitleM'}\n          fontStyle={'normal'}\n          fontColor={'#333333'}\n          width={42}\n          align='center'\n          text={this.props.setY+1}\n          />\n          <Text\n          x={this.props.setX+143+this.props.scale*1.5}\n          y={this.props.setY*102+77+mob}\n          fontSize={21}\n          fontFamily={'GyeonggiTitleM'}\n          fontStyle={'normal'}\n          fontColor={'#333333'}\n          width={124}\n          align='center'\n          text={this.props.stat[1]['val']+'%'}\n          />\n        </Group>\n      );\n    }\n  }\n}","import React from 'react';\nimport {\n  Button\n} from 'react-bootstrap';\nimport {\n  Stage,\n  Layer,\n  Text\n} from 'react-konva';\nimport { Redirect } from 'react-router-dom';\nimport { CharSet } from './CharSet';\nimport { TeamSet } from './TeamSet';\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n}\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nlet team = 'char';\nlet deck = [];\nlet text = '';\n\nexport function setRank(str, d, txt) {\n  team = str;\n  deck = d;\n  text = txt;\n}\n\nexport class Rank extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.getBack = this.getBack.bind(this);\n    this.goLink = this.goLink.bind(this);\n\n    this.state = {\n      link: false\n    }\n  }\n\n  getBack() {\n    this.setState({\n      link: true\n    });\n  }\n\n  goLink() {\n    if (this.state.link) {\n      return <Redirect to='/stat'/>\n    }\n  }\n  \n  showResult() {\n    if (team === 'char') {\n      return (\n      <div>\n        <Stage width={1076} height={2100}>\n          <Layer>\n          <Text\n            x={28}\n            y={2}\n            fontSize={19}\n            fontFamily={'GyeonggiTitleM'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={text}\n          />\n          {deck.map((value, index) => {\n            return <CharSet stat={value} setX={50} setY={deck.indexOf(value)} key={index}/>\n          })}\n          </Layer>\n        </Stage>\n      </div>\n      );\n    } else if (team === 'duo') {\n      return (\n        <div>\n        <Stage width={1076} height={2100}>\n          <Layer>\n          <Text\n            x={28}\n            y={2}\n            fontSize={19}\n            fontFamily={'GyeonggiTitleM'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={text}\n          />\n          {deck.map((value, index) => {\n            return <TeamSet stat={value} setX={50} setY={deck.indexOf(value)} isDuo={true} scale={76} key={index}/>\n          })}\n          </Layer>\n        </Stage>\n      </div>\n      );\n    } else {\n      return (\n        <div>\n        <Stage width={1076} height={2100}>\n          <Layer>\n          <Text\n            x={28}\n            y={2}\n            fontSize={19}\n            fontFamily={'GyeonggiTitleM'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={text}\n          />\n          {deck.map((value, index) => {\n            return <TeamSet stat={value} setX={50} setY={deck.indexOf(value)} isDuo={false} scale={76} key={index}/>\n          })}\n          </Layer>\n        </Stage>\n      </div>\n      );\n    }\n  }\n  render() {\n    if (deck.length === 0) {\n      return (\n        <div className=\"text\">\n          <h1 style={topicText}>\n            결과 로드 중\n          </h1>\n        <h2 style={subText} className=\"twenty\">\n          잠시만 기다려 주세요.\n        </h2>\n        </div>\n      )\n    }\n    return (\n      <div className=\"text\">\n        {this.goLink()}\n        <p style={topicText}>\n          {'통계 결과'}\n        </p>\n        {this.showResult()}\n        <p style={subText}>\n          <Button variant='success' onClick={this.getBack}>\n            {'돌아가기'}\n          </Button>\n        </p>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {\n  Form,\n  Col,\n  Button\n} from 'react-bootstrap';\nimport {\n  Stage,\n  Layer,\n  Image,\n  Text\n} from 'react-konva';\nimport { Redirect } from 'react-router-dom';\n\nimport '../css/daum.css';\nimport '../css/text.css';\n\nimport { path } from '../util/dummy';\nimport { CharSet } from './CharSet';\nimport { TeamSet } from './TeamSet';\nimport { setRank } from './Rank';\n\nvar axios = require('axios');\n\nlet loaded = false;\nlet charset = [];\nlet duoset = [];\nlet trioset = [];\nlet chartext = '';\nlet duotext = '';\nlet triotext = '';\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n}\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nexport class Stat extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getStat = this.getStat.bind(this);\n    this.getValue = this.getValue.bind(this);\n    this.getSort = this.getSort.bind(this);\n    this.result = this.result.bind(this);\n    this.getText = this.getText.bind(this);\n    this.getSearch = this.getSearch.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.goLink = this.goLink.bind(this);\n    this.goChar = this.goChar.bind(this);\n    this.goDuo = this.goDuo.bind(this);\n    this.goTrio = this.goTrio.bind(this);\n\n    this.state = {\n      stats: null,\n      error: false,\n      mag_img: null,\n      form: {\n        target: '방어',\n        type: '적폐',\n        arena: '전체',\n        date: '7일 이내'\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getStat();\n    const mag = new window.Image();\n    mag.src = '/arenatime/mag.png';\n    mag.onload = () => {\n      this.setState({\n        mag_img: mag\n      });\n    };\n  }\n\n  getSearch() {\n    this.getText();\n    this.getSort();\n  }\n\n  inputHandler(e) {\n    let eName = e.target.name;\n    let eVal = e.target.value;\n    this.setState({form: {...this.state.form, [eName]: eVal}});\n  }\n\n  goChar() {\n    setRank('char', charset, chartext);\n    this.setState({\n      link: true\n    });\n  }\n\n  goDuo() {\n    setRank('duo', duoset, duotext);\n    this.setState({\n      link: true\n    });\n  }\n\n  goTrio() {\n    setRank('trio', trioset, triotext);\n    this.setState({\n      link: true\n    });\n  }\n\n  goLink() {\n    if (this.state.link) {\n      return <Redirect to='/rank'/>\n    }\n  }\n\n  getText() {\n    chartext = '';\n    duotext = '';\n    triotext = '';\n    if (this.state.form.target === '공격') {\n      chartext += '공덱 ';\n      duotext += '공덱 ';\n      triotext += '공덱 ';\n    } else {\n      chartext += '방덱 ';\n      duotext += '방덱 ';\n      triotext += '방덱 ';\n    }\n    if (this.state.form.arena === '배틀 아레나') {\n      chartext += '배레나 ';\n      duotext += '배레나 ';\n      triotext += '배레나 ';\n    } else if (this.state.form.arena === '프린세스 아레나') {\n      chartext += '프레나 ';\n      duotext += '프레나 ';\n      triotext += '프레나 ';\n    } else {\n      chartext += '전체 ';\n      duotext += '전체 ';\n      triotext += '전체 ';\n    }\n    if (this.state.form.type === '적폐') {\n      chartext += '적폐 캐릭터';\n      duotext += '적폐 듀오';\n      triotext += '적폐 트리오';\n    } else {\n      chartext += '사기 캐릭터';\n      duotext += '사기 듀오';\n      triotext += '사기 트리오';\n    }\n  }\n\n  getValue(obj) {\n    if (this.state.form.date == '21일 이내') {\n      if (this.state.form.type === '적폐') {\n        let allbattle = 0;\n        let allprincess = 0;\n        for (let i in this.state.stats['Items']) {\n          if (this.state.stats['Items'][i]['PropertyName']['S'] === 'net') {\n            allbattle = Number(this.state.stats['Items'][i]['Stats']['L'][0]['M']['BattleCnt']['N']);\n            allprincess = Number(this.state.stats['Items'][i]['Stats']['L'][0]['M']['PrincessCnt']['N']);\n          }\n        }\n        if (this.state.form.arena === '배틀 아레나') {\n          return Math.ceil(10000*Number(obj['BattleCnt']['N'])/allbattle)/100;\n        } else if (this.state.form.arena === '프린세스 아레나') {\n          return Math.ceil(10000*Number(obj['PrincessCnt']['N'])/allprincess)/100;\n        } else {\n          let cnt = Number(obj['BattleCnt']['N']) + Number(obj['PrincessCnt']['N']);\n          let net = allbattle + allprincess;\n          return Math.ceil(10000*cnt/net)/100;\n        }\n      } else {\n        if (this.state.form.arena === '배틀 아레나') {\n          return Math.ceil(10000*Number(obj['BattleWin']['N'])/Number(obj['BattleCnt']['N']))/100;\n        } else if (this.state.form.arena === '프린세스 아레나') {\n          return Math.ceil(10000*Number(obj['PrincessWin']['N'])/Number(obj['PrincessCnt']['N']))/100;\n        } else {\n          let cnt = Number(obj['BattleCnt']['N']) + Number(obj['PrincessCnt']['N']);\n          let net = Number(obj['BattleWin']['N']) + Number(obj['PrincessWin']['N']);\n          return Math.ceil(10000*net/cnt)/100;\n        }\n      }\n    } else if (this.state.form.date == '7일 이내') {\n      if (this.state.form.type === '적폐') {\n        let allbattle = 0;\n        let allprincess = 0;\n        for (let i in this.state.stats['Items']) {\n          if (this.state.stats['Items'][i]['PropertyName']['S'] === 'netWeek') {\n            allbattle = Number(this.state.stats['Items'][i]['Stats']['L'][0]['M']['BattleCnt']['N']);\n            allprincess = Number(this.state.stats['Items'][i]['Stats']['L'][0]['M']['PrincessCnt']['N']);\n          }\n        }\n        if (this.state.form.arena === '배틀 아레나') {\n          return Math.ceil(10000*Number(obj['BattleCnt']['N'])/allbattle)/100;\n        } else if (this.state.form.arena === '프린세스 아레나') {\n          return Math.ceil(10000*Number(obj['PrincessCnt']['N'])/allprincess)/100;\n        } else {\n          let cnt = Number(obj['BattleCnt']['N']) + Number(obj['PrincessCnt']['N']);\n          let net = allbattle + allprincess;\n          return Math.ceil(10000*cnt/net)/100;\n        }\n      } else {\n        if (this.state.form.arena === '배틀 아레나') {\n          return Math.ceil(10000*Number(obj['BattleWin']['N'])/Number(obj['BattleCnt']['N']))/100;\n        } else if (this.state.form.arena === '프린세스 아레나') {\n          return Math.ceil(10000*Number(obj['PrincessWin']['N'])/Number(obj['PrincessCnt']['N']))/100;\n        } else {\n          let cnt = Number(obj['BattleCnt']['N']) + Number(obj['PrincessCnt']['N']);\n          let net = Number(obj['BattleWin']['N']) + Number(obj['PrincessWin']['N']);\n          return Math.ceil(10000*net/cnt)/100;\n        }\n      }\n    }\n  }\n\n  getSort() {\n    let res = this.state.stats['Items'];\n    let achar = {};\n    let aduo = {};\n    let atrio = {};\n    let dchar = {};\n    let dduo = {};\n    let dtrio = {};\n    if (this.state.form.date == '21일 이내') {\n      if (this.state.form.target === '공격') {\n        for (let i in res) {\n          let tmp;\n          switch (res[i]['PropertyName']['S']) {\n            case 'attackChars':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                achar[tmp[s]['M']['Character']['S']] = {\n                  entity: tmp[s]['M']['Character']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              charset = sortProperties(achar, 'val', true, true);\n              break;\n            case 'attackDuos':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                aduo[tmp[s]['M']['Deck']['S']] = {\n                  entity: tmp[s]['M']['Deck']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              duoset = sortProperties(aduo, 'val', true, true);\n              break;\n            case 'attackTrios':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                atrio[tmp[s]['M']['Deck']['S']] = {\n                  entity: tmp[s]['M']['Deck']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              trioset = sortProperties(atrio, 'val', true, true);\n              break;\n            default:\n              break;\n          }\n        }\n      }\n      if (this.state.form.target === '방어') {\n        for (let i in res) {\n          let tmp;\n          switch (res[i]['PropertyName']['S']) {\n            case 'defenseChars':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                dchar[tmp[s]['M']['Character']['S']] = {\n                  entity: tmp[s]['M']['Character']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              charset = sortProperties(dchar, 'val', true, true);\n              break;\n            case 'defenseDuos':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                dduo[tmp[s]['M']['Deck']['S']] = {\n                  entity: tmp[s]['M']['Deck']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              duoset = sortProperties(dduo, 'val', true, true);\n              break;\n            case 'defenseTrios':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                dtrio[tmp[s]['M']['Deck']['S']] = {\n                  entity: tmp[s]['M']['Deck']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              trioset = sortProperties(dtrio, 'val', true, true);\n              break;\n            default:\n              break;\n          }\n        }\n      }\n     } else if (this.state.form.date == '7일 이내') {\n        if (this.state.form.target === '공격') {\n          for (let i in res) {\n            let tmp;\n            switch (res[i]['PropertyName']['S']) {\n              case 'attackCharsWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  achar[tmp[s]['M']['Character']['S']] = {\n                    entity: tmp[s]['M']['Character']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                charset = sortProperties(achar, 'val', true, true);\n                break;\n              case 'attackDuosWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  aduo[tmp[s]['M']['Deck']['S']] = {\n                    entity: tmp[s]['M']['Deck']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                duoset = sortProperties(aduo, 'val', true, true);\n                break;\n              case 'attackTriosWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  atrio[tmp[s]['M']['Deck']['S']] = {\n                    entity: tmp[s]['M']['Deck']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                trioset = sortProperties(atrio, 'val', true, true);\n                break;\n              default:\n                break;\n            }\n          }\n        }\n        if (this.state.form.target === '방어') {\n          for (let i in res) {\n            let tmp;\n            switch (res[i]['PropertyName']['S']) {\n              case 'defenseCharsWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  dchar[tmp[s]['M']['Character']['S']] = {\n                    entity: tmp[s]['M']['Character']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                charset = sortProperties(dchar, 'val', true, true);\n                break;\n              case 'defenseDuosWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  dduo[tmp[s]['M']['Deck']['S']] = {\n                    entity: tmp[s]['M']['Deck']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                duoset = sortProperties(dduo, 'val', true, true);\n                break;\n              case 'defenseTriosWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  dtrio[tmp[s]['M']['Deck']['S']] = {\n                    entity: tmp[s]['M']['Deck']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                trioset = sortProperties(dtrio, 'val', true, true);\n                break;\n              default:\n                break;\n            }\n          }\n        }\n      }\n    \n    loaded = true;\n    this.forceUpdate();\n  }\n\n  async getStat() {\n    let mPath = path + 'api/get-stat';\n    await (async _ => {\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      });\n      if (res.data.message === 'Getting Stats Failed') {\n        console.log('Stat Error');\n        this.setState({\n          error: true\n        });\n        return;\n      } else {\n        this.setState({\n          stats: res.data.message\n        });\n      }\n    })();\n    this.getText();\n    this.getSort();\n  }\n\n  result() {\n    if (!loaded) {\n      return (\n        <div>\n\n        </div>\n      );\n    } else {\n      //\n      let cutchar = charset.slice();\n      cutchar.splice(5, cutchar.length-5);\n      let cutduo = duoset.slice();\n      cutduo.splice(5, cutduo.length-5);\n      let cuttrio = trioset.slice();\n      cuttrio.splice(5, cuttrio.length-5);\n      //\n      return (\n        <div>\n        <Stage width={1076} height={560}>\n          <Layer>\n          <Text\n            x={28}\n            y={2}\n            fontSize={19}\n            fontFamily={'daum'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={chartext}\n          />\n          <Text\n            x={318}\n            y={2}\n            fontSize={19}\n            fontFamily={'daum'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={duotext}\n          />\n          <Text\n            x={698}\n            y={2}\n            fontSize={19}\n            fontFamily={'daum'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={triotext}\n          />\n          </Layer>\n          <Layer>\n          {cutchar.map((value, index) => {\n            return <CharSet stat={value} setX={50} setY={cutchar.indexOf(value)} key={index}/>\n          })}\n          {cutduo.map((value, index) => {\n            return <TeamSet stat={value} setX={320} setY={cutduo.indexOf(value)} isDuo={true} scale={76} key={index}/>\n          })}\n          {cuttrio.map((value, index) => {\n            return <TeamSet stat={value} setX={660} setY={cuttrio.indexOf(value)} isDuo={false} scale={76} key={index}/>\n          })}\n          <Image\n            x={248}\n            y={0}\n            width={24}\n            height={24}\n            image={this.state.mag_img}\n            onClick={this.goChar}\n          />\n          <Image\n            x={528}\n            y={0}\n            width={24}\n            height={24}\n            image={this.state.mag_img}\n            onClick={this.goDuo}\n          />\n          <Image\n            x={913}\n            y={0}\n            width={24}\n            height={24}\n            image={this.state.mag_img}\n            onClick={this.goTrio}\n          />\n          </Layer>\n        </Stage>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"text\">\n      {this.goLink()}\n      <h1 style={topicText}>\n        메타 통계\n      </h1>\n      <h2 style={subText} className=\"ten\">\n        검색 설정\n      </h2>\n      <h3 style={smallText} className=\"ten\">\n        <Form ref=\"form\">\n          <Form.Row className=\"stat\" align=\"left\">\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>덱 유형</Form.Label>\n              <Form.Control name=\"target\" onChange={this.inputHandler} as=\"select\">\n                <option>방어</option>\n                <option>공격</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition2\">\n              <Form.Label>결과</Form.Label>\n              <Form.Control name=\"type\" onChange={this.inputHandler} as=\"select\">\n                <option>적폐</option>\n                <option>사기</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition3\">\n              <Form.Label>아레나</Form.Label>\n              <Form.Control name=\"arena\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>배틀 아레나</option>\n                <option>프린세스 아레나</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition4\">\n              <Form.Label>기간</Form.Label>\n              <Form.Control name=\"date\" onChange={this.inputHandler} as=\"select\">\n                <option>7일 이내</option>\n                <option>21일 이내</option>\n              </Form.Control>\n            </Form.Group>\n          </Form.Row>\n        </Form>\n      </h3>\n      <p style={subText} className=\"twenty\">\n        <Button variant='success' onClick={this.getSearch}>\n          결과 확인\n        </Button>\n      </p>\n      {this.result()}\n      </div>\n    );\n  }\n}\n\nfunction sortProperties(obj, sortedBy, isNumericSort, reverse) {\n  sortedBy = sortedBy || 1; // by default first key\n  isNumericSort = isNumericSort || false; // by default text sort\n  reverse = reverse || false; // by default no reverse\n\n  var reversed = (reverse) ? -1 : 1;\n\n  var sortable = [];\n  for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n          sortable.push([key, obj[key]]);\n      }\n  }\n  if (isNumericSort)\n      sortable.sort(function (a, b) {\n          return reversed * (a[1][sortedBy] - b[1][sortedBy]);\n      });\n  else\n      sortable.sort(function (a, b) {\n          var x = a[1][sortedBy].toLowerCase(),\n              y = b[1][sortedBy].toLowerCase();\n          return x < y ? reversed * -1 : x > y ? reversed : 0;\n      });\n  return sortable; // array in format [ [ key1, val1 ], [ key2, val2 ], ... ]\n}","import React, { Component } from 'react';\nimport { Stage, Layer } from 'react-konva';\nimport { Block } from './Block.tsx';\nimport { getChar } from '../util/distance.ts';\n\nvar netX = 0;\nvar netY = 0;\nvar col = 7;\nvar char = 90;\n\nfunction getX() {\n  netX += 1;\n  return (\n    ((netX - 1) % col) * (47 + 7) -\n    7.5 +\n    Math.floor(netY / (char - (char % col))) * (col - (char % col)) * 27\n  );\n}\n\nfunction getY() {\n  netY += 1;\n  return Math.floor((netY - 1) / col) * (47 + 7);\n}\n\nexport class MobCutter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      p: this.props.party,\n    };\n  }\n\n  render() {\n    let c = getChar();\n    netX = 0;\n    netY = 0;\n    return (\n      <Stage width={400} height={718}>\n        <Layer>\n          {c.map((value, index) => {\n            return (\n              <Block\n                character={value}\n                party={this.state.p}\n                setX={getX()}\n                setY={getY()}\n                scale={47}\n                key={index}\n              />\n            );\n          })}\n        </Layer>\n      </Stage>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  Stage,\n  Layer,\n  Image\n} from 'react-konva';\nimport { dist } from '../util/distance.ts';\nimport { getCoord, Yblank } from './Block.tsx';\nimport char from '../util/char';\n\nlet scale = 60;\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c)).XCoord,\n      y: getCoord(char.indexOf(c)).YCoord\n    };\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/characters.jpg\";\n    if (this.props.character === \"Empty\") {\n      this.setState({\n        x: 1100,\n        y: Yblank\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c)).XCoord,\n        y: getCoord(char.indexOf(c)).YCoord\n      });\n    }\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if(newProps.character !== oldProps.character) {\n      if (newProps.character === \"Empty\") {\n        this.setState({\n          x: 1100,\n          y: Yblank\n        });\n      } else {\n        let c = newProps.character;\n        this.setState({\n          x: getCoord(char.indexOf(c)).XCoord,\n          y: getCoord(char.indexOf(c)).YCoord\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <Image\n      x={this.props.setX+2}\n      y={2}\n      width={scale}\n      height={scale}\n      image={this.state.image}\n      crop = {{\n        x: this.state.x,\n        y: this.state.y,\n        width: 76,\n        height: 76\n      }}\n      stroke={'black'}\n      strokeWidth={2}\n      />\n    );\n  }\n}\n\nexport class MobParty extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n  render() {\n    let c = sort(this.props.party);\n    return (\n      <Stage width={380} height={70}>\n        <Layer>\n          {c.map((value, index) => {\n            return <Slot character={value} setX={getX()} key={index}/>\n          })}\n        </Layer>\n      </Stage>\n    );\n  }\n}\n\nlet netX = 0;\n\nfunction getX() {\n  netX += 1;\n  return (((netX-1) % 5) * (60+10));\n}\n\nexport function sort(arr) {\n  let tmp = arr.slice();\n  let dummy = tmp.slice();\n  let res = [];\n  for (let i=0; i < dummy.length; i++) {\n    let max = 0;\n    let slot = \"\";\n    for (let j=0; j < tmp.length; j++) {\n      if (max < dist[tmp[j]]) {\n        max = dist[tmp[j]];\n        slot = tmp[j];\n      }\n    }\n    res.push(slot);\n    tmp.splice(tmp.indexOf(slot), 1);\n  }\n  for (let i=res.length; i<5; i++) {\n    res.unshift(\"Empty\");\n  }\n  return res;\n}","import React from 'react';\nimport {\n  Modal,\n  Button,\n  Form,\n  Col\n} from 'react-bootstrap';\nimport { MobCutter } from './MobCutter.js';\nimport { MobParty } from './MobParty.js';\nimport { char } from '../util/char_parse.js';\n\nimport '../css/daum.css';\nimport '../css/mobile.css';\nimport '../css/MobSetParty.css';\n\nexport class MobSetParty extends React.Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.inputHandler = this.inputHandler.bind(this);\n    this.addParty = this.addParty.bind(this);\n\n    this.state = {\n      show: false,\n      text: \"대상 파티  \",\n      p: this.props.party,\n      char: \"Empty\"\n    };\n\n    this.handleShow = () => {\n      this.setState({ show: true });\n    };\n\n    this.handleHide = () => {\n      this.setState({ show: false });\n    };\n\n    this.clearParty = () => {\n      let p = this.props.party;\n      p.splice(0, p.length);\n      this.forceUpdate();\n    }\n  }\n\n  mainText = {\n    fontFamily: 'GyeonggiTitleM',\n    fontStyle: 'normal',\n    fontSize: 14,\n    fontColor: '#333333'\n  }\n  \n  componentDidMount() {\n    if (this.props.handle === \"def\") {\n      this.setState({ text: \"방어 파티  \"});\n    }\n    if (this.props.handle === \"att\") {\n      this.setState({ text: \"공격 파티  \"});\n    }\n  }\n\n  inputHandler(e) {\n    this.setState({\n      char: e.target.value\n    })\n  }\n\n  addParty() {\n    if (!(this.state.char in char)) {\n      return;\n    }\n    let p = this.props.party;\n    if (p.length < 5 && !(p.includes(char[this.state.char]))) {\n      p.push(char[this.state.char]);\n      this.forceUpdate();\n    }\n  }\n\n\n  render() {\n\n    return (\n      <div>\n        {this.state.text}\n        <Button variant=\"primary\" onClick={this.handleShow}>\n          파티 설정\n        </Button>\n        <h1 className=\"ten\">\n          {' '}\n        </h1>\n        <MobParty party={this.state.p}/>\n\n        <Modal\n          show={this.state.show}\n          onHide={this.handleHide}\n          dialogClassName=\"modal-mobile\"\n          aria-labelledby=\"example-custom-modal-styling-title\"\n        >\n\n            <Modal.Header>\n              <Modal.Title>\n                파티 설정\n              </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <MobCutter party={this.state.p}/>\n              <div align=\"center\" className=\"ten\">\n              <Form ref=\"form\">\n              <Form.Row>\n                <Form.Group as={Col} controlId=\"formGridCity\">\n                    <Form.Control className=\"char\" onChange={this.inputHandler} maxLength={8}/>\n                </Form.Group>\n              </Form.Row>\n              </Form>\n              <Button variant=\"primary\" onClick={this.addParty}>캐릭터 추가</Button>\n              </div>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"danger\" onClick={this.clearParty}>설정 초기화</Button>\n              <Button variant=\"primary\" onClick={this.handleHide}>파티 저장</Button>\n            </Modal.Footer>\n\n        </Modal>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport {\n  Stage,\n  Layer,\n  Image,\n  Group,\n  Text\n} from 'react-konva';\nimport { Redirect } from 'react-router-dom';\nimport char from '../util/char';\nimport { dist } from '../util/distance.ts';\nimport { getCoord, Yblank } from './Block.tsx';\nimport { setSearchPath } from './MobMatch';\nimport { switchFire } from './Container.js';\n\nimport { path } from '../util/dummy';\n\nvar axios = require('axios');\n\nlet scale = 46;\n\nlet attackDeckX = 88;\nlet defenseDeckX = 88;\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.setCoord = this.setCoord.bind(this);\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c['char'])).XCoord,\n      y: getCoord(char.indexOf(c['char'])).YCoord,\n      star: \"\"\n    };\n  }\n  setCoord() {\n    if (this.props.character === \"Empty\") {\n      this.setState({\n        x: 1100,\n        y: Yblank\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c['char'])).XCoord,\n        y: getCoord(char.indexOf(c['char'])).YCoord\n      });\n    }\n    let s = \"\";\n    for (let i = 0; i < this.props.character['star']; i++) {\n      s += \"★\";\n    }\n    if (!(this.props.character['star'] > 5)) {\n      this.setState({\n        star: s\n      });\n    }\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/characters.jpg\";\n    this.setCoord();\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if(newProps.character !== oldProps.character) {\n      this.setCoord();\n    }\n  }\n  render() {\n    return (\n      <Group>\n      <Image\n      x={this.props.setX+2}\n      y={this.props.setY+2}\n      width={scale}\n      height={scale}\n      image={this.state.image}\n      crop = {{\n        x: this.state.x,\n        y: this.state.y,\n        width: 76,\n        height: 76\n      }}\n      stroke={'black'}\n      strokeWidth={2}\n      />\n      <Text\n      x={this.props.setX}\n      y={2+4+scale+this.props.setY}\n      fontSize={9}\n      width={scale+4}\n      align='center'\n      fill={'#aaaa44'}\n      text={this.state.star}\n      />\n      </Group>\n    );\n  }\n}\n\nexport class MobSearchParty extends React.Component {\n  constructor(props) {\n    super(props);\n    this.goProfile = this.goProfile.bind(this);\n    this.getProps = this.getProps.bind(this);\n    this.checkLink = this.checkLink.bind(this);\n    this.showMemo = this.showMemo.bind(this);\n    this.upClicked = this.upClicked.bind(this);\n    this.downClicked = this.downClicked.bind(this);\n    this.setVotes = this.setVotes.bind(this);\n    this.vote = this.vote.bind(this);\n    this.state = {\n      voting: false,\n      attackImage: null,\n      defenseImage: null,\n      upImage: null,\n      downImage: null,\n      magImage: null,\n      upHighlighted: 0.5,\n      downHighlighted: 0.5,\n      match: this.props.match,\n      attackPower: \"\",\n      defensePower: \"\",\n      upvotes: \"\",\n      downvotes: \"\",\n      link: false,\n      attackSorted: [],\n      defenseSorted: [],\n      date: \"\"\n    };\n  }\n\n  setVotes() {\n    let uv, dv;\n    if (this.props.match['upvotes']['N'] > 99) {\n      uv = \"99+\";\n    } else {\n      uv = this.props.match['upvotes']['N'].toString()\n    }\n    if (this.props.match['downvotes']['N'] > 99) {\n      dv = \"99+\";\n    } else {\n      dv = this.props.match['downvotes']['N'].toString()\n    }\n    this.setState({\n      upvotes: uv,\n      downvotes: dv\n    });\n  }\n\n  upClicked() {\n    this.vote(\"up\");\n  }\n\n  downClicked() {\n    this.vote(\"down\");\n  }\n\n  vote(param) {\n    if (this.state.voting) {\n      return;\n    }\n    this.setState({\n      voting: true\n    });\n    let dat = {\n      matchId: this.props.match['matchId']['S'],\n      vote: param\n    }\n    let mPath = path + 'api/vote';\n    (async _ => { \n      let res = await axios({\n        method: 'put',\n        url: mPath,\n        data: dat,\n        headers: {\n          Accept: \"application/json\"\n        }\n      });\n      if (res.data.message === 'Vote Succeeded') {\n        let v = res.data.vote;\n        let m = this.props.match;\n        if (v.up === 'vote') {\n          m['upvotes']['N'] = Number(m['upvotes']['N']) + 1;\n          this.setState({\n            upHighlighted: 1,\n          });\n        } else if (v.up === 'unvote') {\n          m['upvotes']['N'] = Number(m['upvotes']['N']) - 1;\n          this.setState({\n            upHighlighted: 0.5,\n          });\n        }\n        if (v.down === 'vote') {\n          m['downvotes']['N'] = Number(m['downvotes']['N']) + 1;\n          this.setState({\n            downHighlighted: 1,\n          });\n        } else if (v.down === 'unvote') {\n          m['downvotes']['N'] = Number(m['downvotes']['N']) - 1;\n          this.setState({\n            downHighlighted: 0.5,\n          });\n        }\n        this.setState({\n          match: m\n        });\n        this.setVotes();\n        this.setState({\n          voting: false\n        });\n        this.forceUpdate();\n      }\n    })();\n  }\n\n  getProps() {\n\n    const aImage = new window.Image();\n    const dImage = new window.Image();\n    const up = new window.Image();\n    const down = new window.Image();\n    const mag = new window.Image();\n    //\n    this.setState({\n      upHighlighted: 0.5,\n      downHighlighted: 0.5\n    });\n    this.setVotes();\n    //\n    let attackParty = [];\n    let defenseParty = [];\n    //\n    let attd = this.props.match['attackDeck']['M'];\n    let defd = this.props.match['defenseDeck']['M'];\n    for (let a in attd) {\n      attackParty.push(attd[a]['S']);\n    }\n    for (let d in defd) {\n      defenseParty.push(defd[d]['S']);\n    }\n    //\n    let ap = \"\";\n    let dp = \"\";\n    if (this.props.match['attackPower']['N'] > 0) {\n      ap = \"투력 \" + this.props.match['attackPower']['N'].toString();\n      dp = \"투력 \" + this.props.match['defensePower']['N'].toString();\n    }\n    //\n    let atts = this.props.match['attackStar']['M'];\n    let defs = this.props.match['defenseStar']['M'];\n    this.setState({\n      attackSorted: sort(attackParty.slice(), atts),\n      defenseSorted: sort(defenseParty.slice(), defs),\n      attackPower: ap,\n      defensePower: dp\n    });\n    //\n    let result = this.props.match['matchResult']['S'];\n    if (result === 'attackWin') {\n      aImage.src = '/arenatime/win.png';\n      dImage.src = '/arenatime/lose.png';\n    } else {\n      aImage.src = '/arenatime/lose.png';\n      dImage.src = '/arenatime/win.png';\n    }\n    up.src = '/arenatime/thumb-up.png';\n    down.src = '/arenatime/thumb-down.png';\n    mag.src = '/arenatime/mag.png';\n    aImage.onload = () => {\n      this.setState({\n        attackImage: aImage\n      });\n    };\n    dImage.onload = () => {\n      this.setState({\n        defenseImage: dImage\n      });\n    };\n    up.onload = () => {\n      this.setState({\n        upImage: up\n      });\n    };\n    down.onload = () => {\n      this.setState({\n        downImage: down\n      });\n    };\n    mag.onload = () => {\n      this.setState({\n        magImage: mag\n      });\n    };\n    this.setState({\n      date: (this.props.match['uploadedDate']['S']).replace(/\\s(\\S)+/, \"\")\n    });\n  }\n\n  goProfile() {\n    switchFire();\n    if (this.props.search === undefined) {\n      setSearchPath(this.props.match['matchId']['S'], true);\n    }\n    else {\n      setSearchPath(this.props.match['matchId']['S'], false);\n    }\n    this.setState({\n      link: true\n    });\n  }\n\n  componentDidMount() {\n    this.getProps();\n    this.forceUpdate();\n  }\n\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if (oldProps.match !== newProps.match) {\n      this.getProps();\n    }\n  }\n\n  checkLink() {\n    if (this.state.link) {\n      return <Redirect to='/match'/>\n    }\n  }\n\n  showMemo() {\n    if (this.props.match['memo'] === undefined) {\n      return;\n    }\n    let m = this.props.match['memo']['S'];\n    let res = \"\";\n    if (m !== 'PlaceHolder') {\n      if (m.length > 40) {\n        res = m.slice(0, 40).replace(/\\n/, \"\") + '(...)';\n      } else {\n        res = m.replace(/\\n/, \"\");\n      }\n    }\n    if (this.props.match['netComments'] !== undefined && Number(this.props.match['netComments']['N']) !== 0) {\n      res += (' (덧글 ' + this.props.match['netComments']['N'] + '개)');\n    }\n    if (res !== \"\") {\n      return (\n        <div>\n          <p style={smallText}>\n            {res}\n          </p>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.checkLink()}\n      <Stage width={400} height={170}>\n        <Layer>\n        <Image\n          x={-5}\n          y={6}\n          width={92}\n          height={40}\n          image={this.state.attackImage}\n        />\n        </Layer>\n        <Layer>\n          {this.state.attackSorted.map((value, index) => {\n            return <Slot character={value} setX={getX()+attackDeckX} setY={0} key={index}/>\n          })}\n        </Layer>\n        <Layer>\n        <Image\n          x={-5}\n          y={68}\n          width={92}\n          height={40}\n          image={this.state.defenseImage}\n        />\n        </Layer>\n        <Layer>\n          {this.state.defenseSorted.map((value, index) => {\n            return <Slot character={value} setX={getX()+defenseDeckX} setY={68} key={index}/>\n          })}\n        </Layer>\n        <Layer>\n          <Text\n            x={-10}\n            y={50}\n            fontSize={14}\n            width={100}\n            align='center'\n            text={this.state.attackPower}\n          />\n          <Text\n            x={-10}\n            y={112}\n            fontSize={14}\n            width={100}\n            align='center'\n            text={this.state.defensePower}\n          />\n          <Text\n            x={-10}\n            y={140}\n            fontSize={16}\n            width={160}\n            align='center'\n            text={this.state.date}\n          />\n        <Image\n          x={137}\n          y={136}\n          width={24}\n          height={24}\n          image={this.state.upImage}\n          opacity={this.state.upHighlighted}\n          onTap={this.upClicked}\n        />\n        <Image\n          x={198}\n          y={140}\n          width={24}\n          height={24}\n          image={this.state.downImage}\n          opacity={this.state.downHighlighted}\n          onTap={this.downClicked}\n        />\n        <Text\n          x={159}\n          y={140}\n          fontSize={16}\n          width={48}\n          align='center'\n          text={this.state.upvotes}\n        />\n        <Text\n          x={217}\n          y={140}\n          fontSize={16}\n          width={48}\n          align='center'\n          text={this.state.downvotes}\n        />\n        <Image\n          x={269}\n          y={134}\n          width={24}\n          height={24}\n          image={this.state.magImage}\n          onTap={this.goProfile}\n        />\n        </Layer>\n      </Stage>\n      {this.showMemo()}\n      </div>\n    );\n  }\n}\n\nlet netX = 0;\n\nfunction getX() {\n  netX += 1;\n  return (((netX-1) % 5) * (46+8));\n}\n\nfunction sort(arr, stars) {\n  let tmp = arr.slice();\n  let dummy = tmp.slice();\n  let res = [];\n  let star = [];\n  //\n  if (stars['fifth']['N'] !== undefined) {\n    star.push(stars['fifth']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['fourth']['N'] !== undefined) {\n    star.push(stars['fourth']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['third']['N'] !== undefined) {\n    star.push(stars['third']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['second']['N'] !== undefined) {\n    star.push(stars['second']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['first']['N'] !== undefined) {\n    star.push(stars['first']['N']);\n  } else {\n    star.push(0);\n  }\n  //\n  for (let i=0; i < dummy.length; i++) {\n    let max = 0;\n    let slot = \"\";\n    for (let j=0; j < tmp.length; j++) {\n      if (max < dist[tmp[j]]) {\n        max = dist[tmp[j]];\n        slot = tmp[j];\n      }\n    }\n    res.push({'char': slot, 'star': star[i]});\n    tmp.splice(tmp.indexOf(slot), 1);\n  }\n  for (let i=res.length; i<5; i++) {\n    res.unshift(\"Empty\");\n  }\n  return res;\n}","import React from 'react';\nimport {\n  Modal,\n  Form,\n  Col,\n  Button,\n  Pagination\n} from 'react-bootstrap';\nimport { sort } from './Party';\nimport { MobSetParty } from './MobSetParty';\n\nimport '../css/daum.css';\nimport '../css/mobile.css';\nimport { MobSearchParty } from './MobSearchParty';\n\nimport { path } from '../util/dummy';\n\nvar axios = require('axios');\n\n\nvar party = [];\nvar results = [];\nvar searched = false;\nvar offset = 1;\nvar max = 1;\nvar queryItems = [];\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n}\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 24,\n  fontColor: '#333333'\n}\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 14,\n  fontColor: '#333333'\n}\n\nexport class MobSearch extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getSearch = this.getSearch.bind(this);\n    this.setSelection = this.setSelection.bind(this);\n    this.validateDeck = this.validateDeck.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.updateOffset = this.updateOffset.bind(this);\n    this.getCount = this.getCount.bind(this);\n    this.errorShow = () => {\n      this.setState({ errShow: true });\n    };\n\n    this.errorHide = () => {\n      this.setState({ errShow: false });\n    };\n    this.state = {\n      title_msg: \"\",\n      msg: \"\",\n      errShow: false,\n      res: \"\",\n      items: [],\n      count: 0,\n      form: {\n        target: \"방어\",\n        result: \"패배\",\n        arena: \"전체\",\n        date: \"전체\",\n        power: \"전체\",\n        sort: \"순추천순\",\n        deck: {\n\n        }\n      }\n    };\n  }\n  updateOffset(num) {\n    {\n      offset = num;\n      results = [];\n      let items = queryItems[offset-1]['Items'];\n      if (items != null) {\n        for (let i in items) {\n          results.push(items[i]);\n        }\n      }\n      this.forceUpdate();\n    }\n  }\n\n  componentDidMount() {\n    this.getCount();\n  }\n\n  getCount() {\n    let mPath = path + 'api/get-count';\n    return (async _ => {\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      });\n      if (res.data.message === 'Getting Count Failed') {\n        console.log('Count Error');\n        return;\n      } else {\n        this.setState({\n          count: Number(res.data.message)\n        });\n      }\n    })();\n  }\n\n  getSearch() {\n    results = [];\n    if (party.length < 1) {\n      this.setState({\n        title_msg: \"검색 실패\",\n        msg: \"파티를 설정해 주세요.\"\n      });\n      this.errorShow();\n      return;\n    }\n    searched = true;\n    let f = this.setSelection(this.state.form);\n    f = this.validateDeck(f);\n    let str = JSON.stringify(f);\n    let mPath = path + 'api/get-search';\n    return (async _ => {\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        params: str,\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      });\n      if (res.data.message === 'Query Failed' || res.data.message === 'Internal server error') {\n        this.setState({\n          title_msg: \"검색 실패\",\n          msg: \"데이터 검색에 오류가 발생했습니다.\"\n        });\n        this.errorShow();\n        return;\n      } else {\n        let msg = res.data.message;\n        results = [];\n        if (msg === 'Deck Not Found') {\n          this.forceUpdate();\n          return;\n        }\n        max = msg.length;\n        offset = 1;\n        let items = msg[offset-1]['Items'];\n        if (items != null) {\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          queryItems = msg;\n        }\n        this.forceUpdate();\n        return;\n      }\n    })();\n  }\n  validateDeck(f) {\n    let at = party.length;\n    f.deck = {};\n    let atk = sort(party.slice());\n    if (at > 0) {\n      f.deck.first = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.second = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.third = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.fourth = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.fifth = atk.pop();\n      at -= 1;\n    }\n    return f;\n  }\n  setSelection(f) {\n    switch (this.state.form.target) {\n      case \"방어\":\n        f.target = \"defense\";\n        break;\n      case \"공격\":\n        f.target = \"attack\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.arena) {\n      case \"배틀 아레나\":\n        f.arena = \"battleArena\";\n        break;\n      case \"프린세스 아레나\":\n        f.arena = \"princessArena\";\n        break;\n      case \"전체\":\n        f.arena = \"all\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.result) {\n      case \"패배\":\n        f.result = \"defeat\";\n        break;\n      case \"승리\":\n        f.result = \"victory\";\n        break;\n      case \"전체\":\n        f.result = \"all\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.date) {\n      case \"전체\":\n        f.date = \"all\";\n        break;\n      case \"7일 이내\":\n        f.date = \"week\";\n        break;\n      case \"30일 이내\":\n        f.date = \"month\";\n        break;\n      case \"3개월 이내\":\n        f.date = \"season\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.power) {\n      case \"전체\":\n        f.power = \"all\";\n        break;\n      case \"55000 이상\":\n        f.power = \">55000\";\n        break;\n      case \"50000-55000\":\n        f.power = \">50000\";\n        break;\n      case \"45000-50000\":\n        f.power = \">45000\";\n        break;\n      case \"40000-45000\":\n        f.power = \">40000\";\n        break;\n      case \"40000 미만\":\n        f.power = \"<40000\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.sort) {\n      case \"순추천순\":\n        f.sort = \"netUpvotes\";\n        break;\n      case \"최신순\":\n        f.sort = \"latest\";\n        break;\n      default:\n        break;\n    }\n    return f;\n  }\n  inputHandler(e) {\n    let eName = e.target.name;\n    let eVal = e.target.value;\n    this.setState({form: {...this.state.form, [eName]: eVal}});\n  }\n\n  queried() {\n    if (results.length > 0) {\n      //return this.state.res;\n      let items = [];\n      for (let num = offset-2; num <= offset+4; num++) {\n        if (num < 1) {\n          continue;\n        }\n        if (num > max || (num > 5 && num > offset+2)) {\n          break;\n        }\n        items.push(\n          <Pagination.Item key={num} active={num === offset} onClick={() => this.updateOffset(num)}>\n            {num}           \n          </Pagination.Item>,\n        );\n      }\n      return (\n        <div>\n        {results.map((value, index) => {\n            return <MobSearchParty match={value} key={index}/>\n        })}\n        <Pagination>\n        <Pagination.First onClick={() => {\n          offset = 1;\n          results = [];\n          let items = queryItems[0]['Items'];\n          if (items != null) {\n            for (let i in items) {\n              results.push(items[i]);\n            }\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Prev onClick={() => {\n          if (offset > 1) {\n            offset -= 1;\n          }\n          results = [];\n          let items = queryItems[offset-1]['Items'];\n          if (items != null) {\n            for (let i in items) {\n              results.push(items[i]);\n            }\n          }\n          this.forceUpdate();\n        }}/>\n        {items}\n        <Pagination.Next onClick={() => {\n          if (offset < max) {\n            offset += 1;\n          }\n          results = [];\n          let items = queryItems[offset-1]['Items'];\n          if (items != null) {\n            for (let i in items) {\n              results.push(items[i]);\n            }\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Last onClick={() => {\n          offset = max;\n          results = [];\n          let items = queryItems[offset-1]['Items'];\n          if (items != null) {\n            for (let i in items) {\n              results.push(items[i]);\n            }\n          }\n          this.forceUpdate();\n        }}/>\n        </Pagination>\n        </div>\n      );\n\n    } else if (searched) {\n      return (\n        <p className={'ten'} style={subText}>\n          {'검색 결과가 없습니다.'}\n        </p>\n      );\n    }\n  }\n  render() {\n    return (\n      <div className=\"text\">\n      <h1 style={topicText}>\n        대전 검색\n      </h1>\n      <p style={smallText} className=\"twenty\">\n        {'모바일 웹 페이지 개선 완료!'}\n        <br/>\n        {'덧글 오픈! 돋보기를 클릭해 덧글을 등록해 보세요!'}\n        <br/>\n        {'지금까지 총 '+this.state.count+'개의 대전 결과가 등록되었습니다.'}\n      </p>\n      <h2 style={subText} className=\"ten\">\n        검색 설정\n      </h2>\n      <h3 style={smallText} className=\"ten\">\n        <Form ref=\"form\">\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>덱 유형</Form.Label>\n              <Form.Control name=\"target\" onChange={this.inputHandler} as=\"select\">\n                <option>방어</option>\n                <option>공격</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>결과</Form.Label>\n              <Form.Control name=\"result\" onChange={this.inputHandler} as=\"select\">\n                <option>패배</option>\n                <option>승리</option>\n                <option>전체</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>아레나</Form.Label>\n              <Form.Control name=\"arena\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>배틀 아레나</option>\n                <option>프린세스 아레나</option>\n              </Form.Control>\n            </Form.Group>\n          </Form.Row>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>기간</Form.Label>\n              <Form.Control name=\"date\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>7일 이내</option>\n                <option>30일 이내</option>\n                <option>3개월 이내</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>전투력</Form.Label>\n              <Form.Control name=\"power\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>55000 이상</option>\n                <option>50000-55000</option>\n                <option>45000-50000</option>\n                <option>40000-45000</option>\n                <option>40000 미만</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>정렬</Form.Label>\n              <Form.Control name=\"sort\" onChange={this.inputHandler} as=\"select\">\n                <option>순추천순</option>\n                <option>최신순</option>\n              </Form.Control>\n            </Form.Group>\n          </Form.Row>\n        </Form>\n      </h3>\n      <h4 style={subText} className=\"ten\">\n        <MobSetParty party={party}/>\n      </h4>\n      <p style={subText} className=\"twenty\">\n        <Button variant='success' onClick={this.getSearch}>\n          검색 시작\n        </Button>\n      </p>\n      <div style={smallText} className=\"ten\">\n        {this.queried()}\n      </div>\n      <Modal\n        show={this.state.errShow}\n        onHide={this.errorHide}\n        dialogClassName=\"modal-mobile\"\n        aria-labelledby=\"example-custom-modal-styling-title\"\n      >\n        <Modal.Header>\n          <Modal.Title>\n            {this.state.title_msg}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {this.state.msg}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"primary\" onClick={this.errorHide}>확인</Button>\n        </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {\n  Form,\n  Col,\n  Button,\n  Alert,\n  Modal\n} from 'react-bootstrap';\nimport { MobSetParty } from './MobSetParty';\nimport { sort } from './Party';\n//import { FormData } from 'form-data';\nimport '../css/daum.css';\nimport '../css/mobile.css';\n\nimport { path } from '../util/dummy';\n\nlet axios = require('axios');\n\n\n\nvar defParty = [];\nvar attParty = [];\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n  }\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nexport class MobRegister extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFile: null,\n      loaded: false,\n      overload: false,\n      title_msg: \"\",\n      msg: \"\",\n      isSending: false,\n      errShow: false,\n      form: {\n        attackPower: 0,\n        defensePower: 0,\n        attackStar: \"\",\n        defenseStar: \"\",\n        matchResult: \"방어덱 패배\",\n        arena: \"배틀 아레나\",\n        memo: \"\"\n      }\n    };\n    this.fileHandler = this.fileHandler.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.validatePower = this.validatePower.bind(this);\n    this.validateStarAndDeck = this.validateStarAndDeck.bind(this);\n    this.validateFile = this.validateFile.bind(this);\n    this.sendDatatoS3 = this.sendDatatoS3.bind(this);\n    this.sendFiletoS3 = this.sendFiletoS3.bind(this);\n    this.setStar = this.setStar.bind(this);\n    this.setDeck = this.setDeck.bind(this);\n    this.setSelection = this.setSelection.bind(this);\n    this.checkForm = this.checkForm.bind(this);\n    this.errorShow = () => {\n      this.setState({ errShow: true });\n    };\n\n    this.errorHide = () => {\n      this.setState({ errShow: false });\n    };\n    this.resetForm = (e) => {\n      this.refs.form.reset();\n    };\n  }\n  fileHandler(e) {\n    if (e.target.files[0] == null) {\n      this.setState({\n        selectedFile: null,\n        loaded: false,\n        overload: false\n      });\n      return;\n    }\n    if (e.target.files[0].size > 3072000) {\n      this.setState({\n        selectedFile: null,\n        loaded: false,\n        overload: true\n      });\n      return;\n    }\n    this.setState({\n      selectedFile: e.target.files[0],\n      loaded: true,\n      overload: false\n    });\n  }\n  inputHandler(e) {\n    let eName = e.target.name;\n    let eVal = e.target.value;\n    this.setState({form: {...this.state.form, [eName]: eVal}});\n  }\n  checkForm(e) {\n    e.preventDefault();\n    if (this.isSending) {\n      return;\n    }\n    if (!this.validatePower()) {\n      return;\n    }\n    if (!this.validateStarAndDeck()) {\n      return;\n    }\n    if (!this.validateFile()) {\n      return;\n    }\n    this.setState({\n      title_msg: \"등록 실패\",\n      isSending: true\n    });\n    //set JSON\n    let f = {\n      matchResult: \"\",\n      arena: \"\",\n      memo: this.state.form.memo,\n      attackNum: attParty.length,\n      attackPower: this.state.form.attackPower,\n      attackDeck: {\n        first: \"\"\n      },\n      attackStar: {\n        first: 1\n      },\n      defenseNum: defParty.length,\n      defensePower: this.state.form.defensePower,\n      defenseDeck: {\n        first: \"\"\n      },\n      defenseStar: {\n        first: 1\n      }\n    };\n    f = this.setStar(f);\n    f = this.setDeck(f);\n    f = this.setSelection(f);\n    this.setState({\n      title_msg: \"등록 실패\",\n      msg: \"대전 업로드에 실패했습니다.\"\n    });\n    //send image API\n    (async _ => {\n      if (this.state.loaded) {\n        this.setState({\n          title_msg: \"등록 중\",\n          msg: \"잠시만 기다려 주세요.\"\n        });\n        this.errorShow();\n        let s3 = await this.sendFiletoS3();\n        let dat = await this.sendDatatoS3(f, s3);\n        if (dat === 'Succeeded Data Upload') {\n          this.resetForm(e);\n          defParty.splice(0, defParty.length);\n          attParty.splice(0, attParty.length);\n          this.setState({\n            memo: \"\",\n            title_msg: \"등록 성공\",\n            msg: \"대전 결과가 DB에 등록되었습니다.\"\n          });\n        }\n      } else {\n        let s3 = 'Not Uploaded';\n        this.setState({\n          title_msg: \"등록 중\",\n          msg: \"잠시만 기다려 주세요.\"\n        });\n        this.errorShow();\n        let dat = await this.sendDatatoS3(f, s3);\n        if (dat === 'Succeeded Data Upload') {\n          this.resetForm(e);\n          defParty.splice(0, defParty.length);\n          attParty.splice(0, attParty.length);\n          this.setState({\n            memo: \"\",\n            title_msg: \"등록 성공\",\n            msg: \"대전 결과가 DB에 등록되었습니다.\"\n          });\n        }\n      }\n      //reset form\n      this.setState({\n        isSending: false\n      });\n    })();\n  }\n  validatePower() {\n    this.setState({\n      title_msg: \"등록 실패\",\n      msg: \"정상 범위 내의 전투력을 입력해 주세요.\"\n    });\n    if (!(this.state.form.attackPower > 100) && this.state.form.attackPower !== 0) {\n      this.errorShow();\n      return false;\n    }\n    if (!(this.state.form.attackPower < 100000)) {\n      this.errorShow();\n      return false;\n    }\n    if (!(this.state.form.defensePower > 100) && this.state.form.defensePower !== 0) {\n      this.errorShow();\n      return false;\n    }\n    if (!(this.state.form.defensePower < 100000)) {\n      this.errorShow();\n      return false;\n    }\n    return true;\n  }\n  validateStarAndDeck() {\n    this.setState({\n      title_msg: \"등록 실패\",\n      msg: \"덱을 정확히 입력해 주세요.\"\n    });\n    if ((this.state.form.attackStar === \"\" || this.state.form.attackStar === 99999) && (this.state.form.defenseStar === \"\" || this.state.form.defenseStar === 99999) && attParty.length > 0 && defParty.length > 0) {\n      let f = this.state.form;\n      f.attackStar = 99999;\n      f.defenseStar = 99999;\n      this.setState({\n        form: f\n      });\n      return true;\n    }\n    let a = this.state.form.attackStar;\n    if (!(a % 10 > 0 && a % 10 < 6)\n    || !(a < 10 || (Math.floor(a/10) % 10 > 0 && Math.floor(a/10) % 10 < 6))\n    || !(a < 100 || (Math.floor(a/100) % 10 > 0 && Math.floor(a/100) % 10 < 6))\n    || !(a < 1000 || (Math.floor(a/1000) % 10 > 0 && Math.floor(a/1000) % 10 < 6))\n    || !(a < 10000 || (Math.floor(a/10000) % 10 > 0 && Math.floor(a/10000) % 10 < 6))) {\n      this.errorShow();\n      return false;\n    }\n    let d = this.state.form.defenseStar;\n    if (!(d % 10 > 0 && d % 10 < 6)\n    || !(d < 10 || (Math.floor(d/10) % 10 > 0 && Math.floor(d/10) % 10 < 6))\n    || !(d < 100 || (Math.floor(d/100) % 10 > 0 && Math.floor(d/100) % 10 < 6))\n    || !(d < 1000 || (Math.floor(d/1000) % 10 > 0 && Math.floor(d/1000) % 10 < 6))\n    || !(d < 10000 || (Math.floor(d/10000) % 10 > 0 && Math.floor(d/10000) % 10 < 6))) {\n      this.errorShow();\n      return false;\n    }\n    if (Math.floor(a/Math.pow(10, attParty.length-1)) < 1 || (a/Math.pow(10, attParty.length-1)) >= 10) {\n      this.errorShow();\n      return false;\n    }\n    if (Math.floor(d/Math.pow(10, defParty.length-1)) < 1 || (d/Math.pow(10, defParty.length-1)) >= 10) {\n      this.errorShow();\n      return false;\n    }\n    return true;\n  }\n  validateFile() {\n    this.setState({\n      msg: \"파일 크기를 조정해 주세요.\"\n    });\n    if (this.state.overload) {\n      return false;\n    }\n    return true;\n  }\n  setStar(f) {\n    let atk = this.state.form.attackStar;\n    let aParty = Math.floor(Math.log10(atk));\n    if (aParty >= 0) {\n      f.attackStar.first = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.first * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    if (aParty >= 0) {\n      f.attackStar.second = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.second * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    if (aParty >= 0) {\n      f.attackStar.third = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.third * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    if (aParty >= 0) {\n      f.attackStar.fourth = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.fourth * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    if (aParty >= 0) {\n      f.attackStar.fifth = Math.floor(atk / Math.pow(10, aParty));\n      atk -= f.attackStar.fifth * Math.pow(10, aParty);\n      aParty -= 1;\n    }\n    let dfs = this.state.form.defenseStar;\n    let dParty = Math.floor(Math.log10(dfs));\n    if (dParty >= 0) {\n      f.defenseStar.first = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.first * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    if (dParty >= 0) {\n      f.defenseStar.second = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.second * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    if (dParty >= 0) {\n      f.defenseStar.third = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.third * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    if (dParty >= 0) {\n      f.defenseStar.fourth = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.fourth * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    if (dParty >= 0) {\n      f.defenseStar.fifth = Math.floor(dfs / Math.pow(10, dParty));\n      dfs -= f.defenseStar.fifth * Math.pow(10, dParty);\n      dParty -= 1;\n    }\n    return f;\n  }\n  setDeck(f) {\n    let at = f.attackNum;\n    let atk = sort(attParty.slice());\n    if (at > 0) {\n      f.attackDeck.first = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.attackDeck.second = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.attackDeck.third = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.attackDeck.fourth = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.attackDeck.fifth = atk.pop();\n      at -= 1;\n    }\n    let df = f.defenseNum;\n    let dfs = sort(defParty.slice());\n    if (df > 0) {\n      f.defenseDeck.first = dfs.pop();\n      df -= 1;\n    }\n    if (df > 0) {\n      f.defenseDeck.second = dfs.pop();\n      df -= 1;\n    }\n    if (df > 0) {\n      f.defenseDeck.third = dfs.pop();\n      df -= 1;\n    }\n    if (df > 0) {\n      f.defenseDeck.fourth = dfs.pop();\n      df -= 1;\n    }\n    if (df > 0) {\n      f.defenseDeck.fifth = dfs.pop();\n      df -= 1;\n    }\n    return f;\n  }\n  setSelection(f) {\n    if (this.state.form.arena === \"배틀 아레나\") {\n      f.arena = \"battleArena\";\n    } else {\n      f.arena = \"princessArena\";\n    }\n    if (this.state.form.matchResult === \"방어덱 패배\") {\n      f.matchResult = \"attackWin\";\n    } else {\n      f.matchResult = \"defenseWin\";\n    }\n    return f;\n  }\n  sendFiletoS3 () {\n    let result = 'Upload Failed';\n    let mPath = path + 'api/put-s3-image';\n    return (async _ => {\n      let form = new FormData();\n      try {\n        let f = await this.getBase64(this.state.selectedFile);\n        form.append('image', f);\n        let res = await axios({\n          method: 'post',\n          url: mPath,\n          data: form,\n          headers: {\n            \"Accept\": \"multipart/form-data\",\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        if (res.status === 200) {\n          result = res.data.message;\n        }\n      }\n      catch {\n        //\n        console.log(\"put image error\");\n      }\n      return result;\n    })();\n  }\n  sendDatatoS3 (f, res) {\n    if (res === undefined || res === 'Upload Failed') {\n      return false;\n    }\n    let mPath = path + 'api/put-s3-data';\n    let result = 'Upload Failed';\n    if (res !== 'Not Uploaded') {\n      f.imagePath = res;\n    }\n    let str = JSON.stringify(f);\n    return (async _ => {\n      try {\n        let resp = await axios({\n          url: mPath,\n          method: 'post',\n          data: str,\n          headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n          }\n        })\n        if (resp.status === 200) {\n          result = resp.data.message;\n        }\n      }\n      catch {\n        console.log(\"put data error\");\n      }\n      return result;\n    })();\n  }\n  getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  }\n  alert() {\n    if (this.state.overload) {\n      return (\n        <div>\n        <br/>\n        <Alert variant=\"danger\">\n          <div>\n            파일 제한 용량을 초과했습니다.\n          </div>\n        </Alert>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"text\">\n      <h1 style={topicText}>\n        대전 등록\n      </h1>\n      <h2 style={subText} className=\"twenty\">\n        대전 유형\n      </h2>\n      <h3 style={smallText} className=\"ten\">\n        <Form ref=\"form\">\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>공격덱 전투력</Form.Label>\n                <Form.Control name=\"attackPower\" onChange={this.inputHandler} maxLength={5}/>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>방어덱 전투력</Form.Label>\n                <Form.Control name=\"defensePower\" onChange={this.inputHandler} maxLength={5}/>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>공격덱 성급</Form.Label>\n                <Form.Control placeholder=\"(54434)\" name=\"attackStar\" onChange={this.inputHandler} maxLength={5}/>\n            </Form.Group>\n          </Form.Row>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>방어덱 성급</Form.Label>\n                <Form.Control placeholder=\"(54434)\" name=\"defenseStar\" onChange={this.inputHandler} maxLength={5}/>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>결과</Form.Label>\n              <Form.Control as=\"select\" name=\"matchResult\" onChange={this.inputHandler}>\n                <option>방어덱 패배</option>\n                <option>방어덱 승리</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>아레나</Form.Label>\n              <Form.Control as=\"select\" name=\"arena\" onChange={this.inputHandler}>\n                <option>배틀 아레나</option>\n                <option>프린세스 아레나</option>\n              </Form.Control>\n            </Form.Group>\n          </Form.Row>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>설명</Form.Label>\n                <Form.Control as=\"textarea\" name=\"memo\" onChange={this.inputHandler} maxLength={200}/>\n            </Form.Group>\n          </Form.Row>\n        </Form>\n      </h3>\n      <h4 style={subText} className=\"ten\">\n        <MobSetParty party={attParty} handle=\"att\"/>\n      </h4>\n      <h5 style={subText} className=\"twenty\">\n        <MobSetParty party={defParty} handle=\"def\"/>\n      </h5>\n      <h6 style={subText} className=\"twenty\">\n        {\"결과 이미지\"}\n      </h6>\n      <div style={smallText} className=\"ten\">\n        {\"3MB 이하의 .jpg .jpeg .png 파일을 올려주세요.\"}\n        <br/>\n        <input type=\"file\" name=\"file\" accept=\".jpg, .jpeg, .png\" onChange={this.fileHandler}/>\n        {this.alert()}\n      </div>\n      <p style={subText} className=\"twenty\">\n        <Button variant='success' onClick={this.checkForm}>\n          대전 등록\n        </Button>\n      </p>\n      <Modal\n          show={this.state.errShow}\n          onHide={this.errorHide}\n          dialogClassName=\"modal-mobile\"\n          aria-labelledby=\"example-custom-modal-styling-title\"\n        >\n\n            <Modal.Header>\n              <Modal.Title>\n                {this.state.title_msg}\n              </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              {this.state.msg}\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"primary\" onClick={this.errorHide}>확인</Button>\n            </Modal.Footer>\n\n        </Modal>\n      </div>\n    );\n  }\n}\n\n","import React from 'react';\nimport {\n  Modal,\n  Form,\n  Col,\n  Button,\n  Pagination\n} from 'react-bootstrap';\nimport { sort } from './Party';\nimport { MobSetParty } from './MobSetParty';\n\nimport '../css/daum.css';\nimport '../css/mobile.css';\nimport { MobSearchParty } from './MobSearchParty';\n\nimport { path } from '../util/dummy';\n\nvar axios = require('axios');\n\nvar party = [];\nvar searched = false;\nvar results = [];\nvar offset = 1;\nvar max = 1;\nvar queryItems = [];\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n}\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nexport class MobPart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getSearch = this.getSearch.bind(this);\n    this.setSelection = this.setSelection.bind(this);\n    this.validateDeck = this.validateDeck.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.updateOffset = this.updateOffset.bind(this);\n    this.errorShow = () => {\n      this.setState({ errShow: true });\n    };\n\n    this.errorHide = () => {\n      this.setState({ errShow: false });\n    };\n    this.state = {\n      title_msg: \"\",\n      msg: \"\",\n      errShow: false,\n      res: \"\",\n      items: [],\n      form: {\n        deckType: \"방어\",\n        matchResult: \"패배\",\n        arena: \"전체\",\n        deck: {\n\n        }\n      }\n    };\n  }\n  updateOffset(num) {\n    {\n      offset = num;\n      results = [];\n      let items = queryItems.slice((offset-1)*5, (offset)*5);\n      for (let i in items) {\n        results.push(items[i]);\n      }\n      this.forceUpdate();\n    }\n  }\n\n  getSearch() {\n    results = [];\n    if (party.length < 1) {\n      this.setState({\n        title_msg: \"검색 실패\",\n        msg: \"파티를 설정해 주세요.\"\n      });\n      this.errorShow();\n      return;\n    }\n    if (party.length < 2 || party.length > 3) {\n      this.setState({\n        title_msg: \"검색 실패\",\n        msg: \"2,3명만 선택해 주세요.\"\n      });\n      this.errorShow();\n      return;\n    }\n    let f = this.setSelection(this.state.form);\n    f = this.validateDeck(f);\n    let str = JSON.stringify(f);\n    let mPath = path + 'api/get-part';\n    this.setState({\n      title_msg: \"검색 중\",\n      msg: \"잠시만 기다려 주세요.\"\n    });\n    this.errorShow();\n    return (async _ => {\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        params: str,\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      });\n      if (res.data.message === 'Query Failed' || res.data.message === 'Parsing Failed' || res.data.message === 'Getting Items Failed' || res.data.message === 'Internal server error') {\n        this.setState({\n          title_msg: \"검색 실패\",\n          msg: \"데이터 검색에 오류가 발생했습니다.\"\n        });\n        return;\n      } else {\n        let msg = res.data.message;\n        results = [];\n        max = Math.ceil(msg.length/5);\n        offset = 1;\n        if (msg != null) {\n          let items = msg.slice(0, 5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          queryItems = msg;\n        }\n        searched = true;\n        this.errorHide();\n        this.forceUpdate();\n        return;\n      }\n    })();\n  }\n  validateDeck(f) {\n    let at = party.length;\n    f.deck = {};\n    let atk = sort(party.slice());\n    if (at > 0) {\n      f.deck.first = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.second = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.third = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.fourth = atk.pop();\n      at -= 1;\n    }\n    if (at > 0) {\n      f.deck.fifth = atk.pop();\n      at -= 1;\n    }\n    return f;\n  }\n  setSelection(f) {\n    switch (this.state.form.deckType) {\n      case \"방어\":\n        f.deckType = \"defense\";\n        break;\n      case \"공격\":\n        f.deckType = \"attack\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.arena) {\n      case \"배틀 아레나\":\n        f.arena = \"princessArena\";\n        break;\n      case \"프린세스 아레나\":\n        f.arena = \"battleArena\";\n        break;\n      case \"전체\":\n        f.arena = \"all\";\n        break;\n      default:\n        break;\n    }\n    switch (this.state.form.matchResult) {\n      case \"패배\":\n        if (f.deckType === 'attack') {\n          f.matchResult = \"attackWin\";\n        } else {\n          f.matchResult = \"defenseWin\";\n        }\n        break;\n      case \"승리\":\n        if (f.deckType === 'attack') {\n          f.matchResult = \"defenseWin\";\n        } else {\n          f.matchResult = \"attackWin\";\n        }\n        break;\n      case \"전체\":\n        f.matchResult = \"all\";\n        break;\n      default:\n        break;\n    }\n    return f;\n  }\n  inputHandler(e) {\n    let eName = e.target.name;\n    let eVal = e.target.value;\n    this.setState({form: {...this.state.form, [eName]: eVal}});\n  }\n\n  queried() {\n    if (results.length > 0) {\n      //return this.state.res;\n      let items = [];\n      for (let num = offset-2; num <= offset+4; num++) {\n        if (num < 1) {\n          continue;\n        }\n        if (num > max || (num > 5 && num > offset+2)) {\n          break;\n        }\n        items.push(\n          <Pagination.Item key={num} active={num === offset} onClick={() => this.updateOffset(num)}>\n            {num}           \n          </Pagination.Item>,\n        );\n      }\n      return (\n        <div>\n        {results.map((value, index) => {\n            return <MobSearchParty match={value} search={false} key={index}/>\n        })}\n        <Pagination>\n        <Pagination.First onClick={() => {\n          offset = 1;\n          results = [];\n          let items = queryItems.slice((offset-1)*5, (offset)*5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Prev onClick={() => {\n          if (offset > 1) {\n            offset -= 1;\n          }\n          results = [];\n          let items = queryItems.slice((offset-1)*5, (offset)*5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        {items}\n        <Pagination.Next onClick={() => {\n          if (offset < max) {\n            offset += 1;\n          }\n          results = [];\n          let items = queryItems.slice((offset-1)*5, (offset)*5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Last onClick={() => {\n          offset = max;\n          results = [];\n          let items = queryItems.slice((offset-1)*5, (offset)*5);\n          for (let i in items) {\n            results.push(items[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        </Pagination>\n        </div>\n      );\n\n    } else if (searched) {\n      return (\n        <p className={'ten'} style={subText}>\n          {'검색 결과가 없습니다.'}\n        </p>\n      );\n    }\n  }\n  render() {\n    return (\n      <div className=\"text\">\n      <h1 style={topicText}>\n        부분 검색\n      </h1>\n      <p style={smallText} className=\"twenty\">\n        {'부분 검색은 2, 3명 조합만 가능합니다.'}\n        <br/>\n        {'최대 50개까지만 표시됩니다.'}\n        <br/>\n        {'최대 10초 이상 소요될 수 있습니다.'}\n      </p>\n      <h2 style={subText} className=\"ten\">\n        검색 설정\n      </h2>\n      <h3 style={smallText} className=\"ten\">\n        <Form ref=\"form\">\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>덱 유형</Form.Label>\n              <Form.Control name=\"deckType\" onChange={this.inputHandler} as=\"select\">\n                <option>방어</option>\n                <option>공격</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>결과</Form.Label>\n              <Form.Control name=\"matchResult\" onChange={this.inputHandler} as=\"select\">\n                <option>패배</option>\n                <option>승리</option>\n                <option>전체</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>아레나</Form.Label>\n              <Form.Control name=\"arena\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>배틀 아레나</option>\n                <option>프린세스 아레나</option>\n              </Form.Control>\n            </Form.Group>\n          </Form.Row>\n          <Form.Row/>\n        </Form>\n      </h3>\n      <h4 style={subText} className=\"ten\">\n        <MobSetParty party={party}/>\n      </h4>\n      <p style={subText} className=\"twenty\">\n        <Button variant='success' onClick={this.getSearch}>\n          검색 시작\n        </Button>\n      </p>\n      <div style={smallText} className=\"ten\">\n        {this.queried()}\n      </div>\n      <Modal\n        show={this.state.errShow}\n        onHide={this.errorHide}\n        dialogClassName=\"modal-mobile\"\n        aria-labelledby=\"example-custom-modal-styling-title\"\n      >\n        <Modal.Header>\n          <Modal.Title>\n            {this.state.title_msg}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {this.state.msg}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"primary\" onClick={this.errorHide}>확인</Button>\n        </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {\n  Button\n} from 'react-bootstrap';\nimport {\n  Stage,\n  Layer,\n  Text\n} from 'react-konva';\nimport { Redirect } from 'react-router-dom';\nimport { CharSet } from './CharSet';\nimport { TeamSet } from './TeamSet';\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n}\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nlet team = 'char';\nlet deck = [];\nlet text = '';\n\nexport function setRank(str, d, txt) {\n  team = str;\n  deck = d;\n  text = txt;\n}\n\nexport class MobRank extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.getBack = this.getBack.bind(this);\n    this.goLink = this.goLink.bind(this);\n\n    this.state = {\n      link: false\n    }\n  }\n\n  getBack() {\n    this.setState({\n      link: true\n    });\n  }\n\n  goLink() {\n    if (this.state.link) {\n      return <Redirect to='/stat'/>\n    }\n  }\n  \n  showResult() {\n    if (team === 'char') {\n      return (\n      <div>\n        <Stage width={400} height={2100}>\n          <Layer>\n          <Text\n            x={28}\n            y={2}\n            fontSize={19}\n            fontFamily={'GyeonggiTitleM'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={text}\n          />\n          {deck.map((value, index) => {\n            return <CharSet stat={value} setX={70} setY={deck.indexOf(value)} key={index}/>\n          })}\n          </Layer>\n        </Stage>\n      </div>\n      );\n    } else if (team === 'duo') {\n      return (\n        <div>\n        <Stage width={400} height={2100}>\n          <Layer>\n          <Text\n            x={28}\n            y={2}\n            fontSize={19}\n            fontFamily={'GyeonggiTitleM'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={text}\n          />\n          {deck.map((value, index) => {\n            return <TeamSet stat={value} setX={40} setY={deck.indexOf(value)} isDuo={true} scale={76} key={index}/>\n          })}\n          </Layer>\n        </Stage>\n      </div>\n      );\n    } else {\n      return (\n        <div>\n        <Stage width={400} height={2100}>\n          <Layer>\n          <Text\n            x={28}\n            y={2}\n            fontSize={19}\n            fontFamily={'GyeonggiTitleM'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={text}\n          />\n          {deck.map((value, index) => {\n            return <TeamSet stat={value} setX={8} setY={deck.indexOf(value)} isDuo={false} scale={60} key={index}/>\n          })}\n          </Layer>\n        </Stage>\n      </div>\n      );\n    }\n  }\n  render() {\n    if (deck.length === 0) {\n      return (\n        <div className=\"text\">\n          <h1 style={topicText}>\n            결과 로드 중\n          </h1>\n        <h2 style={subText} className=\"twenty\">\n          잠시만 기다려 주세요.\n        </h2>\n        </div>\n      )\n    }\n    return (\n      <div className=\"text\">\n        {this.goLink()}\n        <p style={topicText}>\n          {'통계 결과'}\n        </p>\n        {this.showResult()}\n        <p style={subText}>\n          <Button variant='success' onClick={this.getBack}>\n            {'돌아가기'}\n          </Button>\n        </p>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport {\n  Form,\n  Col,\n  Button\n} from 'react-bootstrap';\nimport {\n  Stage,\n  Layer,\n  Image,\n  Text\n} from 'react-konva';\nimport { Redirect } from 'react-router-dom';\n\nimport '../css/daum.css';\nimport '../css/text.css';\n\nimport { path } from '../util/dummy';\nimport { CharSet } from './CharSet';\nimport { TeamSet } from './TeamSet';\nimport { setRank } from './MobRank';\n\nvar axios = require('axios');\n\nlet loaded = false;\nlet charset = [];\nlet duoset = [];\nlet trioset = [];\nlet chartext = '';\nlet duotext = '';\nlet triotext = '';\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n}\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nexport class MobStat extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getStat = this.getStat.bind(this);\n    this.getValue = this.getValue.bind(this);\n    this.getSort = this.getSort.bind(this);\n    this.result = this.result.bind(this);\n    this.getText = this.getText.bind(this);\n    this.getSearch = this.getSearch.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.goLink = this.goLink.bind(this);\n    this.goChar = this.goChar.bind(this);\n    this.goDuo = this.goDuo.bind(this);\n    this.goTrio = this.goTrio.bind(this);\n\n    this.state = {\n      stats: null,\n      error: false,\n      mag_img: null,\n      form: {\n        target: '방어',\n        type: '적폐',\n        arena: '전체',\n        date: '7일 이내'\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getStat();\n    const mag = new window.Image();\n    mag.src = '/arenatime/mag.png';\n    mag.onload = () => {\n      this.setState({\n        mag_img: mag\n      });\n    };\n  }\n\n  getSearch() {\n    this.getText();\n    this.getSort();\n  }\n\n  inputHandler(e) {\n    let eName = e.target.name;\n    let eVal = e.target.value;\n    this.setState({form: {...this.state.form, [eName]: eVal}});\n  }\n\n  goChar() {\n    setRank('char', charset, chartext);\n    this.setState({\n      link: true\n    });\n  }\n\n  goDuo() {\n    setRank('duo', duoset, duotext);\n    this.setState({\n      link: true\n    });\n  }\n\n  goTrio() {\n    setRank('trio', trioset, triotext);\n    this.setState({\n      link: true\n    });\n  }\n\n  goLink() {\n    if (this.state.link) {\n      return <Redirect to='/rank'/>\n    }\n  }\n\n  getText() {\n    chartext = '';\n    duotext = '';\n    triotext = '';\n    if (this.state.form.target === '공격') {\n      chartext += '공덱 ';\n      duotext += '공덱 ';\n      triotext += '공덱 ';\n    } else {\n      chartext += '방덱 ';\n      duotext += '방덱 ';\n      triotext += '방덱 ';\n    }\n    if (this.state.form.arena === '배틀 아레나') {\n      chartext += '배레나 ';\n      duotext += '배레나 ';\n      triotext += '배레나 ';\n    } else if (this.state.form.arena === '프린세스 아레나') {\n      chartext += '프레나 ';\n      duotext += '프레나 ';\n      triotext += '프레나 ';\n    } else {\n      chartext += '전체 ';\n      duotext += '전체 ';\n      triotext += '전체 ';\n    }\n    if (this.state.form.type === '적폐') {\n      chartext += '적폐 캐릭터';\n      duotext += '적폐 듀오';\n      triotext += '적폐 트리오';\n    } else {\n      chartext += '사기 캐릭터';\n      duotext += '사기 듀오';\n      triotext += '사기 트리오';\n    }\n  }\n\n  getValue(obj) {\n    if (this.state.form.date == '21일 이내') {\n      if (this.state.form.type === '적폐') {\n        let allbattle = 0;\n        let allprincess = 0;\n        for (let i in this.state.stats['Items']) {\n          if (this.state.stats['Items'][i]['PropertyName']['S'] === 'net') {\n            allbattle = Number(this.state.stats['Items'][i]['Stats']['L'][0]['M']['BattleCnt']['N']);\n            allprincess = Number(this.state.stats['Items'][i]['Stats']['L'][0]['M']['PrincessCnt']['N']);\n          }\n        }\n        if (this.state.form.arena === '배틀 아레나') {\n          return Math.ceil(10000*Number(obj['BattleCnt']['N'])/allbattle)/100;\n        } else if (this.state.form.arena === '프린세스 아레나') {\n          return Math.ceil(10000*Number(obj['PrincessCnt']['N'])/allprincess)/100;\n        } else {\n          let cnt = Number(obj['BattleCnt']['N']) + Number(obj['PrincessCnt']['N']);\n          let net = allbattle + allprincess;\n          return Math.ceil(10000*cnt/net)/100;\n        }\n      } else {\n        if (this.state.form.arena === '배틀 아레나') {\n          return Math.ceil(10000*Number(obj['BattleWin']['N'])/Number(obj['BattleCnt']['N']))/100;\n        } else if (this.state.form.arena === '프린세스 아레나') {\n          return Math.ceil(10000*Number(obj['PrincessWin']['N'])/Number(obj['PrincessCnt']['N']))/100;\n        } else {\n          let cnt = Number(obj['BattleCnt']['N']) + Number(obj['PrincessCnt']['N']);\n          let net = Number(obj['BattleWin']['N']) + Number(obj['PrincessWin']['N']);\n          return Math.ceil(10000*net/cnt)/100;\n        }\n      }\n    } else if (this.state.form.date == '7일 이내') {\n      if (this.state.form.type === '적폐') {\n        let allbattle = 0;\n        let allprincess = 0;\n        for (let i in this.state.stats['Items']) {\n          if (this.state.stats['Items'][i]['PropertyName']['S'] === 'netWeek') {\n            allbattle = Number(this.state.stats['Items'][i]['Stats']['L'][0]['M']['BattleCnt']['N']);\n            allprincess = Number(this.state.stats['Items'][i]['Stats']['L'][0]['M']['PrincessCnt']['N']);\n          }\n        }\n        if (this.state.form.arena === '배틀 아레나') {\n          return Math.ceil(10000*Number(obj['BattleCnt']['N'])/allbattle)/100;\n        } else if (this.state.form.arena === '프린세스 아레나') {\n          return Math.ceil(10000*Number(obj['PrincessCnt']['N'])/allprincess)/100;\n        } else {\n          let cnt = Number(obj['BattleCnt']['N']) + Number(obj['PrincessCnt']['N']);\n          let net = allbattle + allprincess;\n          return Math.ceil(10000*cnt/net)/100;\n        }\n      } else {\n        if (this.state.form.arena === '배틀 아레나') {\n          return Math.ceil(10000*Number(obj['BattleWin']['N'])/Number(obj['BattleCnt']['N']))/100;\n        } else if (this.state.form.arena === '프린세스 아레나') {\n          return Math.ceil(10000*Number(obj['PrincessWin']['N'])/Number(obj['PrincessCnt']['N']))/100;\n        } else {\n          let cnt = Number(obj['BattleCnt']['N']) + Number(obj['PrincessCnt']['N']);\n          let net = Number(obj['BattleWin']['N']) + Number(obj['PrincessWin']['N']);\n          return Math.ceil(10000*net/cnt)/100;\n        }\n      }\n    }\n  }\n\n  getSort() {\n    let res = this.state.stats['Items'];\n    let achar = {};\n    let aduo = {};\n    let atrio = {};\n    let dchar = {};\n    let dduo = {};\n    let dtrio = {};\n    if (this.state.form.date == '21일 이내') {\n      if (this.state.form.target === '공격') {\n        for (let i in res) {\n          let tmp;\n          switch (res[i]['PropertyName']['S']) {\n            case 'attackChars':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                achar[tmp[s]['M']['Character']['S']] = {\n                  entity: tmp[s]['M']['Character']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              charset = sortProperties(achar, 'val', true, true);\n              break;\n            case 'attackDuos':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                aduo[tmp[s]['M']['Deck']['S']] = {\n                  entity: tmp[s]['M']['Deck']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              duoset = sortProperties(aduo, 'val', true, true);\n              break;\n            case 'attackTrios':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                atrio[tmp[s]['M']['Deck']['S']] = {\n                  entity: tmp[s]['M']['Deck']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              trioset = sortProperties(atrio, 'val', true, true);\n              break;\n            default:\n              break;\n          }\n        }\n      }\n      if (this.state.form.target === '방어') {\n        for (let i in res) {\n          let tmp;\n          switch (res[i]['PropertyName']['S']) {\n            case 'defenseChars':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                dchar[tmp[s]['M']['Character']['S']] = {\n                  entity: tmp[s]['M']['Character']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              charset = sortProperties(dchar, 'val', true, true);\n              break;\n            case 'defenseDuos':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                dduo[tmp[s]['M']['Deck']['S']] = {\n                  entity: tmp[s]['M']['Deck']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              duoset = sortProperties(dduo, 'val', true, true);\n              break;\n            case 'defenseTrios':\n              tmp = res[i]['Stats']['L'];\n              for (let s in tmp) {\n                dtrio[tmp[s]['M']['Deck']['S']] = {\n                  entity: tmp[s]['M']['Deck']['S'],\n                  val: this.getValue(tmp[s]['M'])\n                };\n              }\n              trioset = sortProperties(dtrio, 'val', true, true);\n              break;\n            default:\n              break;\n          }\n        }\n      }\n     } else if (this.state.form.date == '7일 이내') {\n        if (this.state.form.target === '공격') {\n          for (let i in res) {\n            let tmp;\n            switch (res[i]['PropertyName']['S']) {\n              case 'attackCharsWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  achar[tmp[s]['M']['Character']['S']] = {\n                    entity: tmp[s]['M']['Character']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                charset = sortProperties(achar, 'val', true, true);\n                break;\n              case 'attackDuosWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  aduo[tmp[s]['M']['Deck']['S']] = {\n                    entity: tmp[s]['M']['Deck']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                duoset = sortProperties(aduo, 'val', true, true);\n                break;\n              case 'attackTriosWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  atrio[tmp[s]['M']['Deck']['S']] = {\n                    entity: tmp[s]['M']['Deck']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                trioset = sortProperties(atrio, 'val', true, true);\n                break;\n              default:\n                break;\n            }\n          }\n        }\n        if (this.state.form.target === '방어') {\n          for (let i in res) {\n            let tmp;\n            switch (res[i]['PropertyName']['S']) {\n              case 'defenseCharsWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  dchar[tmp[s]['M']['Character']['S']] = {\n                    entity: tmp[s]['M']['Character']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                charset = sortProperties(dchar, 'val', true, true);\n                break;\n              case 'defenseDuosWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  dduo[tmp[s]['M']['Deck']['S']] = {\n                    entity: tmp[s]['M']['Deck']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                duoset = sortProperties(dduo, 'val', true, true);\n                break;\n              case 'defenseTriosWeek':\n                tmp = res[i]['Stats']['L'];\n                for (let s in tmp) {\n                  dtrio[tmp[s]['M']['Deck']['S']] = {\n                    entity: tmp[s]['M']['Deck']['S'],\n                    val: this.getValue(tmp[s]['M'])\n                  };\n                }\n                trioset = sortProperties(dtrio, 'val', true, true);\n                break;\n              default:\n                break;\n            }\n          }\n        }\n      }\n    \n    loaded = true;\n    this.forceUpdate();\n  }\n\n  async getStat() {\n    let mPath = path + 'api/get-stat';\n    await (async _ => {\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      });\n      if (res.data.message === 'Getting Stats Failed') {\n        console.log('Stat Error');\n        this.setState({\n          error: true\n        });\n        return;\n      } else {\n        this.setState({\n          stats: res.data.message\n        });\n      }\n    })();\n    this.getText();\n    this.getSort();\n  }\n\n  result() {\n    if (!loaded) {\n      return (\n        <div>\n\n        </div>\n      );\n    } else {\n      //\n      let cutchar = charset.slice();\n      cutchar.splice(5, cutchar.length-5);\n      let cutduo = duoset.slice();\n      cutduo.splice(5, cutduo.length-5);\n      let cuttrio = trioset.slice();\n      cuttrio.splice(5, cuttrio.length-5);\n\n      //\n      return (\n        <div>\n        <Stage width={400} height={1700}>\n          <Layer>\n          <Text\n            x={48}\n            y={2}\n            fontSize={19}\n            fontFamily={'GyeonggiTitleM'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={chartext}\n          />\n          <Text\n            x={58}\n            y={562}\n            fontSize={19}\n            fontFamily={'GyeonggiTitleM'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={duotext}\n          />\n          <Text\n            x={48}\n            y={1122}\n            fontSize={19}\n            fontFamily={'GyeonggiTitleM'}\n            fontStyle={'normal'}\n            fontColor={'#333333'}\n            width={210}\n            align='center'\n            text={triotext}\n          />\n          </Layer>\n          <Layer>\n          {cutchar.map((value, index) => {\n            return <CharSet stat={value} setX={70} setY={cutchar.indexOf(value)} key={index}/>\n          })}\n          {cutduo.map((value, index) => {\n            return <TeamSet stat={value} setX={40} setY={cutduo.indexOf(value)} mob={560} isDuo={true} scale={76} key={index}/>\n          })}\n          {cuttrio.map((value, index) => {\n            return <TeamSet stat={value} setX={8} setY={cuttrio.indexOf(value)} mob={1120} isDuo={false} scale={60} key={index}/>\n          })}\n          <Image\n            x={268}\n            y={0}\n            width={24}\n            height={24}\n            image={this.state.mag_img}\n            onTap={this.goChar}\n          />\n          <Image\n            x={268}\n            y={560}\n            width={24}\n            height={24}\n            image={this.state.mag_img}\n            onTap={this.goDuo}\n          />\n          <Image\n            x={268}\n            y={1120}\n            width={24}\n            height={24}\n            image={this.state.mag_img}\n            onTap={this.goTrio}\n          />\n          </Layer>\n        </Stage>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"text\">\n      {this.goLink()}\n      <h1 style={topicText}>\n        메타 통계\n      </h1>\n      <h2 style={subText} className=\"ten\">\n        검색 설정\n      </h2>\n      <h3 style={smallText} className=\"ten\">\n      <Form ref=\"form\">\n          <Form.Row className=\"stat\" align=\"left\">\n            <Form.Group as={Col} controlId=\"formGridPosition\">\n              <Form.Label>덱 유형</Form.Label>\n              <Form.Control name=\"target\" onChange={this.inputHandler} as=\"select\">\n                <option>방어</option>\n                <option>공격</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition2\">\n              <Form.Label>결과</Form.Label>\n              <Form.Control name=\"type\" onChange={this.inputHandler} as=\"select\">\n                <option>적폐</option>\n                <option>사기</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition3\">\n              <Form.Label>아레나</Form.Label>\n              <Form.Control name=\"arena\" onChange={this.inputHandler} as=\"select\">\n                <option>전체</option>\n                <option>배틀 아레나</option>\n                <option>프린세스 아레나</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"formGridPosition4\">\n              <Form.Label>기간</Form.Label>\n              <Form.Control name=\"date\" onChange={this.inputHandler} as=\"select\">\n                <option>7일 이내</option>\n                <option>21일 이내</option>\n              </Form.Control>\n            </Form.Group>\n          </Form.Row>\n        </Form>\n      </h3>\n      <p style={subText} className=\"twenty\">\n        <Button variant='success' onClick={this.getSearch}>\n          결과 확인\n        </Button>\n      </p>\n      {this.result()}\n      </div>\n    );\n  }\n}\n\nfunction sortProperties(obj, sortedBy, isNumericSort, reverse) {\n  sortedBy = sortedBy || 1; // by default first key\n  isNumericSort = isNumericSort || false; // by default text sort\n  reverse = reverse || false; // by default no reverse\n\n  var reversed = (reverse) ? -1 : 1;\n\n  var sortable = [];\n  for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n          sortable.push([key, obj[key]]);\n      }\n  }\n  if (isNumericSort)\n      sortable.sort(function (a, b) {\n          return reversed * (a[1][sortedBy] - b[1][sortedBy]);\n      });\n  else\n      sortable.sort(function (a, b) {\n          var x = a[1][sortedBy].toLowerCase(),\n              y = b[1][sortedBy].toLowerCase();\n          return x < y ? reversed * -1 : x > y ? reversed : 0;\n      });\n  return sortable; // array in format [ [ key1, val1 ], [ key2, val2 ], ... ]\n}","import React from 'react';\n\nimport {\n  Container,\n  Card\n} from 'react-bootstrap';\n\nimport { Register } from './Register';\nimport { Search } from './Search';\nimport '../css/container.css';\nimport { Match } from './Match';\nimport { Part } from './Part';\nimport { Stat } from './Stat';\nimport { Rank } from './Rank';\n\nimport { MobSearch } from './MobSearch';\nimport { MobRegister } from './MobRegister';\nimport { MobPart } from './MobPart';\nimport { MobMatch } from './MobMatch';\nimport { MobStat } from './MobStat';\nimport { MobRank } from './MobRank';\n\nvar fireMatch = false;\nexport function switchFire() {\n  if (fireMatch) {\n    fireMatch = false;\n  } else {\n    fireMatch = true;\n  }\n}\n\nlet setWidth = {\n  width: 412\n};\n\nexport class pageSearch extends React.Component {\n  render() {\n    return (\n      <div className=\"top\">\n      <Container>\n        <Card>\n          <Search/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pageMobSearch extends React.Component {\n  render() {\n    return (\n      <div className=\"top\" style={setWidth}>\n      <Container>\n        <Card>\n          <MobSearch/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pageRegister extends React.Component {\n  render() {\n    return (\n      <div className=\"top\">\n      <Container>\n        <Card>\n          <Register/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pageMobRegister extends React.Component {\n  render() {\n    return (\n      <div className=\"top\" style={setWidth}>\n      <Container>\n        <Card>\n          <MobRegister/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\n\nexport class pageMatch extends React.Component {\n  render() {\n    return (\n      <div className=\"top\">\n      <Container>\n        <Card>\n          <Match fire={fireMatch}/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pageMobMatch extends React.Component {\n  render() {\n    return (\n      <div className=\"top\" style={setWidth}>\n      <Container>\n        <Card>\n          <MobMatch fire={fireMatch}/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pagePart extends React.Component {\n  render() {\n    return (\n      <div className=\"top\">\n      <Container>\n        <Card>\n          <Part/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pageMobPart extends React.Component {\n  render() {\n    return (\n      <div className=\"top\" style={setWidth}>\n      <Container>\n        <Card>\n          <MobPart/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pageStat extends React.Component {\n  render() {\n    return (\n      <div className=\"top\">\n      <Container>\n        <Card>\n          <Stat/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pageMobStat extends React.Component {\n  render() {\n    return (\n      <div className=\"top\" style={setWidth}>\n      <Container>\n        <Card>\n          <MobStat/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pageRank extends React.Component {\n  render() {\n    return (\n      <div className=\"top\">\n      <Container>\n        <Card>\n          <Rank/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}\n\nexport class pageMobRank extends React.Component {\n  render() {\n    return (\n      <div className=\"top\" style={setWidth}>\n      <Container>\n        <Card>\n          <MobRank/>\n        </Card>\n      </Container>\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport {\n  pageRegister,\n  pageSearch,\n  pageMatch,\n  pagePart,\n  pageStat,\n  pageRank,\n  pageMobSearch,\n  pageMobRegister,\n  pageMobMatch,\n  pageMobPart,\n  pageMobStat,\n  pageMobRank\n} from \"./Container\";\n\nlet mobile = require('is-mobile');\n\nexport class Routes extends React.Component {\n  render() {\n    if (!mobile()) {\n      return (\n        <Switch>\n        <Route path=\"/\" exact component={pageSearch} />\n        <Route path=\"/search\" component={pageSearch} />\n        <Route path=\"/register\" component={pageRegister} />\n        <Route path=\"/match\" component={pageMatch} />\n        <Route path=\"/part\" component={pagePart} />\n        <Route path=\"/stat\" component={pageStat} />\n        <Route path='/rank' component={pageRank} />\n      </Switch>\n      );\n    } else {\n      return (\n        <Switch>\n        <Route path=\"/\" exact component={pageMobSearch} />\n        <Route path=\"/search\" component={pageMobSearch} />\n        <Route path=\"/register\" component={pageMobRegister} />\n        <Route path=\"/match\" component={pageMobMatch} />\n        <Route path=\"/part\" component={pageMobPart} />\n        <Route path=\"/stat\" component={pageMobStat} />\n        <Route path='/rank' component={pageMobRank} />\n      </Switch>\n      );\n    }\n  }\n}","import React from 'react';\nimport {\n  Stage,\n  Layer,\n  Image,\n  Group\n} from 'react-konva';\nimport { HashRouter, Redirect } from 'react-router-dom';\nimport { Routes } from './Routes';\n\nimport '../css/daum.css';\nimport '../css/text.css';\n\nexport class MobNav extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fav: null,\n      bg: null,\n      brand: null,\n      search: null,\n      register: null,\n      part: null,\n      stat: null,\n      link: \"\"\n    };\n\n    this.checkLink = this.checkLink.bind(this);\n    this.setSearch = this.setSearch.bind(this);\n    this.setRegister = this.setRegister.bind(this);\n    this.setPart = this.setPart.bind(this);\n    this.setStat = this.setStat.bind(this);\n  }\n\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/favicon.jpg\";\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        fav: image\n      });\n    };\n    const back = new window.Image();\n    back.src = \"/arenatime/back.png\";\n    back.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        bg: back\n      });\n    };\n    const brand = new window.Image();\n    brand.src = \"/arenatime/brand.png\";\n    brand.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        brand: brand\n      });\n    };\n    const search = new window.Image();\n    search.src = \"/arenatime/search.png\";\n    search.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        search: search\n      });\n    };\n    const register = new window.Image();\n    register.src = \"/arenatime/register.png\";\n    register.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        register: register\n      });\n    };\n    const part = new window.Image();\n    part.src = \"/arenatime/part.png\";\n    part.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        part: part\n      });\n    };\n    const stat = new window.Image();\n    stat.src = \"/arenatime/stat.png\";\n    stat.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        stat: stat\n      });\n    };\n  }\n  setSearch() {\n    this.setState({\n      link: 'search'\n    });\n  }\n\n  setRegister() {\n    this.setState({\n      link: 'register'\n    });\n  }\n\n  setPart() {\n    this.setState({\n      link: 'part'\n    });\n  }\n\n  setStat() {\n    this.setState({\n      link: 'stat'\n    });\n  }\n\n  checkLink() {\n    if (this.state.link === 'search') {\n      return <Redirect to='/search'/>\n    }\n    if (this.state.link === 'register') {\n      return <Redirect to='/register'/>\n    }\n    if (this.state.link === 'part') {\n      return <Redirect to='/part'/>\n    }\n    if (this.state.link === 'stat') {\n      return <Redirect to='/stat'/>\n    }\n  }\n\n  render() {\n    return (\n      <HashRouter>\n        {this.checkLink()}\n      <Stage width={412} height={120}>\n      <Layer>\n      <Image\n        x={0}\n        y={0}\n        width={412}\n        height={120}\n        image={this.state.bg}\n      />\n      </Layer>\n      <Layer>\n      <Group>\n      <Image\n        x={12}\n        y={8}\n        width={50}\n        height={50}\n        image={this.state.fav}\n      />\n      <Image\n        x={68}\n        y={16}\n        width={218}\n        height={37}\n        image={this.state.brand}\n      />\n      </Group>\n      <Group>\n      <Image\n        x={16}\n        y={74}\n        width={81}\n        height={23}\n        image={this.state.search}\n        onTap={this.setSearch}\n      />\n      <Image\n        x={111}\n        y={74}\n        width={81}\n        height={23}\n        image={this.state.register}\n        onTap={this.setRegister}\n      />\n      <Image\n        x={206}\n        y={74}\n        width={81}\n        height={23}\n        image={this.state.part}\n        onTap={this.setPart}\n      />\n      <Image\n        x={301}\n        y={73}\n        width={81}\n        height={23}\n        image={this.state.stat}\n        onTap={this.setStat}\n      />\n      </Group>\n      </Layer>\n    </Stage>\n    <Routes/>\n    </HashRouter>\n    );\n  }\n}","import React from 'react';\nimport {\n  Navbar,\n  Nav\n} from 'react-bootstrap';\nimport { Link, HashRouter } from 'react-router-dom';\nimport { LinkContainer} from \"react-router-bootstrap\";\nimport { Routes } from './Routes';\nimport { MobNav } from './MobNav';\n\nimport '../css/daum.css';\nimport '../css/text.css';\n\nlet mobile = require('is-mobile');\n\nconst brandText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 32,\n  fontColor: 'White'\n}\n\nconst menuText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 24,\n  fontColor: 'White'\n}\n\n\nexport class Navi extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.getNav = this.getNav.bind(this);\n  }\n\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/favicon.jpg\";\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        fav: image\n      });\n    };\n    const back = new window.Image();\n    back.src = \"/arenatime/back.png\";\n    back.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        bg: back\n      });\n    };\n  }\n\n  getNav() {\n      return (\n        <Navbar bg=\"dark\" variant=\"dark\">\n        <Navbar.Brand>\n        <div className=\"brand\" style={brandText}>\n        <Link to=\"/\" className=\"remove-underline\">\n        <img\n          alt=\"\"\n          src=\"/arenatime/favicon.jpg\"\n          width=\"40\"\n          height=\"40\"\n          float=\"left\"\n        />\n        {' ArenaTime'}\n        </Link>\n        </div>\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" style={menuText}>\n          <LinkContainer to=\"/search\">\n            <Nav.Link>대전 검색</Nav.Link>\n          </LinkContainer>\n          <LinkContainer to=\"/register\">\n            <Nav.Link>대전 등록</Nav.Link>\n          </LinkContainer>\n          <LinkContainer to=\"/part\">\n            <Nav.Link>부분 검색</Nav.Link>\n          </LinkContainer>\n          <LinkContainer to=\"/stat\">\n            <Nav.Link>메타 통계</Nav.Link>\n          </LinkContainer>\n        </Nav>\n        </Navbar.Collapse>\n        <div align=\"right\">\n        <a href=\"https://github.com/Stdev17/arenatime\" target=\"_blank\" rel=\"noopener noreferrer\">\n        <img\n          alt=\"\"\n          src=\"/arenatime/github-logo.svg\"\n          width=\"34\"\n          height=\"34\"\n          className=\"github\"\n        /></a>\n        <a href=\"https://discord.gg/KpENFp7\" target=\"_blank\" rel=\"noopener noreferrer\"><img\n          alt=\"\"\n          src=\"/arenatime/discord.svg\"\n          width=\"50\"\n          height=\"50\"\n          className=\"discord\"\n        /></a>\n        </div>\n      </Navbar>\n      );\n  }\n\n  render() {\n    if (!mobile()) {\n      return (\n        <HashRouter>\n        {this.getNav()}\n        <Routes/>\n        </HashRouter>\n      );\n    } else {\n      return (\n          <MobNav/>\n      );\n    }\n  }\n}","import React from 'react';\n\nimport { Navi } from './Nav';\n\nimport '../css/App.css';\n\nexport default class App extends React.Component {\n  render() { \n    return (\n      <div>\n        <Navi/>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'bootstrap/dist/css/bootstrap.css';\n\n\nReactDOM.render(<App/>, document.getElementById('root'));","export function getChar() {\n  let c: string[] = [];\n  for (let d in dist) {\n    c.push(d);\n  }\n  return c;\n}\n\nexport const dist: Record<string, number> = {\n  //Front Line\n  Rima: 105,\n  Miyako: 125,\n  Kuuka: 130,\n  Jyun: 135,\n  OedoKuuka: 140,\n  Kaori: 145,\n  NewRei: 153,\n  //ShibuRin: 154,\n  Pekorinne: 155,\n  //PrincessPekorinne: 156,\n  Ruka: 158,\n  //NewKokkoro: 159,\n  Nozomi: 160,\n  Muimi: 162,\n  Makoto: 165,\n  //Kaya: 168,\n  NewHiyori: 170,\n  OedoNinon: 175,\n  Akino: 180,\n  SummerMakoto: 181,\n  Matsuri: 185,\n  //Chloe: 186,\n  ValentineEriko: 187,\n  ChristmasAyane: 190,\n  Tsumugi: 195,\n  Hiyori: 200,\n  Misogi: 205,\n  Ayane: 210,\n  //HalloweenMisogi: 212,\n  Tamaki: 215,\n  Tomo: 220,\n  //Chieru: 222,\n  SummerTamaki: 225,\n  Eriko: 230,\n  SummerPekorinne: 235,\n  Kurumi: 240,\n  Djeeta: 245,\n  Rei: 250,\n  //ChristmasIlya: 255,\n  //ChristmasChristina: 265,\n  Shizuru: 285,\n  Christina: 290,\n  ChristmasKurumi: 295,\n\n  //Middle Line\n  Mimi: 360,\n  Shinobu: 365,\n  //HalloweenMimi: 366,\n  //Uzuki: 370,\n  ValentineShizuru: 385,\n  Mahiru: 395,\n  Yukari: 405,\n  Monika: 410,\n  Ninon: 415,\n  //ChristmasNozomi: 418,\n  Mifuyu: 420,\n  Ilya: 425,\n  SummerKaori: 426,\n  Saren: 430,\n  Anna: 440,\n  HalloweenShinobu: 441,\n  SummerMifuyu: 495,\n  Kokkoro: 500,\n  Ayumi: 510,\n  Glare: 525,\n  SummerKokkoro: 535,\n  Rem: 540,\n  Ram: 545,\n  Rin: 550,\n  Mitsuki: 565,\n  Akari: 570,\n  Yori: 575,\n  SummerSaren: 585,\n  HalloweenMiyako: 590,\n\n  //Back Line\n  Arisa: 625,\n  Ann: 630,\n  Rou: 640,\n  Neneka: 660,\n  //TransferAoi: 680,\n  //NewKyaru: 690,\n  //Mio: 695,\n  Rino: 700,\n  Suzuna: 705,\n  SummerSuzuna: 708,\n  Shiori: 710,\n  //MagicalShiori: 712,\n  Io: 715,\n  SummerIo: 717,\n  Suzume: 720,\n  //NewSuzume: 721,\n  Emilia: 722,\n  Kasumi: 730,\n  //MagicalKasumi: 731\n  Misato: 735,\n  Nanaka: 740,\n  NewYui: 745,\n  Kyaru: 750,\n  Hatsune: 755,\n  Misaki: 760,\n  //Luna: 765,\n  ChristmasChika: 770,\n  SummerSuzume: 775,\n  SummerKyaru: 780,\n  Aoi: 785,\n  Chika: 790,\n  SummerMaho: 792,\n  Maho: 795,\n  Yui: 800,\n  Yuki: 805,\n  //Yuni: 807,\n  Kyouka: 810,\n  HalloweenMisaki: 815,\n  //HalloweenKyouka: 820,\n};\n","var char = {\n    //전열\n    리마: 'Rima',\n    푸딩: 'Miyako',\n    미야코: 'Miyako',\n    쿠우카: 'Kuuka',\n    쥰: 'Jyun',\n    오에도쿠우카: 'OedoKuuka',\n    오우카: 'OedoKuuka',\n    '쿠우카(오에도)': 'OedoKuuka',\n    카오리: 'Kaori',\n    신레이: 'NewRei',\n    뉴레이: 'NewRei',\n    '레이(새해)': 'NewRei',\n    '레이(신년)': 'NewRei',\n    시부린: 'ShibuRin',\n    페코린느: 'Pekorinne',\n    루카: 'Ruka',\n    노조미: 'Nozomi',\n    무이미: 'Muimi',\n    마코토: 'Makoto',\n    카야: 'Kaya',\n    뉴요리: 'NewHiyori',\n    '히요리(새해)': 'NewHiyori',\n    '히요리(신년)': 'NewHiyori',\n    오니논: 'OedoNinon',\n    오논: 'OedoNinon',\n    오에도니논: 'OedoNinon',\n    '니논(오에도)': 'OedoNinon',\n    아키노: 'Akino',\n    수코토: 'SummerMakoto',\n    수영복마코토: 'SummerMakoto',\n    '마코토(여름)': 'SummerMakoto',\n    마츠리: 'Matsuri',\n    발리코: 'ValentineEriko',\n    발렌타인에리코: 'ValentineEriko',\n    '에리코(발렌타인)': 'ValentineEriko',\n    성야네: 'ChristmasAyane',\n    크야네: 'ChristmasAyane',\n    '아야네(성탄절)': 'ChristmasAyane',\n    '아야네(크리스마스)': 'ChristmasAyane',\n    츠무기: 'Tsumugi',\n    히요리: 'Hiyori',\n    미소기: 'Misogi',\n    아야네: 'Ayane',\n    타마키: 'Tamaki',\n    토모: 'Tomo',\n    치에루: 'Chieru',\n    치엘: 'Chieru',\n    수마키: 'SummerTamaki',\n    수영복타마키: 'SummerTamaki',\n    '타마키(여름)': 'SummerTamaki',\n    에리코: 'Eriko',\n    수페코: 'SummerPekorinne',\n    수영복페코린느: 'SummerPekorinne',\n    '페코린느(여름)': 'SummerPekorinne',\n    쿠루미: 'Kurumi',\n    지타: 'Djeeta',\n    레이: 'Rei',\n    시즈루: 'Shizuru',\n    크리스티나: 'Christina',\n    성루미: 'ChristmasKurumi',\n    크루미: 'ChristmasKurumi',\n    '쿠루미(성탄절)': 'ChristmasKurumi',\n    '쿠루미(크리스마스)': 'ChristmasKurumi',\n    //중열\n    미미: 'Mimi',\n    시노부: 'Shinobu',\n    우즈키: 'Uzuki',\n    발즈루: 'ValentineShizuru',\n    발렌타인시즈루: 'ValentineShizuru',\n    '시즈루(발렌타인)': 'ValentineShizuru',\n    마히루: 'Mahiru',\n    유카리: 'Yukari',\n    모니카: 'Monika',\n    니논: 'Ninon',\n    미후유: 'Mifuyu',\n    이리야: 'Ilya',\n    수오리: 'SummerKaori',\n    수영복카오리: 'SummerKaori',\n    '카오리(여름)': 'SummerKaori',\n    사렌: 'Saren',\n    안나: 'Anna',\n    할노부: 'HalloweenShinobu',\n    할로윈시노부: 'HalloweenShinobu',\n    '시노부(할로윈)': 'HalloweenShinobu',\n    수후유: 'SummerMifuyu',\n    수영복미후유: 'SummerMifuyu',\n    '미후유(여름)': 'SummerMifuyu',\n    콧코로: 'Kokkoro',\n    아유미: 'Ayumi',\n    글레어: 'Glare',\n    수코로: 'SummerKokkoro',\n    수영복콧코로: 'SummerKokkoro',\n    '콧코로(여름)': 'SummerKokkoro',\n    렘: 'Rem',\n    람: 'Ram',\n    린: 'Rin',\n    미츠키: 'Mitsuki',\n    아카리: 'Akari',\n    요리: 'Yori',\n    수사렌: 'SummerSaren',\n    수영복사렌: 'SummerSaren',\n    '사렌(여름)': 'SummerSaren',\n    할푸딩: 'HalloweenMiyako',\n    할로윈푸딩: 'HalloweenMiyako',\n    할로윈미야코: 'HalloweenMiyako',\n    '미야코(할로윈)': 'HalloweenMiyako',\n    //후열\n    아리사: 'Arisa',\n    앤: 'Ann',\n    루: 'Rou',\n    네네카: 'Neneka',\n    혼다: 'Mio',\n    미오: 'Mio',\n    리노: 'Rino',\n    스즈나: 'Suzuna',\n    수즈나: 'SummerSuzuna',\n    수영복스즈나: 'SummerSuzuna',\n    '스즈나(여름)': 'SummerSuzuna',\n    시오리: 'Shiori',\n    이오: 'Io',\n    수이오: 'SummerIo',\n    수영복이오: 'SummerIo',\n    '이오(여름)': 'SummerIo',\n    스즈메: 'Suzume',\n    에밀리아: 'Emilia',\n    카스미: 'Kasumi',\n    미사토: 'Misato',\n    나나카: 'Nanaka',\n    뉴이: 'NewYui',\n    '유이(새해)': 'NewYui',\n    '유이(신년)': 'NewYui',\n    캬루: 'Kyaru',\n    하츠네: 'Hatsune',\n    미사키: 'Misaki',\n    루나: 'Luna',\n    성치카: 'ChirstmasChika',\n    '치카(성탄절)': 'ChirstmasChika',\n    '치카(크리스마스)': 'ChirstmasChika',\n    수즈메: 'SummerSuzume',\n    수영복스즈메: 'SummerSuzume',\n    '스즈메(여름)': 'SummerSuzume',\n    수캬루: 'SummerKyaru',\n    수영복캬루: 'SummerKyaru',\n    '캬루(여름)': 'SummerKyaru',\n    아오이: 'Aoi',\n    치카: 'Chika',\n    수마호: 'SummerMaho',\n    수영복마호: 'SummerMaho',\n    '마호(여름)': 'SummerMaho',\n    마호: 'Maho',\n    유이: 'Yui',\n    유키: 'Yuki',\n    유니: 'Yuni',\n    쿄우카: 'Kyouka',\n    할사키: 'HalloweenMisaki',\n    할로윈미사키: 'HalloweenMisaki',\n    '미사키(할로윈)': 'HalloweenMisaki'\n};\nmodule.exports.char = char;\n","/* *****************\n *\n * fileName: Match\n * author: Leta\n * latestModified: 2019-07-30\n * Contact: https://github.com/Stdev17\n *\n ********************/\n\nimport React from 'react';\nimport { Form, Col, Button, Modal, Pagination } from 'react-bootstrap';\nimport { Stage, Layer, Image, Group, Text } from 'react-konva';\nimport { Redirect } from 'react-router-dom';\nimport char from '../util/char';\nimport { dist } from '../util/distance.ts';\nimport { getCoord, Yblank } from './Block.tsx';\n\nimport '../css/daum.css';\nimport '../css/text.css';\n\nimport { path } from '../util/dummy';\nimport { Comment } from './Comment';\n\nvar fileType = require('file-type');\nvar axios = require('axios');\n\nvar fromSearch = false;\nvar searchPath = '';\nvar resultImageFile = null;\nvar offset = 1;\nvar max = 1;\nvar unit = 5;\nvar comments = [];\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333',\n};\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333',\n};\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333',\n};\n\nexport function setSearchPath(str, f) {\n  searchPath = str;\n  fromSearch = f;\n}\n\nlet scale = 72;\nlet attackDeckX = 111;\nlet defenseDeckX = 642;\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.setCoord = this.setCoord.bind(this);\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c['char'])).XCoord,\n      y: getCoord(char.indexOf(c['char'])).YCoord,\n      star: '',\n    };\n  }\n  setCoord() {\n    if (this.props.character === 'Empty') {\n      this.setState({\n        x: 1100,\n        y: Yblank,\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c['char'])).XCoord,\n        y: getCoord(char.indexOf(c['char'])).YCoord,\n      });\n    }\n    let s = '';\n    for (let i = 0; i < this.props.character['star']; i++) {\n      s += '★';\n    }\n    if (this.props.character['star'] < 6) {\n      this.setState({\n        star: s,\n      });\n    }\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = '/arenatime/characters.jpg';\n    this.setCoord();\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image,\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if (newProps.character !== oldProps.character) {\n      this.setCoord();\n    }\n  }\n  render() {\n    return (\n      <Group>\n        <Image\n          x={this.props.setX + 2}\n          y={2}\n          width={scale}\n          height={scale}\n          image={this.state.image}\n          crop={{\n            x: this.state.x,\n            y: this.state.y,\n            width: 76,\n            height: 76,\n          }}\n          stroke={'black'}\n          strokeWidth={2}\n        />\n        <Text\n          x={this.props.setX + 2}\n          y={2 + 5 + scale}\n          fontSize={14}\n          width={scale}\n          align=\"center\"\n          fill={'#aaaa44'}\n          text={this.state.star}\n        />\n      </Group>\n    );\n  }\n}\n\nexport class Match extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getResult = this.getResult.bind(this);\n    this.showResult = this.showResult.bind(this);\n    this.getBack = this.getBack.bind(this);\n    this.showMemo = this.showMemo.bind(this);\n    this.showComment = this.showComment.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.putComment = this.putComment.bind(this);\n    this.upClicked = this.upClicked.bind(this);\n    this.downClicked = this.downClicked.bind(this);\n    this.setVotes = this.setVotes.bind(this);\n    this.vote = this.vote.bind(this);\n    this.checkImg = this.checkImg.bind(this);\n    this.setComment = this.setComment.bind(this);\n    this.updateOffset = this.updateOffset.bind(this);\n    this.state = {\n      //\n      voting: false,\n      attackImage: null,\n      defenseImage: null,\n      upImage: null,\n      downImage: null,\n      resultImage: null,\n      deleteImage: null,\n      upHighlighted: 0.5,\n      downHighlighted: 0.5,\n      imageWidth: 1124,\n      imageHeight: 632,\n      upvotes: '',\n      downvotes: '',\n      attackPower: '',\n      defensePower: '',\n      attackSorted: [],\n      defenseSorted: [],\n      link: false,\n      fire: false,\n      match: {},\n      date: '',\n      memo: '',\n      title_msg: '등록 중',\n      msg: '잠시만 기다려 주세요.',\n      errShow: false,\n      comments: [],\n    };\n\n    comments = [];\n\n    this.errorShow = () => {\n      this.setState({ errShow: true });\n    };\n\n    this.errorHide = () => {\n      this.setState({ errShow: false });\n    };\n\n    this.checkSize = (w, h) => {\n      let width, height;\n      let ratio = w / h;\n      if (w > 1076) {\n        width = 1076;\n        height = 1076 / ratio;\n      } else {\n        width = w;\n        height = h;\n      }\n      if (height > 605) {\n        height = 605;\n      }\n      this.setState({\n        imageWidth: width,\n        imageHeight: height,\n      });\n    };\n  }\n\n  updateOffset(num) {\n    offset = num;\n    comments = [];\n    for (let i = offset * unit - unit; i < offset * unit; i++) {\n      if (i > this.state.comments.length - 1) {\n        break;\n      }\n      comments.push(this.state.comments[i]);\n    }\n    this.forceUpdate();\n  }\n\n  inputHandler(e) {\n    let eVal = e.target.value;\n    this.setState({\n      memo: eVal,\n    });\n  }\n\n  checkImg() {\n    if (this.props.match['imagePath']['S'] !== 'PlaceHolder') {\n      return (\n        <Image\n          x={1009}\n          y={54}\n          width={24}\n          height={24}\n          image={this.state.magImage}\n          onClick={this.goProfile}\n          onTap={this.goProfile}\n        />\n      );\n    }\n  }\n\n  getBack() {\n    this.setState({\n      link: true,\n    });\n  }\n\n  setVotes() {\n    let uv, dv;\n    if (this.state.match['upvotes']['N'] > 99) {\n      uv = '99+';\n    } else {\n      uv = this.state.match['upvotes']['N'].toString();\n    }\n    if (this.state.match['downvotes']['N'] > 99) {\n      dv = '99+';\n    } else {\n      dv = this.state.match['downvotes']['N'].toString();\n    }\n    this.setState({\n      upvotes: uv,\n      downvotes: dv,\n    });\n  }\n\n  getResult() {\n    //\n    this.setState({\n      fire: false,\n    });\n    if (searchPath === '') {\n      return;\n    }\n    (async _ => {\n      let mPath = path + 'api/get-match';\n      let str = searchPath;\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        params: str,\n        headers: {\n          Accept: 'application/json',\n        },\n      });\n      if (res.data.message === 'Getting Item Failed') {\n        searchPath = '';\n        return;\n      } else {\n        let msg = res.data.message;\n        this.setState({\n          match: msg['Item'],\n        });\n        if (res.data.vote === 'Upvoted') {\n          this.setState({\n            upHighlighted: 1,\n          });\n        } else if (res.data.vote === 'Downvoted') {\n          this.setState({\n            downHighlighted: 1,\n          });\n        }\n      }\n      //\n      if (this.state.match['imagePath']['S'] !== 'PlaceHolder') {\n        let sPath = path + 'api/get-image';\n        let str2 = this.state.match['imagePath']['S'];\n        let img = await axios({\n          method: 'get',\n          url: sPath,\n          params: str2,\n        });\n        if (img.data.message === 'Getting Image Failed') {\n          //\n          return;\n        } else {\n          resultImageFile = new Buffer(img.data.message.Body.data);\n        }\n      }\n      //\n      const aImage = new window.Image();\n      const dImage = new window.Image();\n      const up = new window.Image();\n      const down = new window.Image();\n      const resImg = new window.Image();\n      const delImg = new window.Image();\n      //\n      let ap = '';\n      let dp = '';\n      if (this.state.match['attackPower']['N'] > 0) {\n        ap = '투력 ' + this.state.match['attackPower']['N'].toString();\n        dp = '투력 ' + this.state.match['defensePower']['N'].toString();\n      }\n      this.setState({\n        attackPower: ap,\n        defensePower: dp,\n      });\n      //\n      let attackParty = [];\n      let defenseParty = [];\n      //\n      let attd = this.state.match['attackDeck']['M'];\n      let defd = this.state.match['defenseDeck']['M'];\n      for (let a in attd) {\n        attackParty.push(attd[a]['S']);\n      }\n      for (let d in defd) {\n        defenseParty.push(defd[d]['S']);\n      }\n      //\n      this.setVotes();\n      //\n      let atts = this.state.match['attackStar']['M'];\n      let defs = this.state.match['defenseStar']['M'];\n      this.setState({\n        attackSorted: sort(attackParty.slice(), atts),\n        defenseSorted: sort(defenseParty.slice(), defs),\n      });\n\n      let result = this.state.match['matchResult']['S'];\n      if (result === 'attackWin') {\n        aImage.src = '/arenatime/win.png';\n        dImage.src = '/arenatime/lose.png';\n      } else {\n        aImage.src = '/arenatime/lose.png';\n        dImage.src = '/arenatime/win.png';\n      }\n      up.src = '/arenatime/thumb-up.png';\n      down.src = '/arenatime/thumb-down.png';\n      delImg.src = '/arenatime/cancel.png';\n      //\n      if (this.state.match['imagePath']['S'] !== 'PlaceHolder') {\n        let fileMime = fileType(resultImageFile);\n        if (fileMime.ext === 'png') {\n          resImg.src =\n            'data:image/png;base64,' + resultImageFile.toString('base64');\n        } else {\n          resImg.src =\n            'data:image/jpeg;base64,' + resultImageFile.toString('base64');\n        }\n        resImg.onload = () => {\n          this.checkSize(resImg.width, resImg.height);\n          this.setState({\n            resultImage: resImg,\n          });\n        };\n      }\n      aImage.onload = () => {\n        this.setState({\n          attackImage: aImage,\n        });\n      };\n      dImage.onload = () => {\n        this.setState({\n          defenseImage: dImage,\n        });\n      };\n      up.onload = () => {\n        this.setState({\n          upImage: up,\n        });\n      };\n      down.onload = () => {\n        this.setState({\n          downImage: down,\n        });\n      };\n      delImg.onload = () => {\n        this.setState({\n          deleteImage: delImg,\n        });\n      };\n      this.setState({\n        date: this.state.match['uploadedDate']['S'].replace(/\\s(\\S)+/, ''),\n      });\n      this.setComment();\n    })();\n  }\n\n  showResult() {\n    if (this.state.link) {\n      if (fromSearch) {\n        return <Redirect to=\"/search\" />;\n      } else {\n        return <Redirect to=\"/part\" />;\n      }\n    }\n    if (this.state.match['imagePath']['S'] !== 'PlaceHolder') {\n      return (\n        <div>\n          <p style={subText} className=\"ten\">\n            {'결과 이미지'}\n          </p>\n          <Stage width={1076} height={this.state.imageHeight}>\n            <Layer>\n              <Image\n                x={1}\n                y={0}\n                width={this.state.imageWidth}\n                height={this.state.imageHeight}\n                image={this.state.resultImage}\n              />\n            </Layer>\n          </Stage>\n        </div>\n      );\n    }\n  }\n\n  showMemo() {\n    if (this.state.match['memo'] !== undefined) {\n      if (this.state.match['memo']['S'] !== 'PlaceHolder') {\n        return (\n          <div>\n            <p style={subText} className=\"ten\">\n              {'참고사항'}\n            </p>\n            <p style={smallText} className=\"ten\">\n              {this.state.match['memo']['S']}\n            </p>\n          </div>\n        );\n      }\n    }\n    return;\n  }\n\n  checkMatch() {}\n\n  deleteMatch() {}\n\n  setComment() {\n    let str = this.state.match['matchId']['S'];\n    let mPath = path + 'api/get-comment';\n    (async _ => {\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        params: str,\n        headers: {\n          Accept: 'application/json',\n        },\n      });\n      if (res.data.statusCode === 500) {\n        return;\n      }\n      if (res.data.message['Items'].length === 0) {\n        return;\n      }\n      this.setState({\n        comments: res.data.message['Items'],\n      });\n      comments = [];\n      max = Math.floor((res.data.message['Items'].length - 1) / unit) + 1;\n      for (let i = offset * unit - unit; i < offset * unit; i++) {\n        if (i > this.state.comments.length - 1) {\n          break;\n        }\n        comments.push(this.state.comments[i]);\n      }\n      this.setState({\n        comments: res.data.message['Items'],\n      });\n      this.forceUpdate();\n    })();\n  }\n\n  showComment() {\n    if (comments.length !== 0) {\n      let items = [];\n      for (let num = offset - 2; num <= offset + 4; num++) {\n        if (num < 1) {\n          continue;\n        }\n        if (num > max || (num > 5 && num > offset + 2)) {\n          break;\n        }\n        items.push(\n          <Pagination.Item\n            key={num}\n            active={num === offset}\n            onClick={() => this.updateOffset(num)}\n          >\n            {num}\n          </Pagination.Item>,\n        );\n      }\n      return (\n        <div>\n          {comments.map((value, index) => {\n            return (\n              <Comment\n                comment={value}\n                setY={this.state.comments.indexOf(value)}\n                matchId={this.state.match['matchId']['S']}\n                key={index}\n              />\n            );\n          })}\n          <Pagination>\n            <Pagination.First\n              onClick={() => {\n                offset = 1;\n                comments = [];\n                for (let i = offset * unit - unit; i < offset * unit; i++) {\n                  if (i > this.state.comments.length - 1) {\n                    break;\n                  }\n                  comments.push(this.state.comments[i]);\n                }\n                this.forceUpdate();\n              }}\n            />\n            <Pagination.Prev\n              onClick={() => {\n                if (offset > 1) {\n                  offset -= 1;\n                }\n                comments = [];\n                for (let i = offset * unit - unit; i < offset * unit; i++) {\n                  if (i > this.state.comments.length - 1) {\n                    break;\n                  }\n                  comments.push(this.state.comments[i]);\n                }\n                this.forceUpdate();\n              }}\n            />\n            <Pagination.Ellipsis />\n            {items}\n            <Pagination.Ellipsis />\n            <Pagination.Next\n              onClick={() => {\n                if (offset < max) {\n                  offset += 1;\n                }\n                comments = [];\n                for (let i = offset * unit - unit; i < offset * unit; i++) {\n                  if (i > this.state.comments.length - 1) {\n                    break;\n                  }\n                  comments.push(this.state.comments[i]);\n                }\n                this.forceUpdate();\n              }}\n            />\n            <Pagination.Last\n              onClick={() => {\n                offset = max;\n                comments = [];\n                for (let i = offset * unit - unit; i < offset * unit; i++) {\n                  if (i > this.state.comments.length - 1) {\n                    break;\n                  }\n                  comments.push(this.state.comments[i]);\n                }\n                this.forceUpdate();\n              }}\n            />\n          </Pagination>\n        </div>\n      );\n    }\n  }\n\n  putComment() {\n    if (this.state.memo !== '') {\n      this.doComment('put');\n    } else {\n      this.setState({\n        errShow: true,\n        title_msg: '등록 실패',\n        msg: '덧글을 입력해 주세요.',\n      });\n    }\n  }\n\n  doComment(param) {\n    if (this.state.voting) {\n      return;\n    }\n    this.setState({\n      voting: true,\n      errShow: true,\n    });\n    let dat = {\n      matchId: this.state.match['matchId']['S'],\n      memo: this.state.memo,\n      action: param,\n    };\n    let mPath = path + 'api/put-comment';\n    (async _ => {\n      await axios({\n        method: 'put',\n        url: mPath,\n        data: dat,\n        headers: {\n          Accept: 'application/json',\n        },\n      });\n      this.setState({\n        voting: false,\n        title_msg: '등록 완료',\n        msg: '덧글이 등록되었습니다.',\n      });\n      this.setComment();\n    })();\n  }\n\n  upClicked() {\n    this.vote('up');\n  }\n\n  downClicked() {\n    this.vote('down');\n  }\n\n  vote(param) {\n    if (this.state.voting) {\n      return;\n    }\n    this.setState({\n      voting: true,\n    });\n    let dat = {\n      matchId: this.state.match['matchId']['S'],\n      vote: param,\n    };\n    let mPath = path + 'api/vote';\n    (async _ => {\n      let res = await axios({\n        method: 'put',\n        url: mPath,\n        data: dat,\n        headers: {\n          Accept: 'application/json',\n        },\n      });\n      if (res.data.message === 'Vote Succeeded') {\n        let v = res.data.vote;\n        let m = this.state.match;\n        if (v.up === 'vote') {\n          m['upvotes']['N'] = Number(m['upvotes']['N']) + 1;\n          this.setState({\n            upHighlighted: 1,\n            match: m,\n          });\n        } else if (v.up === 'unvote') {\n          m['upvotes']['N'] = Number(m['upvotes']['N']) - 1;\n          this.setState({\n            upHighlighted: 0.5,\n            match: m,\n          });\n        }\n        if (v.down === 'vote') {\n          m['downvotes']['N'] = Number(m['downvotes']['N']) + 1;\n          this.setState({\n            downHighlighted: 1,\n            match: m,\n          });\n        } else if (v.down === 'unvote') {\n          m['downvotes']['N'] = Number(m['downvotes']['N']) - 1;\n          this.setState({\n            downHighlighted: 0.5,\n            match: m,\n          });\n        }\n        this.setState({\n          voting: false,\n        });\n        this.setVotes();\n      }\n    })();\n  }\n\n  componentDidMount() {\n    this.getResult();\n  }\n\n  componentDidUpdate(oldProps, oldStates) {\n    if (oldStates.fire !== this.state.fire) {\n      this.getResult();\n    }\n  }\n\n  render() {\n    if (searchPath === '' || this.state.match['matchId'] === undefined) {\n      return (\n        <div className=\"text\">\n          <h1 style={topicText}>대전 로드 중</h1>\n          <h2 style={subText} className=\"twenty\">\n            잠시만 기다려 주세요.\n          </h2>\n        </div>\n      );\n    }\n    return (\n      <div className=\"text\">\n        <p style={topicText}>{'대전 결과'}</p>\n        <Stage width={1124} height={122}>\n          <Layer>\n            {this.state.attackSorted.map((value, index) => {\n              return (\n                <Slot\n                  character={value}\n                  setX={getX() + attackDeckX}\n                  key={index}\n                />\n              );\n            })}\n            {this.state.defenseSorted.map((value, index) => {\n              return (\n                <Slot\n                  character={value}\n                  setX={getX() + defenseDeckX}\n                  key={index}\n                />\n              );\n            })}\n          </Layer>\n          <Layer>\n            <Image\n              x={0}\n              y={2}\n              width={110}\n              height={48}\n              image={this.state.attackImage}\n            />\n            <Image\n              x={525}\n              y={2}\n              width={110}\n              height={48}\n              image={this.state.defenseImage}\n            />\n            <Text\n              x={-5}\n              y={58}\n              fontSize={18}\n              width={120}\n              align=\"center\"\n              text={this.state.attackPower}\n            />\n            <Text\n              x={520}\n              y={58}\n              fontSize={18}\n              width={120}\n              align=\"center\"\n              text={this.state.defensePower}\n            />\n            <Text\n              x={804}\n              y={105}\n              fontSize={16}\n              width={160}\n              align=\"center\"\n              text={this.state.date}\n            />\n            <Image\n              x={940}\n              y={103}\n              width={16}\n              height={16}\n              opacity={this.state.upHighlighted}\n              image={this.state.upImage}\n              onClick={this.upClicked}\n              onTap={this.upClicked}\n            />\n            <Image\n              x={1000}\n              y={105}\n              width={16}\n              height={16}\n              opacity={this.state.downHighlighted}\n              image={this.state.downImage}\n              onClick={this.downClicked}\n              onTap={this.downClicked}\n            />\n            <Text\n              x={953}\n              y={103}\n              fontSize={16}\n              width={48}\n              align=\"center\"\n              text={this.state.upvotes}\n            />\n            <Text\n              x={1011}\n              y={103}\n              fontSize={16}\n              width={48}\n              align=\"center\"\n              text={this.state.downvotes}\n            />\n          </Layer>\n        </Stage>\n        {this.showResult()}\n        {this.showMemo()}\n        <div style={subText}>\n          <p className=\"ten\">{'덧글 목록'}</p>\n          {this.showComment()}\n          <Form>\n            <Form.Row>\n              <Form.Group as={Col} controlId=\"formGridCity\">\n                <Form.Label>덧글 입력</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  name=\"memo\"\n                  onChange={this.inputHandler}\n                  maxLength={200}\n                />\n              </Form.Group>\n            </Form.Row>\n          </Form>\n        </div>\n        <p style={subText} className=\"ten\">\n          <Button variant=\"primary\" onClick={this.putComment}>\n            {'덧글 등록'}\n          </Button>\n          {'  '}\n          <Button variant=\"success\" onClick={this.getBack}>\n            {'돌아가기'}\n          </Button>\n        </p>\n        <Modal\n          show={this.state.errShow}\n          onHide={this.errorHide}\n          dialogClassName=\"modal-web\"\n          aria-labelledby=\"example-custom-modal-styling-title\"\n        >\n          <Modal.Header>\n            <Modal.Title>{this.state.title_msg}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>{this.state.msg}</Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"primary\" onClick={this.errorHide}>\n              확인\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nlet netX = 0;\n\nfunction getX() {\n  netX += 1;\n  return ((netX - 1) % 5) * (72 + 10);\n}\n\nfunction sort(arr, stars) {\n  let tmp = arr.slice();\n  let dummy = tmp.slice();\n  let res = [];\n  let star = [];\n  //\n  if (stars['fifth']['N'] !== undefined) {\n    star.push(stars['fifth']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['fourth']['N'] !== undefined) {\n    star.push(stars['fourth']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['third']['N'] !== undefined) {\n    star.push(stars['third']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['second']['N'] !== undefined) {\n    star.push(stars['second']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['first']['N'] !== undefined) {\n    star.push(stars['first']['N']);\n  } else {\n    star.push(0);\n  }\n  //\n  for (let i = 0; i < dummy.length; i++) {\n    let max = 0;\n    let slot = '';\n    for (let j = 0; j < tmp.length; j++) {\n      if (max < dist[tmp[j]]) {\n        max = dist[tmp[j]];\n        slot = tmp[j];\n      }\n    }\n    res.push({ char: slot, star: star[i] });\n    tmp.splice(tmp.indexOf(slot), 1);\n  }\n  for (let i = res.length; i < 5; i++) {\n    res.unshift('Empty');\n  }\n  return res;\n}\n","/* ***************** \n*\n* fileName: Match\n* author: Leta\n* latestModified: 2019-07-30\n* Contact: https://github.com/Stdev17\n*\n********************/\n\nimport React from 'react';\nimport {\n  Form,\n  Col,\n  Button,\n  Modal,\n  Pagination\n} from 'react-bootstrap';\nimport {\n  Stage,\n  Layer,\n  Image,\n  Group,\n  Text\n} from 'react-konva';\nimport { Redirect } from 'react-router-dom';\nimport char from '../util/char';\nimport { dist } from '../util/distance.ts';\nimport { getCoord, Yblank } from './Block.tsx';\n\nimport '../css/daum.css';\nimport '../css/mobile.css';\n\nimport { path } from '../util/dummy';\nimport { MobComment } from './MobComment';\n\nvar fileType = require('file-type');\nvar axios = require('axios');\n\nvar fromSearch = false;\nvar searchPath = \"\";\nvar resultImageFile = null;\nvar offset = 1;\nvar max = 1;\nvar unit = 5;\nvar comments = [];\n\nconst topicText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 36,\n  fontColor: '#333333'\n}\n\nconst subText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 28,\n  fontColor: '#333333'\n}\n\nconst smallText = {\n  fontFamily: 'GyeonggiTitleM',\n  fontStyle: 'normal',\n  fontSize: 16,\n  fontColor: '#333333'\n}\n\nexport function setSearchPath(str, f) {\n  searchPath = str;\n  fromSearch = f;\n}\n\nlet scale = 46;\nlet attackDeckX = 88;\nlet defenseDeckX = 88;\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n    let c = this.props.character;\n    this.setCoord = this.setCoord.bind(this);\n    this.state = {\n      image: null,\n      x: getCoord(char.indexOf(c['char'])).XCoord,\n      y: getCoord(char.indexOf(c['char'])).YCoord,\n      star: \"\"\n    };\n  }\n  setCoord() {\n    if (this.props.character === \"Empty\") {\n      this.setState({\n        x: 1100,\n        y: Yblank\n      });\n    } else {\n      let c = this.props.character;\n      this.setState({\n        x: getCoord(char.indexOf(c['char'])).XCoord,\n        y: getCoord(char.indexOf(c['char'])).YCoord\n      });\n    }\n    let s = \"\";\n    for (let i = 0; i < this.props.character['star']; i++) {\n      s += \"★\";\n    }\n    if (this.props.character['star'] < 6) {\n      this.setState({\n        star: s\n      });\n    }\n  }\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"/arenatime/characters.jpg\";\n    this.setCoord();\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState({\n        image: image\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    const newProps = this.props;\n    if(newProps.character !== oldProps.character) {\n      this.setCoord();\n    }\n  }\n  render() {\n    return (\n      <Group>\n      <Image\n      x={this.props.setX+2}\n      y={this.props.setY+2}\n      width={scale}\n      height={scale}\n      image={this.state.image}\n      crop = {{\n        x: this.state.x,\n        y: this.state.y,\n        width: 76,\n        height: 76\n      }}\n      stroke={'black'}\n      strokeWidth={2}\n      />\n      <Text\n      x={this.props.setX+2}\n      y={2+5+scale+this.props.setY}\n      fontSize={10}\n      width={scale+4}\n      align='center'\n      fill={'#aaaa44'}\n      text={this.state.star}\n      />\n      </Group>\n    );\n  }\n}\n\nexport class MobMatch extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getResult = this.getResult.bind(this);\n    this.showResult = this.showResult.bind(this);\n    this.getBack = this.getBack.bind(this);\n    this.showMemo = this.showMemo.bind(this);\n    this.showComment = this.showComment.bind(this);\n    this.inputHandler = this.inputHandler.bind(this);\n    this.putComment = this.putComment.bind(this);\n    this.upClicked = this.upClicked.bind(this);\n    this.downClicked = this.downClicked.bind(this);\n    this.setVotes = this.setVotes.bind(this);\n    this.vote = this.vote.bind(this);\n    this.setComment = this.setComment.bind(this);\n    this.updateOffset = this.updateOffset.bind(this);\n    this.state = {\n      //\n      voting: false,\n      attackImage: null,\n      defenseImage: null,\n      upImage: null,\n      downImage: null,\n      resultImage: null,\n      deleteImage: null,\n      upHighlighted: 0.5,\n      downHighlighted: 0.5,\n      imageWidth: 1124,\n      imageHeight: 632,\n      upvotes: \"\",\n      downvotes: \"\",\n      attackPower: \"\",\n      defensePower: \"\",\n      attackSorted: [],\n      defenseSorted: [],\n      link: false,\n      fire: false,\n      match: {},\n      date: \"\",\n      memo: \"\",\n      title_msg: \"등록 중\",\n      msg: \"잠시만 기다려 주세요.\",\n      errShow: false,\n      comments: []\n    };\n\n    comments = [];\n\n    this.errorShow = () => {\n      this.setState({ errShow: true });\n    };\n\n    this.errorHide = () => {\n      this.setState({ errShow: false });\n    };\n\n    this.checkSize = (w, h) => {\n      let width, height;\n      let ratio = w/h;\n      if (w > 360) {\n        width = 360;\n        height = 360 / ratio;\n      } else {\n        width = w;\n        height = h;\n      }\n      if (height > 204) {\n        height = 204;\n      }\n      this.setState({\n        imageWidth: width,\n        imageHeight: height\n      })\n    };\n  }\n\n  updateOffset(num) {\n    offset = num;\n    comments = [];\n    for (let i = offset*unit-unit; i<offset*unit; i++) {\n      if (i > this.state.comments.length-1) {\n        break;\n      }\n      comments.push(this.state.comments[i]);\n    }\n    this.forceUpdate();\n  }\n\n  inputHandler(e) {\n    let eVal = e.target.value;\n    this.setState({\n      memo: eVal\n    });\n  }\n\n  getBack() {\n    this.setState({\n      link: true\n    });\n  }\n\n  setVotes() {\n    let uv, dv;\n    if (this.state.match['upvotes']['N'] > 99) {\n      uv = \"99+\";\n    } else {\n      uv = this.state.match['upvotes']['N'].toString()\n    }\n    if (this.state.match['downvotes']['N'] > 99) {\n      dv = \"99+\";\n    } else {\n      dv = this.state.match['downvotes']['N'].toString()\n    }\n    this.setState({\n      upvotes: uv,\n      downvotes: dv\n    });\n  }\n\n  getResult() {\n    //\n    this.setState({\n      fire: false\n    });\n    if (searchPath === \"\") {\n      return;\n    }\n    (async _ => {\n      let mPath = path + 'api/get-match';\n      let str = searchPath;\n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        params: str,\n        headers: {\n          \"Accept\": \"application/json\"\n        }\n      });\n      if (res.data.message === 'Getting Item Failed') {\n        searchPath = \"\";\n        return;\n      } else {\n        let msg = res.data.message;        \n        this.setState({\n          match: msg['Item']\n        });\n        if (res.data.vote === 'Upvoted') {\n          this.setState({\n            upHighlighted: 1\n          });\n        } else if (res.data.vote === 'Downvoted') {\n          this.setState({\n            downHighlighted: 1\n          });\n        }\n      }\n      //\n      if (this.state.match['imagePath']['S'] !== 'PlaceHolder') {\n        let sPath = path + 'api/get-image';\n        let str2 = this.state.match['imagePath']['S'];\n        let img = await axios({\n          method: 'get',\n          url: sPath,\n          params: str2\n        });\n        if (img.data.message === 'Getting Image Failed') {\n          //\n          return;\n        } else {\n          resultImageFile = new Buffer(img.data.message.Body.data);\n        }\n      }\n      //\n      const aImage = new window.Image();\n      const dImage = new window.Image();\n      const up = new window.Image();\n      const down = new window.Image();\n      const resImg = new window.Image();\n      const delImg = new window.Image();\n      //\n      let ap = \"\";\n      let dp = \"\";\n      if (this.state.match['attackPower']['N'] > 0) {\n        ap = \"투력 \" + this.state.match['attackPower']['N'].toString();\n        dp = \"투력 \" + this.state.match['defensePower']['N'].toString();\n      }\n      this.setState({\n        attackPower: ap,\n        defensePower: dp\n      });\n      //\n      let attackParty = [];\n      let defenseParty = [];\n      //\n      let attd = this.state.match['attackDeck']['M'];\n      let defd = this.state.match['defenseDeck']['M'];\n      for (let a in attd) {\n        attackParty.push(attd[a]['S']);\n      }\n      for (let d in defd) {\n        defenseParty.push(defd[d]['S']);\n      }\n      //\n      this.setVotes();\n      //\n      let atts = this.state.match['attackStar']['M'];\n      let defs = this.state.match['defenseStar']['M'];\n      this.setState({\n        attackSorted: sort(attackParty.slice(), atts),\n        defenseSorted: sort(defenseParty.slice(), defs)\n      });\n\n      let result = this.state.match['matchResult']['S'];\n      if (result === 'attackWin') {\n        aImage.src = '/arenatime/win.png';\n        dImage.src = '/arenatime/lose.png';\n      } else {\n        aImage.src = '/arenatime/lose.png';\n        dImage.src = '/arenatime/win.png';\n      }\n      up.src = '/arenatime/thumb-up.png';\n      down.src = '/arenatime/thumb-down.png';\n      delImg.src = '/arenatime/cancel.png';\n      //\n      if (this.state.match['imagePath']['S'] !== 'PlaceHolder') {\n        let fileMime = fileType(resultImageFile);\n        if (fileMime.ext === 'png') {\n          resImg.src = 'data:image/png;base64,' + resultImageFile.toString('base64');\n        } else {\n          resImg.src = 'data:image/jpeg;base64,' + resultImageFile.toString('base64');\n        }\n        resImg.onload = () => {\n          this.checkSize(resImg.width, resImg.height);\n          this.setState({\n            resultImage: resImg\n          });\n        };\n      }\n      aImage.onload = () => {\n        this.setState({\n          attackImage: aImage\n        });\n      };\n      dImage.onload = () => {\n        this.setState({\n          defenseImage: dImage\n        });\n      };\n      up.onload = () => {\n        this.setState({\n          upImage: up\n        });\n      };\n      down.onload = () => {\n        this.setState({\n          downImage: down\n        });\n      };\n      delImg.onload = () => {\n        this.setState({\n          deleteImage: delImg\n        });\n      };\n      this.setState({\n        date: (this.state.match['uploadedDate']['S']).replace(/\\s(\\S)+/, \"\")\n      });\n      this.setComment();\n    })();\n  }\n\n\n  showResult() {\n    if (this.state.link) {\n      if (fromSearch) {\n        return <Redirect to='/search'/>\n      } else {\n        return <Redirect to='/part'/>\n      }\n    }\n    if (this.state.match['imagePath']['S'] !== 'PlaceHolder') {\n      return (\n        <div>\n        <p style={subText} className=\"ten\">\n          {'결과 이미지'}\n        </p>\n        <Stage width={400} height={this.state.imageHeight}>\n          <Layer>\n            <Image\n              x={1}\n              y={0}\n              width={this.state.imageWidth}\n              height={this.state.imageHeight}\n              image={this.state.resultImage}\n            />\n          </Layer>\n        </Stage>\n        </div>\n      );\n    }\n  }\n\n  showMemo() {\n    if (this.state.match['memo'] !== undefined) {\n      if (this.state.match['memo']['S'] !== 'PlaceHolder') {\n        return (\n          <div>\n            <p style={subText} className=\"ten\">\n              {'참고사항'}\n            </p>\n            <p style={smallText} className=\"ten\">\n              {this.state.match['memo']['S']}\n            </p>\n          </div>\n        );\n      }\n    }\n    return;\n  }\n\n  checkMatch() {\n\n  }\n\n  deleteMatch() {\n\n  }\n\n  setComment() {\n\n    let str = this.state.match['matchId']['S'];\n    let mPath = path + 'api/get-comment';\n    (async _ => { \n      let res = await axios({\n        method: 'get',\n        url: mPath,\n        params: str,\n        headers: {\n          Accept: \"application/json\"\n        }\n      });\n      if (res.data.message['Items'].length === 0) {\n        return;\n      }\n      this.setState({\n        comments: res.data.message['Items']\n      });\n      comments = [];\n      max = Math.floor((res.data.message['Items'].length-1) / unit) + 1;\n      for (let i = offset*unit-unit; i<offset*unit; i++) {\n        if (i > this.state.comments.length-1) {\n          break;\n        }\n        comments.push(this.state.comments[i]);\n      }\n      this.setState({\n        comments: res.data.message['Items']\n      });\n      this.forceUpdate();\n    })();\n  }\n\n  showComment() {\n    if (comments.length !== 0) {\n      let items = [];\n      for (let num = offset-2; num <= offset+4; num++) {\n        if (num < 1) {\n          continue;\n        }\n        if (num > max || (num > 5 && num > offset+2)) {\n          break;\n        }\n        items.push(\n          <Pagination.Item key={num} active={num === offset} onClick={() => this.updateOffset(num)}>\n            {num}           \n          </Pagination.Item>,\n        );\n      }\n      return (\n        <div>\n        {comments.map((value, index) => {\n            return <MobComment comment={value} setY={this.state.comments.indexOf(value)} matchId={this.state.match['matchId']['S']} key={index}/>\n        })}\n        <Pagination>\n        <Pagination.First onClick={() => {\n          offset = 1;\n          comments = [];\n          for (let i = offset*unit-unit; i<offset*unit; i++) {\n            if (i > this.state.comments.length-1) {\n              break;\n            }\n            comments.push(this.state.comments[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Prev onClick={() => {\n          if (offset > 1) {\n            offset -= 1;\n          }\n          comments = [];\n          for (let i = offset*unit-unit; i<offset*unit; i++) {\n            if (i > this.state.comments.length-1) {\n              break;\n            }\n            comments.push(this.state.comments[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        {items}\n        <Pagination.Next onClick={() => {\n          if (offset < max) {\n            offset += 1;\n          }\n          comments = [];\n          for (let i = offset*unit-unit; i<offset*unit; i++) {\n            if (i > this.state.comments.length-1) {\n              break;\n            }\n            comments.push(this.state.comments[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        <Pagination.Last onClick={() => {\n          offset = max;\n          comments = [];\n          for (let i = offset*unit-unit; i<offset*unit; i++) {\n            if (i > this.state.comments.length-1) {\n              break;\n            }\n            comments.push(this.state.comments[i]);\n          }\n          this.forceUpdate();\n        }}/>\n        </Pagination>\n        </div>\n      );\n    }\n  }\n\n  putComment() {\n    if (this.state.memo !== \"\") {\n      this.doComment('put');\n    } else {\n      this.setState({\n        errShow: true,\n        title_msg: \"등록 실패\",\n        msg: \"덧글을 입력해 주세요.\"\n      });\n    }\n  }\n\n  doComment(param) {\n    if (this.state.voting) {\n      return;\n    }\n    this.setState({\n      voting: true,\n      errShow: true\n    });\n    let dat = {\n      matchId: this.state.match['matchId']['S'],\n      memo: this.state.memo,\n      action: param\n    }\n    let mPath = path + 'api/put-comment';\n    (async _ => { \n      await axios({\n        method: 'put',\n        url: mPath,\n        data: dat,\n        headers: {\n          Accept: \"application/json\"\n        }\n      });\n      this.setState({\n        voting: false,\n        title_msg: \"등록 완료\",\n        msg: \"덧글이 등록되었습니다.\"\n      });\n      this.setComment();\n    })();\n    \n  }\n\n  upClicked() {\n    this.vote(\"up\");\n  }\n\n  downClicked() {\n    this.vote(\"down\");\n  }\n\n  vote(param) {\n    if (this.state.voting) {\n      return;\n    }\n    this.setState({\n      voting: true\n    });\n    let dat = {\n      matchId: this.state.match['matchId']['S'],\n      vote: param\n    }\n    let mPath = path + 'api/vote';\n    (async _ => { \n      let res = await axios({\n        method: 'put',\n        url: mPath,\n        data: dat,\n        headers: {\n          Accept: \"application/json\"\n        }\n      });\n      if (res.data.message === 'Vote Succeeded') {\n        let v = res.data.vote;\n        let m = this.state.match;\n        if (v.up === 'vote') {\n          m['upvotes']['N'] = Number(m['upvotes']['N']) + 1;\n          this.setState({\n            upHighlighted: 1,\n            match: m\n          });\n        } else if (v.up === 'unvote') {\n          m['upvotes']['N'] = Number(m['upvotes']['N']) - 1;\n          this.setState({\n            upHighlighted: 0.5,\n            match: m\n          });\n        }\n        if (v.down === 'vote') {\n          m['downvotes']['N'] = Number(m['downvotes']['N']) + 1;\n          this.setState({\n            downHighlighted: 1,\n            match: m\n          });\n        } else if (v.down === 'unvote') {\n          m['downvotes']['N'] = Number(m['downvotes']['N']) - 1;\n          this.setState({\n            downHighlighted: 0.5,\n            match: m\n          });\n        }\n        this.setState({\n          voting: false\n        });\n        this.setVotes();\n\n      }\n    })();\n  }\n\n  componentDidMount() {\n    this.getResult();\n  }\n\n  componentDidUpdate(oldProps, oldStates) {\n    if (oldStates.fire !== this.state.fire) {\n      this.getResult();\n    }\n  }\n\n  render() {\n    if (searchPath === \"\" || this.state.match['matchId'] === undefined) {\n      return (\n        <div className=\"text\">\n          <h1 style={topicText}>\n            대전 로드 중\n          </h1>\n        <h2 style={subText} className=\"twenty\">\n          잠시만 기다려 주세요.\n        </h2>\n        </div>\n      )\n    }\n    return (\n      <div className=\"text\">\n        <p style={topicText}>\n          {'대전 결과'}\n        </p>\n        <Stage width={400} height={170}>\n        <Layer>\n          {this.state.attackSorted.map((value, index) => {\n            return <Slot character={value} setX={getX()+attackDeckX} setY={0} key={index}/>\n          })}\n          {this.state.defenseSorted.map((value, index) => {\n            return <Slot character={value} setX={getX()+defenseDeckX} setY={66} key={index}/>\n          })}\n        </Layer>\n        <Layer>\n        <Image\n          x={-5}\n          y={6}\n          width={92}\n          height={40}\n          image={this.state.attackImage}\n        />\n        <Image\n          x={-5}\n          y={68}\n          width={92}\n          height={40}\n          image={this.state.defenseImage}\n        />\n        <Text\n          x={-10}\n          y={50}\n          fontSize={14}\n          width={100}\n          align='center'\n          text={this.state.attackPower}\n        />\n        <Text\n          x={-10}\n          y={112}\n          fontSize={14}\n          width={100}\n          align='center'\n          text={this.state.defensePower}\n        />\n        <Text\n          x={20}\n          y={140}\n          fontSize={16}\n          width={160}\n          align='center'\n          text={this.state.date}\n        />\n        <Image\n          x={167}\n          y={136}\n          width={24}\n          height={24}\n          opacity={this.state.upHighlighted}\n          image={this.state.upImage}\n          onClick={this.upClicked}\n          onTap={this.upClicked}\n        />\n        <Image\n          x={228}\n          y={140}\n          width={24}\n          height={24}\n          opacity={this.state.downHighlighted}\n          image={this.state.downImage}\n          onClick={this.downClicked}\n          onTap={this.downClicked}\n        />\n        <Text\n          x={189}\n          y={140}\n          fontSize={16}\n          width={48}\n          align='center'\n          text={this.state.upvotes}\n        />\n        <Text\n          x={247}\n          y={140}\n          fontSize={16}\n          width={48}\n          align='center'\n          text={this.state.downvotes}\n        />\n        </Layer>\n        </Stage>\n        {this.showResult()}\n        {this.showMemo()}\n        <div style={subText}>\n          <p className=\"ten\">\n            {'덧글 목록'}\n          </p>\n        </div>\n        <div style={smallText}>\n          {this.showComment()}\n        </div>\n        <div style={subText}>\n        <Form>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>덧글 입력</Form.Label>\n                <Form.Control as=\"textarea\" name=\"memo\" onChange={this.inputHandler} maxLength={200}/>\n            </Form.Group>\n          </Form.Row>\n        </Form>\n        </div>\n        <p style={subText} className=\"ten\">\n          <Button variant='primary' onClick={this.putComment}>\n            {'덧글 등록'}\n          </Button>\n          {\"  \"}\n          <Button variant='success' onClick={this.getBack}>\n            {'돌아가기'}\n          </Button>\n        </p>\n        <Modal\n          show={this.state.errShow}\n          onHide={this.errorHide}\n          dialogClassName=\"modal-mobile\"\n          aria-labelledby=\"example-custom-modal-styling-title\"\n        >\n\n            <Modal.Header>\n              <Modal.Title>\n                {this.state.title_msg}\n              </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              {this.state.msg}\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"primary\" onClick={this.errorHide}>확인</Button>\n            </Modal.Footer>\n\n        </Modal>\n      </div>\n    );\n  }\n}\n\n\nlet netX = 0;\n\nfunction getX() {\n  netX += 1;\n  return (((netX-1) % 5) * (46+8));\n}\n\nfunction sort(arr, stars) {\n  let tmp = arr.slice();\n  let dummy = tmp.slice();\n  let res = [];\n  let star = [];\n  //\n  if (stars['fifth']['N'] !== undefined) {\n    star.push(stars['fifth']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['fourth']['N'] !== undefined) {\n    star.push(stars['fourth']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['third']['N'] !== undefined) {\n    star.push(stars['third']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['second']['N'] !== undefined) {\n    star.push(stars['second']['N']);\n  } else {\n    star.push(0);\n  }\n  if (stars['first']['N'] !== undefined) {\n    star.push(stars['first']['N']);\n  } else {\n    star.push(0);\n  }\n  //\n  for (let i=0; i < dummy.length; i++) {\n    let max = 0;\n    let slot = \"\";\n    for (let j=0; j < tmp.length; j++) {\n      if (max < dist[tmp[j]]) {\n        max = dist[tmp[j]];\n        slot = tmp[j];\n      }\n    }\n    res.push({'char': slot, 'star': star[i]});\n    tmp.splice(tmp.indexOf(slot), 1);\n  }\n  for (let i=res.length; i<5; i++) {\n    res.unshift(\"Empty\");\n  }\n  return res;\n}","\"use strict\";\nexports.__esModule = true;\nvar prime = require('nth-prime');\nvar primeChar = {\n    //Front Line\n    Rima: prime(1),\n    Miyako: prime(2),\n    Kuuka: prime(3),\n    Jyun: prime(4),\n    OedoKuuka: prime(5),\n    Kaori: prime(6),\n    NewRei: prime(7),\n    Pekorinne: prime(8),\n    Ruka: prime(9),\n    Nozomi: prime(10),\n    Muimi: prime(11),\n    Makoto: prime(12),\n    NewHiyori: prime(13),\n    OedoNinon: prime(14),\n    Akino: prime(15),\n    Matsuri: prime(16),\n    ValentineEriko: prime(17),\n    ChristmasAyane: prime(18),\n    Tsumugi: prime(19),\n    Hiyori: prime(20),\n    Misogi: prime(21),\n    Ayane: prime(22),\n    Tamaki: prime(23),\n    Tomo: prime(24),\n    SummerTamaki: prime(25),\n    Eriko: prime(26),\n    SummerPekorinne: prime(27),\n    Kurumi: prime(28),\n    Djeeta: prime(29),\n    Rei: prime(30),\n    Shizuru: prime(31),\n    Christina: prime(32),\n    ChristmasKurumi: prime(33),\n    //Middle Line\n    Mimi: prime(34),\n    Shinobu: prime(35),\n    ValentineShizuru: prime(36),\n    Mahiru: prime(37),\n    Yukari: prime(38),\n    Monika: prime(39),\n    Ninon: prime(40),\n    Mifuyu: prime(41),\n    Ilya: prime(42),\n    Saren: prime(43),\n    Anna: prime(44),\n    HalloweenShinobu: prime(45),\n    SummerMifuyu: prime(46),\n    Kokkoro: prime(47),\n    Ayumi: prime(48),\n    Glare: prime(49),\n    SummerKokkoro: prime(50),\n    Rem: prime(51),\n    Ram: prime(52),\n    Rin: prime(53),\n    Mitsuki: prime(54),\n    Akari: prime(55),\n    Yori: prime(56),\n    HalloweenMiyako: prime(57),\n    //Back Line\n    Arisa: prime(58),\n    Ann: prime(59),\n    Rou: prime(60),\n    Rino: prime(61),\n    Suzuna: prime(62),\n    SummerSuzuna: prime(63),\n    Shiori: prime(64),\n    Io: prime(65),\n    SummerIo: prime(66),\n    Suzume: prime(67),\n    Emilia: prime(68),\n    Kasumi: prime(69),\n    Misato: prime(70),\n    Nanaka: prime(71),\n    NewYui: prime(72),\n    Kyaru: prime(73),\n    Hatsune: prime(74),\n    Misaki: prime(75),\n    ChristmasChika: prime(76),\n    SummerSuzume: prime(77),\n    SummerKyaru: prime(78),\n    Aoi: prime(79),\n    Chika: prime(80),\n    Maho: prime(81),\n    Yui: prime(82),\n    Yuki: prime(83),\n    Kyouka: prime(84),\n    HalloweenMisaki: prime(85),\n    //additional char\n    SummerSaren: prime(86),\n    SummerKaori: prime(87),\n    SummerMakoto: prime(88),\n    SummerMaho: prime(89),\n    Neneka: prime(90)\n};\nexports[\"default\"] = primeChar;\n","import * as React from 'react';\nimport { Image } from 'react-konva';\n\nimport char from '../util/char';\n\ninterface coord {\n  XCoord: number;\n  YCoord: number;\n}\n\ninterface IBlockProps {\n  scale: number;\n  character: string;\n  setX: number;\n  setY: number;\n  party: string[] | any;\n}\n\ninterface IBlockState {\n  scale: number;\n  image: any;\n  x: number;\n  y: number;\n  str: number;\n  opacity: number;\n}\n\nexport const Yblank = 1064;\n\nexport class Block extends React.Component<IBlockProps, IBlockState> {\n  constructor(props: any) {\n    super(props);\n    this.ClickChar = this.ClickChar.bind(this);\n    let c: string = this.props.character;\n\n    this.state = {\n      scale: this.props.scale,\n      image: null,\n      x: getCoord(char.indexOf(c)).XCoord,\n      y: getCoord(char.indexOf(c)).YCoord,\n      str: 0,\n      opacity: 0.5,\n    };\n  }\n  componentDidMount() {\n    const image = new (window as any).Image();\n\n    image.src = '/arenatime/characters.jpg';\n\n    image.onload = () => {\n      // setState will redraw layer\n      // because \"image\" property is changed\n      this.setState(\n        {\n          image: image,\n        } /*,\n      () => {\n        this.state.image.cache();\n        this.state.image.getLayer().draw();\n      }*/,\n      );\n    };\n    let p = this.props.party;\n    if (p.includes(this.props.character)) {\n      this.setState({\n        str: 4,\n        opacity: 1,\n      });\n    }\n  }\n\n  componentDidUpdate(oldProps: any) {\n    let newProps = this.props;\n    if (this.state.str === 4 && newProps.party.length === 0) {\n      this.setState({\n        str: 0,\n        opacity: 0.5,\n      });\n      return;\n    }\n    if (this.state.str === 0 && newProps.party.includes(this.props.character)) {\n      this.setState({\n        str: 4,\n        opacity: 1,\n      });\n      return;\n    }\n  }\n  ClickChar() {\n    let p = this.props.party;\n    if (p.includes(this.props.character)) {\n      p.splice(p.indexOf(this.props.character), 1);\n      this.setState({\n        str: 0,\n        opacity: 0.5,\n      });\n    } else if (p.length < 5) {\n      p.push(this.props.character);\n      this.setState({\n        str: 4,\n        opacity: 1,\n      });\n    }\n  }\n  render() {\n    return (\n      <Image\n        x={this.props.setX + 8}\n        y={this.props.setY + 5}\n        width={this.props.scale}\n        height={this.props.scale}\n        image={this.state.image}\n        opacity={this.state.opacity}\n        crop={{\n          x: this.state.x,\n          y: this.state.y,\n          width: 76,\n          height: 76,\n        }}\n        stroke={'#bb3333'}\n        strokeWidth={this.state.str}\n        onClick={this.ClickChar}\n        onTap={this.ClickChar}\n      />\n    );\n  }\n}\n\nexport function getCoord(num: number) {\n  let x: number = ((num - 1) % 8) * 76 * 2;\n  let y: number = (Math.floor((num - 1) / 8) % 14) * 76;\n  let res: coord = { XCoord: x, YCoord: y };\n  return res;\n}\n"],"sourceRoot":""}